function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return l}));var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function a(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var s=n("qOnz"),u=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),c=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new s.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(h){}try{for(var r=i(this.instancesDeferred.entries()),a=r.next();!a.done;a=r.next()){var s=o(a.value,2),u=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return t=this,n=function(){var t;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(a(a([],o(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),o(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{s(n.next(t))}catch(e){i(e)}}function a(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,a)}s((n=n.apply(t,[])).next())}));var t,e,n},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,a=t.options,s=void 0===a?{}:a,u=this.normalizeInstanceIdentifier(void 0===r?"[DEFAULT]":r);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var l=i(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=o(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new c(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(u((function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}]),t}(),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new o.a(this,e,n),a=this.destination;a.add(i);var s=Object(r.a)(this,t,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,o){var a;switch(_classCallCheck(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t,r,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,s){var u,c;_classCallCheck(this,n),(u=e.call(this))._parentSubscriber=t;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[u.a](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},D5Hz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmailJSResponseStatus=e.sendForm=e.send=e.init=void 0;var r=n("MkV5");Object.defineProperty(e,"EmailJSResponseStatus",{enumerable:!0,get:function(){return r.EmailJSResponseStatus}});var i=n("USkh"),o=null,a="https://api.emailjs.com";function s(t,e,n){return void 0===n&&(n={}),new Promise((function(i,o){var a=new XMLHttpRequest;for(var s in a.addEventListener("load",(function(t){var e=new r.EmailJSResponseStatus(t.target);200===e.status||"OK"===e.text?i(e):o(e)})),a.addEventListener("error",(function(t){o(new r.EmailJSResponseStatus(t.target))})),a.open("POST",t,!0),n)a.setRequestHeader(s,n[s]);a.send(e)}))}function u(t){var e=document&&document.getElementById("g-recaptcha-response");return e&&e.value&&(t["g-recaptcha-response"]=e.value),e=null,t}function c(t,e){o=t,a=e||"https://api.emailjs.com"}function l(t,e,n,r){var i={lib_version:"2.6.4",user_id:r||o,service_id:t,template_id:e,template_params:u(n)};return s(a+"/api/v1.0/email/send",JSON.stringify(i),{"Content-type":"application/json"})}function h(t,e,n,r){var u;if("string"==typeof n&&(n=document.querySelector("#"!==(u=n)[0]&&"."!==u[0]?"#"+u:u)),!n||"FORM"!==n.nodeName)throw"Expected the HTML form element or the style selector of form";i.UI.progressState(n);var c=new FormData(n);return c.append("lib_version","2.6.4"),c.append("service_id",t),c.append("template_id",e),c.append("user_id",r||o),s(a+"/api/v1.0/email/send-form",c).then((function(t){return i.UI.successState(n),t}),(function(t){return i.UI.errorState(n),Promise.reject(t)}))}e.init=c,e.send=l,e.sendForm=h,e.default={init:c,send:l,sendForm:h}},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(u.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new r(t)},r);function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.4.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},MkV5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmailJSResponseStatus=void 0,e.EmailJSResponseStatus=function(t){this.status=t.status,this.text=t.responseText}},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},USkh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UI=void 0;var r=function(){function t(){}return t.clearAll=function(t){t.classList.remove(this.PROGRESS),t.classList.remove(this.DONE),t.classList.remove(this.ERROR)},t.progressState=function(t){this.clearAll(t),t.classList.add(this.PROGRESS)},t.successState=function(t){t.classList.remove(this.PROGRESS),t.classList.add(this.DONE)},t.errorState=function(t){t.classList.remove(this.PROGRESS),t.classList.add(this.ERROR)},t.PROGRESS="emailjs-sending",t.DONE="emailjs-success",t.ERROR="emailjs-error",t}();e.UI=r},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new h(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new h(t,e)},t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(t,e,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(t,n,a);if(!s.closed)return e instanceof o.a?e.subscribe(s):Object(i.a)(e)(s)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return vo})),n.d(e,"b",(function(){return Hs})),n.d(e,"c",(function(){return Ls})),n.d(e,"d",(function(){return js})),n.d(e,"e",(function(){return Ms})),n.d(e,"f",(function(){return Pu})),n.d(e,"g",(function(){return Su})),n.d(e,"h",(function(){return Xi})),n.d(e,"i",(function(){return $s})),n.d(e,"j",(function(){return Ea})),n.d(e,"k",(function(){return Gs})),n.d(e,"l",(function(){return Ia})),n.d(e,"m",(function(){return mn})),n.d(e,"n",(function(){return bs})),n.d(e,"o",(function(){return et})),n.d(e,"p",(function(){return m})),n.d(e,"q",(function(){return tt})),n.d(e,"r",(function(){return po})),n.d(e,"s",(function(){return Ga})),n.d(e,"t",(function(){return Ka})),n.d(e,"u",(function(){return zs})),n.d(e,"v",(function(){return pt})),n.d(e,"w",(function(){return Iu})),n.d(e,"x",(function(){return dt})),n.d(e,"y",(function(){return mu})),n.d(e,"z",(function(){return ru})),n.d(e,"A",(function(){return b})),n.d(e,"B",(function(){return qs})),n.d(e,"C",(function(){return Us})),n.d(e,"D",(function(){return xa})),n.d(e,"E",(function(){return Oa})),n.d(e,"F",(function(){return Aa})),n.d(e,"G",(function(){return Da})),n.d(e,"H",(function(){return or})),n.d(e,"I",(function(){return w})),n.d(e,"J",(function(){return Au})),n.d(e,"K",(function(){return Za})),n.d(e,"L",(function(){return hu})),n.d(e,"M",(function(){return Pa})),n.d(e,"N",(function(){return Ra})),n.d(e,"O",(function(){return Ja})),n.d(e,"P",(function(){return wt})),n.d(e,"Q",(function(){return ko})),n.d(e,"R",(function(){return bu})),n.d(e,"S",(function(){return Mn})),n.d(e,"T",(function(){return F})),n.d(e,"U",(function(){return jn})),n.d(e,"V",(function(){return Du})),n.d(e,"W",(function(){return du})),n.d(e,"X",(function(){return Bs})),n.d(e,"Y",(function(){return $i})),n.d(e,"Z",(function(){return ps})),n.d(e,"ab",(function(){return rr})),n.d(e,"bb",(function(){return ur})),n.d(e,"cb",(function(){return Un})),n.d(e,"db",(function(){return In})),n.d(e,"eb",(function(){return On})),n.d(e,"fb",(function(){return Dn})),n.d(e,"gb",(function(){return xn})),n.d(e,"hb",(function(){return An})),n.d(e,"ib",(function(){return Nn})),n.d(e,"jb",(function(){return ls})),n.d(e,"kb",(function(){return Nu})),n.d(e,"lb",(function(){return hs})),n.d(e,"mb",(function(){return fs})),n.d(e,"nb",(function(){return Tn})),n.d(e,"ob",(function(){return K})),n.d(e,"pb",(function(){return So})),n.d(e,"qb",(function(){return Uo})),n.d(e,"rb",(function(){return Vo})),n.d(e,"sb",(function(){return Co})),n.d(e,"tb",(function(){return cs})),n.d(e,"ub",(function(){return Gt})),n.d(e,"vb",(function(){return j})),n.d(e,"wb",(function(){return En})),n.d(e,"xb",(function(){return aa})),n.d(e,"yb",(function(){return fa})),n.d(e,"zb",(function(){return Ca})),n.d(e,"Ab",(function(){return Or})),n.d(e,"Bb",(function(){return To})),n.d(e,"Cb",(function(){return Zo})),n.d(e,"Db",(function(){return Ns})),n.d(e,"Eb",(function(){return Et})),n.d(e,"Fb",(function(){return Dt})),n.d(e,"Gb",(function(){return E})),n.d(e,"Hb",(function(){return I})),n.d(e,"Ib",(function(){return At})),n.d(e,"Jb",(function(){return Rt})),n.d(e,"Kb",(function(){return xo})),n.d(e,"Lb",(function(){return Lo})),n.d(e,"Mb",(function(){return Mo})),n.d(e,"Nb",(function(){return jo})),n.d(e,"Ob",(function(){return Fo})),n.d(e,"Pb",(function(){return pn})),n.d(e,"Qb",(function(){return ia})),n.d(e,"Rb",(function(){return ct})),n.d(e,"Sb",(function(){return No})),n.d(e,"Tb",(function(){return Ps})),n.d(e,"Ub",(function(){return Do})),n.d(e,"Vb",(function(){return qo})),n.d(e,"Wb",(function(){return Ds})),n.d(e,"Xb",(function(){return zo})),n.d(e,"Yb",(function(){return Ro})),n.d(e,"Zb",(function(){return Go})),n.d(e,"ac",(function(){return Ko})),n.d(e,"bc",(function(){return xs})),n.d(e,"cc",(function(){return ce})),n.d(e,"dc",(function(){return cr})),n.d(e,"ec",(function(){return xt})),n.d(e,"fc",(function(){return Ao})),n.d(e,"gc",(function(){return ea})),n.d(e,"hc",(function(){return na})),n.d(e,"ic",(function(){return ra}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("7o/Q");function u(){return function(t){return t.lift(new l(t))}}var c,l=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new h(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(s.a),f=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new i.a).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}},{key:"refCount",value:function(){return u()(this)}}]),n}(o.a),d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(c=f.prototype)._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(r.b);function v(){return new r.a}function y(t){return{toString:t}.toString()}function g(t,e,n){return y((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var m=g("Inject",(function(t){return{token:t}})),b=g("Optional"),_=g("Self"),w=g("SkipSelf"),C=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function k(t){for(var e in t)if(t[e]===k)return e;throw Error("Could not find renamed property on target object.")}function S(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function T(t){return O(t,t[x])||O(t,t[R])}function O(t,e){return e&&e.token===t?e:null}function A(t){return t&&(t.hasOwnProperty(N)||t.hasOwnProperty(P))?t[N]:null}var x=k({"\u0275prov":k}),N=k({"\u0275inj":k}),D=k({"\u0275provFallback":k}),R=k({ngInjectableDef:k}),P=k({ngInjectorDef:k});function j(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(j).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function M(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var L=k({__forward_ref__:k});function F(t){return t.__forward_ref__=F,t.toString=function(){return j(this())},t}function V(t){return U(t)?t():t}function U(t){return"function"==typeof t&&t.hasOwnProperty(L)&&t.__forward_ref__===F}var q,H="undefined"!=typeof globalThis&&globalThis,B="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G="undefined"!=typeof global&&global,K=H||G||B||z,W=k({"\u0275cmp":k}),Q=k({"\u0275dir":k}),Y=k({"\u0275pipe":k}),Z=k({"\u0275mod":k}),X=k({"\u0275loc":k}),J=k({"\u0275fac":k}),$=k({__NG_ELEMENT_ID__:k}),tt=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),et=new tt("INJECTOR",-1),nt={},rt=/\n/gm,it=k({provide:String,useValue:k}),ot=void 0;function at(t){var e=ot;return ot=t,e}function st(t){var e=q;return q=t,e}function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Default;if(void 0===ot)throw new Error("inject() must be called from an injection context");return null===ot?lt(t,void 0,e):ot.get(t,e&C.Optional?null:void 0,e)}function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Default;return(q||ut)(V(t),e)}function lt(t,e,n){var r=T(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&C.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(j(t),"]"))}function ht(t){for(var e=[],n=0;n<t.length;n++){var r=V(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=C.Default,a=0;a<r.length;a++){var s=r[a];s instanceof b||"Optional"===s.ngMetadataName||s===b?o|=C.Optional:s instanceof w||"SkipSelf"===s.ngMetadataName||s===w?o|=C.SkipSelf:s instanceof _||"Self"===s.ngMetadataName||s===_?o|=C.Self:i=s instanceof m||s===m?s.token:s}e.push(ct(i,o))}else e.push(ct(r))}return e}var ft=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt;if(e===nt){var n=new Error("NullInjectorError: No provider for ".concat(j(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),dt=function t(){_classCallCheck(this,t)},pt=function t(){_classCallCheck(this,t)};function vt(t,e){t.forEach((function(t){return Array.isArray(t)?vt(t,e):e(t)}))}function yt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mt(t,e){var n=bt(t,e);if(n>=0)return t[1|n]}function bt(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var _t=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),wt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Ct={},kt=[],St=0;function Et(t){return y((function(){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===_t.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||wt.Emulated,id:"c",styles:t.styles||kt,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,a=t.features,s=t.pipes;return i.id+=St++,i.inputs=Nt(t.inputs,r),i.outputs=Nt(t.outputs),a&&a.forEach((function(t){return t(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(It)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(Tt)}:null,i}))}function It(t){return Pt(t)||function(t){return t[Q]||null}(t)}function Tt(t){return function(t){return t[Y]||null}(t)}var Ot={};function At(t){var e={type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&y((function(){Ot[t.id]=t.type})),e}function xt(t,e){return y((function(){var n=Mt(t,!0);n.declarations=e.declarations||kt,n.imports=e.imports||kt,n.exports=e.exports||kt}))}function Nt(t,e){if(null==t)return Ct;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var Dt=Et;function Rt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pt(t){return t[W]||null}function jt(t,e){return t.hasOwnProperty(J)?t[J]:null}function Mt(t,e){var n=t[Z]||null;if(!n&&!0===e)throw new Error("Type ".concat(j(t)," does not have '\u0275mod' property."));return n}function Lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ft(t){return Array.isArray(t)&&!0===t[1]}function Vt(t){return 0!=(8&t.flags)}function Ut(t){return 2==(2&t.flags)}function qt(t){return 1==(1&t.flags)}function Ht(t){return null!==t.template}function Bt(t){return 0!=(512&t[2])}var zt=void 0;function Gt(t){zt=t}function Kt(t){return!!t.listen}var Wt={createRenderer:function(t,e){return void 0!==zt?zt:"undefined"!=typeof document?document:void 0}};function Qt(t){for(;Array.isArray(t);)t=t[0];return t}function Yt(t,e){return Qt(e[t+20])}function Zt(t,e){return Qt(e[t.index])}function Xt(t,e){return t.data[e+20]}function Jt(t,e){var n=e[t];return Lt(n)?n:n[0]}function $t(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function te(t){return 4==(4&t[2])}function ee(t){return 128==(128&t[2])}function ne(t,e){return null===t||null==e?null:t[e]}function re(t){t[18]=0}function ie(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var oe={lFrame:ke(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ae(){return oe.bindingsEnabled}function se(){return oe.lFrame.lView}function ue(){return oe.lFrame.tView}function ce(t){oe.lFrame.contextLView=t}function le(){return oe.lFrame.previousOrParentTNode}function he(t,e){oe.lFrame.previousOrParentTNode=t,oe.lFrame.isParent=e}function fe(){return oe.lFrame.isParent}function de(){return oe.checkNoChangesMode}function pe(t){oe.checkNoChangesMode=t}function ve(){return oe.lFrame.bindingIndex++}function ye(t,e){var n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,ge(e)}function ge(t){oe.lFrame.currentDirectiveIndex=t}function me(){return oe.lFrame.currentQueryIndex}function be(t){oe.lFrame.currentQueryIndex=t}function _e(t,e){var n=Ce();oe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function we(t,e){var n=Ce(),r=t[1];oe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ce(){var t=oe.lFrame,e=null===t?null:t.child;return null===e?ke(t):e}function ke(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Se(){var t=oe.lFrame;return oe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var Ee=Se;function Ie(){var t=Se();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Te(){return oe.lFrame.selectedIndex}function Oe(t){oe.lFrame.selectedIndex=t}function Ae(){var t=oe.lFrame;return Xt(t.tView,t.selectedIndex)}function xe(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function Ne(t,e,n){Pe(t,e,3,n)}function De(t,e,n,r){(3&t[2])===n&&Pe(t,e,n,r)}function Re(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Pe(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(je(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function je(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Me=function t(e,n,r){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Le(t,e,n){for(var r=Kt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Ve(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Fe(t){return 3===t||4===t||6===t}function Ve(t){return 64===t.charCodeAt(0)}function Ue(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||qe(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function qe(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function He(t){return-1!==t}function Be(t){return 32767&t}function ze(t){return t>>16}function Ge(t,e){for(var n=ze(t),r=e;n>0;)r=r[15],n--;return r}function Ke(t){return"string"==typeof t?t:null==t?"":""+t}function We(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ke(t)}var Qe=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(K);function Ye(t){return t instanceof Function?t():t}var Ze=!0;function Xe(t){var e=Ze;return Ze=t,e}var Je=0;function $e(t,e){var n=en(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,tn(r.data,t),tn(e,null),tn(r.blueprint,null));var i=nn(t,e),o=t.injectorIndex;if(He(i))for(var a=Be(i),s=Ge(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function tn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function en(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function nn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function rn(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[$]:n.charCodeAt(0)||0;null==r&&(r=n[$]=Je++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e,n)}function on(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[$];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){_e(e,t);try{var a=o();if(null!=a||r&C.Optional)return a;throw new Error("No provider for ".concat(We(n),"!"))}finally{Ee()}}else if("number"==typeof o){if(-1===o)return new fn(t,e);var s=null,u=en(t,e),c=-1,l=r&C.Host?e[16][6]:null;for((-1===u||r&C.SkipSelf)&&(c=-1===u?nn(t,e):e[u+8],hn(r,!1)?(s=e[1],u=Be(c),e=Ge(c,e)):u=-1);-1!==u;){c=e[u+8];var h=e[1];if(ln(o,u,h.data)){var f=sn(u,e,n,s,r,l);if(f!==an)return f}hn(r,e[1].data[u+8]===l)&&ln(o,u,e)?(s=h,u=Be(c),e=Ge(c,e)):u=-1}}}if(r&C.Optional&&void 0===i&&(i=null),0==(r&(C.Self|C.Host))){var d=e[9],p=st(void 0);try{return d?d.get(n,i,r&C.Optional):lt(n,i,r&C.Optional)}finally{st(p)}}if(r&C.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(We(n),"]"))}var an={};function sn(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=un(s,a,n,null==r?Ut(s)&&Ze:r!=a&&3===s.type,i&C.Host&&o===s);return null!==u?cn(e,a,u,s):an}function un(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=65535&o,u=t.directiveStart,c=o>>16,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Ht(d)&&d.type===n)return u}return null}function cn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Me){var a=i;if(a.resolving)throw new Error("Circular dep for "+We(o[n]));var s,u=Xe(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=st(a.injectImpl)),_e(t,r);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{a.injectImpl&&st(s),Xe(u),a.resolving=!1,Ee()}}return i}function ln(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function hn(t,e){return!(t&C.Self||t&C.Host&&e)}var fn=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return on(this._tNode,this._lView,t,void 0,e)}}]),t}();function dn(t){var e=t;if(U(t))return function(){var t=dn(V(e));return t?t():null};var n=jt(e);if(null===n){var r=A(e);n=r&&r.factory}return n||null}function pn(t){return y((function(){for(var e=t.prototype.constructor,n=e[J]||dn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[J]||dn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}}))}function vn(t){return t.ngDebugContext}function yn(t){return t.ngOriginalError}function gn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var mn=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||gn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?vn(t)?vn(t):this._findContext(yn(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=yn(t);e&&yn(e);)e=yn(e);return e}}]),t}(),bn=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),_n=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(bn),wn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(bn),Cn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(bn),kn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(bn),Sn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(bn);function En(t){return t instanceof bn?t.changingThisBreaksApplicationSecurity:t}function In(t,e){var n=Tn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function Tn(t){return t instanceof bn&&t.getTypeName()||null}function On(t){return new _n(t)}function An(t){return new wn(t)}function xn(t){return new Cn(t)}function Nn(t){return new kn(t)}function Dn(t){return new Sn(t)}var Rn=!0,Pn=!1;function jn(){return Pn=!0,Rn}function Mn(){if(Pn)throw new Error("Cannot enable prod mode after platform setup.");Rn=!1}var Ln=function(){function t(e){_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),Fn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Vn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Un(t){return(t=String(t)).match(Fn)||t.match(Vn)?t:(jn()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function qn(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Hn(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var Bn,zn=qn("area,br,col,hr,img,wbr"),Gn=qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kn=qn("rp,rt"),Wn=Hn(Kn,Gn),Qn=Hn(zn,Hn(Gn,qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hn(Kn,qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wn),Yn=qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zn=qn("srcset"),Xn=Hn(Yn,Zn,qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jn=qn("script,style,template"),$n=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!Qn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Jn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(Xn.hasOwnProperty(s)){var u=o.value;Yn[s]&&(u=Un(u)),Zn[s]&&(n=u,u=(n=String(n)).split(",").map((function(t){return Un(t.trim())})).join(", ")),this.buf.push(" ",a,'="',nr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();Qn.hasOwnProperty(e)&&!zn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(nr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),tr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,er=/([^\#-~ |!])/g;function nr(t){return t.replace(/&/g,"&amp;").replace(tr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(er,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function rr(t,e){var n=null;try{Bn=Bn||new Ln(t);var r=e?String(e):"";n=Bn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Bn.getInertBodyElement(r)}while(r!==o);var a=new $n,s=a.sanitizeChildren(ir(n)||n);return jn()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=ir(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function ir(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var or=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),ar=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),sr=/^url\(([^)]+)\)$/;function ur(t){if(!(t=String(t).trim()))return"";var e=t.match(sr);return e&&Un(e[1])===e[1]||t.match(ar)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(jn()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}function cr(t){var e,n=(e=se())&&e[12];return n?n.sanitize(or.URL,t)||"":In(t,"URL")?En(t):Un(Ke(t))}function lr(t,e){t.__ngContext__=e}function hr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function fr(){throw new Error("Cannot mix multi providers and regular providers")}function dr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function pr(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==dr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function vr(t){return 0===t.type&&"ng-template"!==t.tagName}function yr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function gr(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Fe(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!yr(t,u,n)||""===u&&1===e.length){if(mr(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!pr(t.attrs,c,n)){if(mr(r))return!1;a=!0}continue}var l=br(8&r?"class":u,i,vr(t),n);if(-1===l){if(mr(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==dr(f,c,0)||2&r&&c!==h){if(mr(r))return!1;a=!0}}}}else{if(!a&&!mr(r)&&!mr(u))return!1;if(a&&mr(u))continue;a=!1,r=u|1&r}}return mr(r)||a}function mr(t){return 0==(1&t)}function br(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function _r(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(gr(t,e[r],n))return!0;return!1}function wr(t,e){return t?":not("+e.trim()+")":e}function Cr(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||mr(a)||(e+=wr(o,i),i=""),r=a,o=o||!mr(r);n++}return""!==i&&(e+=wr(o,i)),e}var kr={};function Sr(t){var e=t[3];return Ft(e)?e[3]:e}function Er(t){return Tr(t[13])}function Ir(t){return Tr(t[4])}function Tr(t){for(;null!==t&&!Ft(t);)t=t[4];return t}function Or(t){Ar(ue(),se(),Te()+t,de())}function Ar(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Ne(e,i,n)}else{var o=t.preOrderHooks;null!==o&&De(e,o,0,n)}Oe(n)}function xr(t,e){return t<<17|e<<2}function Nr(t){return t>>17&32767}function Dr(t){return 2|t}function Rr(t){return(131068&t)>>2}function Pr(t,e){return-131069&t|e<<2}function jr(t){return 1|t}function Mr(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];be(i),a.contentQueries(2,e[o],o)}}}function Lr(t,e,n){return Kt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Fr(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,re(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Vr(t,e,n,r,i,o){var a=n+20,s=t.data[a]||function(t,e,n,r,i,o){var a=le(),s=fe(),u=s?a:a&&a.parent,c=t.data[n]=Qr(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(t,e,a,r,i,o);return he(s,!0),s}function Ur(t,e,n){we(e,e[6]);try{var r=t.viewQuery;null!==r&&yi(1,r,n);var i=t.template;null!==i&&Br(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Mr(t,e),t.staticViewQueries&&yi(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)hi(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Ie()}}function qr(t,e,n,r){var i=e[2];if(256!=(256&i)){we(e,e[6]);var o=de();try{re(e),oe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Br(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Ne(e,s,null)}else{var u=t.preOrderHooks;null!==u&&De(e,u,0,null),Re(e,0)}if(function(t){for(var e=Er(t);null!==e;e=Ir(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&ie(o,1),i[2]|=1024}}(e),function(t){for(var e=Er(t);null!==e;e=Ir(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];ee(r)&&qr(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Mr(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Ne(e,c)}else{var l=t.contentHooks;null!==l&&De(e,l,1),Re(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(Oe(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(ye(r,i),a(2,e[i])),i++)}}finally{Oe(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)li(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&yi(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Ne(e,d)}else{var p=t.viewHooks;null!==p&&De(e,p,2),Re(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ie(e[3],-1))}finally{Ie()}}}function Hr(t,e,n,r){var i=e[10],o=!de(),a=te(e);try{o&&!a&&i.begin&&i.begin(),a&&Ur(t,e,r),qr(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Br(t,e,n,r,i){var o=Te();try{Oe(-1),2&r&&e.length>20&&Ar(t,e,0,de()),n(r,i)}finally{Oe(o)}}function zr(t,e,n){ae()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||$e(n,e),lr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=Ht(u);c&&ai(e,n,u);var l=cn(e,t,s,n);lr(l,e),null!==a&&si(0,s-i,l,u,0,a),c&&(Jt(n.index,e)[8]=l)}}(t,e,n,Zt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstCreatePass,s=n.index-20,u=oe.lFrame.currentDirectiveIndex;try{Oe(s);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];ge(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?ti(l,h):a&&o.push(null)}}finally{Oe(-1),ge(u)}}(t,e,n))}function Gr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Kr(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Wr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Wr(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:kr);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Qr(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Yr(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Zr(t,e,n,r,i,o,a,s){var u,c,l=Zt(e,n),h=e.inputs;!s&&null!=h&&(u=h[r])?(wi(t,n,u,r,i),Ut(e)&&function(t,e){var n=Jt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.tagName||"",r):i,Kt(o)?o.setProperty(l,r,i):Ve(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Xr(t,e,n,r){var i=!1;if(ae()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];_r(n,a.selectors,!1)&&(i||(i=[]),rn($e(n,e),t,a.type),Ht(a)?(2&n.flags&&hr(n),ni(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,ii(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}ei(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Ue(n.mergedAttrs,d.hostAttrs),oi(t,e,d),ri(t.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),Jr(t,d),s+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||vr(e)?null:ui(l,i);o.push(h),a=Yr(l,u,a),s=Yr(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n),$r(t,e,s)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Ue(n.mergedAttrs,n.attrs),i}function Jr(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function $r(t,e,n){for(var r=0;r<n;r++)e.push(kr),t.blueprint.push(kr),t.data.push(null)}function ti(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ei(t,e,n){var r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ni(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ri(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function ii(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function oi(t,e,n){t.data.push(n);var r=n.factory||(n.factory=jt(n.type)),i=new Me(r,Ht(n),null);t.blueprint.push(i),e.push(i)}function ai(t,e,n){var r=Zt(e,t),i=Kr(n),o=t[10],a=fi(t,Fr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=a}function si(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function ui(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ci(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function li(t,e){var n=Jt(e,t);if(ee(n)){var r=n[1];80&n[2]?qr(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=Er(e);null!==n;n=Ir(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];qr(o,i,o.template,i[8])}else i[5]>0&&t(i)}var a=e[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=Jt(a[s],e);ee(u)&&u[5]>0&&t(u)}}(n)}}function hi(t,e){var n=Jt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ur(r,n,n[8])}function fi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function di(t){for(;t;){t[2]|=64;var e=Sr(t);if(Bt(t)&&!e)return t;t=e}return null}function pi(t,e,n){var r=e[10];r.begin&&r.begin();try{qr(t,e,t.template,n)}catch(i){throw _i(e,i),i}finally{r.end&&r.end()}}function vi(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=$t(n),i=r[1];Hr(i,r,i.template,n)}}(t[8])}function yi(t,e,n){be(0),e(t,n)}var gi=Promise.resolve(null);function mi(t){return t[7]||(t[7]=[])}function bi(t){return t.cleanup||(t.cleanup=[])}function _i(t,e){var n=t[9],r=n?n.get(mn,null):null;r&&r.handleError(e)}function wi(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Ci(t,e){var n=e[3];return-1===t.index?Ft(n)?n:null:n}function ki(t,e){var n=Ci(t,e);return n?Pi(e[11],n[7]):null}function Si(t,e,n,r,i){if(null!=r){var o,a=!1;Ft(r)?o=r:Lt(r)&&(a=!0,r=r[0]);var s=Qt(r);0===t&&null!==n?null==i?Di(e,n,s):Ni(e,n,s,i||null):1===t&&null!==n?Ni(e,n,s,i||null):2===t?function(t,e,n){var r=Pi(t,e);r&&function(t,e,n,r){Kt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Qt(n)&&Si(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Fi(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Ei(t,e,n,r){var i=ki(t.node,e);i&&Fi(t,e,e[11],n?1:2,i,r)}function Ii(t,e){var n=t[9],r=n.indexOf(e);1024&e[2]&&ie(e[3],-1),n.splice(r,1)}function Ti(t,e){if(!(t.length<=10)){var n=10+e,r=t[n];if(r){var i=r[17];null!==i&&i!==t&&Ii(i,r),e>0&&(t[n-1][4]=r[4]);var o=gt(t,10+e);Ei(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Oi(t,e){if(!(256&e[2])){var n=e[11];Kt(n)&&n.destroyNode&&Fi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return xi(t[1],t);for(;e;){var n=null;if(Lt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Lt(e)&&xi(e[1],e),e=Ai(e,t);null===e&&(e=t),Lt(e)&&xi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ai(t,e){var n;return Lt(t)&&(n=t[6])&&2===n.type?Ci(n,t):t[3]===e?null:t[3]}function xi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Me)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(e):Qt(e[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&Kt(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&Ft(e[3])){r!==e[3]&&Ii(r,e);var i=e[19];null!==i&&i.detachView(t)}}}function Ni(t,e,n,r){Kt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Di(t,e,n){Kt(t)?t.appendChild(e,n):e.appendChild(n)}function Ri(t,e,n,r){null!==r?Ni(t,e,n,r):Di(t,e,n)}function Pi(t,e){return Kt(t)?t.parentNode(e):e.parentNode}function ji(t,e,n,r){var i=function(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var i=n[6];return 2===i.type?ki(i,n):n[0]}if(e&&5===e.type&&4&e.flags)return Zt(e,n).parentNode;if(2&r.flags){var o=t.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==wt.ShadowDom&&a!==wt.Native)return null}return Zt(r,n)}(t,r,e);if(null!=i){var o=e[11],a=function(t,e){if(2===t.type){var n=Ci(t,e);return null===n?null:Mi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Zt(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)Ri(o,i,n[s],a);else Ri(o,i,n,a)}}function Mi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return Zt(n,e);if(0===r)return Mi(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return Ft(o)?Mi(-1,o):Qt(o)}var a=e[16],s=a[6],u=Sr(a),c=s.projection[n.projection];return null!=c?t(u,c):t(e,n.next)}return null}(r,i)}return e[7]}function Li(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===e&&(s&&lr(Qt(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Li(t,e,n.child,r,i,o,!1),Si(e,t,i,s,o)):1===u?Vi(t,e,r,n,i,o):Si(e,t,i,s,o)),n=a?n.projectionNext:n.next}}function Fi(t,e,n,r,i,o){Li(n,r,t.node.child,e,i,o,!1)}function Vi(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Si(e,t,i,s[u],o);else Li(t,e,s,a[3],i,o,!0)}function Ui(t,e,n){Kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function qi(t,e,n){Kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var Hi,Bi,zi,Gi=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(t,[{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Qt(a)),Ft(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var l=r.type;if(4===l||5===l)t(e,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=Sr(h);t(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Oi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r;e=this._lView[1],r=t,mi(n=this._lView).push(r),e.firstCreatePass&&bi(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){di(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){pi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){pe(!0);try{pi(t,e,n)}finally{pe(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Fi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),Ki=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t))._view=t,r}return _createClass(n,[{key:"detectChanges",value:function(){vi(this._view)}},{key:"checkNoChanges",value:function(){!function(t){pe(!0);try{vi(t)}finally{pe(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Gi);function Wi(t,e,n){return Hi||(Hi=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(t)),new Hi(Zt(e,n))}function Qi(t,e,n,r){return Bi||(Bi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Fr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ur(e,n,t),new Gi(n)}}]),n}(t)),0===n.type?new Bi(r,n,Wi(e,n,r)):null}function Yi(t,e,n,r){var i;zi||(zi=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,e,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return _createClass(r,[{key:"element",get:function(){return Wi(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new fn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=nn(this._hostTNode,this._hostView),e=Ge(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=ze(t),a=e,s=e[6];o>1;)s=(a=a[15])[6],o--;return s}(t,this._hostView,this._hostTNode);return He(t)&&null!=n?new fn(n,e):new fn(null,this._hostView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(dt,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ft(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new zi(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e);return function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],yt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,this._lContainer,s),Ei(r,n,!0,Mi(s,this._lContainer)),t.attachToViewContainerRef(this),yt(this._lContainer[8],s,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);!function(t,e){var n=Ti(t,e);n&&Oi(n[1],n)}(this._lContainer,e),gt(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Ti(this._lContainer,e);return n&&null!=gt(this._lContainer[8],e)?new Gi(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}}]),r}(t));var o=r[n.index];if(Ft(o))i=o;else{var a;if(4===n.type)a=Qt(o);else if(a=r[11].createComment(""),Bt(r)){var s=r[11],u=Zt(n,r);Ni(s,Pi(s,u),a,function(t,e){return Kt(t)?t.nextSibling(e):e.nextSibling}(s,u))}else ji(r[1],r,a,n);r[n.index]=i=ci(o,r,a,n),fi(r,i)}return new zi(i,n,r)}function Zi(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Ut(t)){var r=Jt(t.index,e);return new Gi(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Gi(e[16],e):null}(le(),se(),t)}var Xi=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ji()},t}(),Ji=Zi,$i=new tt("Set Injector scope."),to={},eo={},no=[],ro=void 0;function io(){return void 0===ro&&(ro=new ft),ro}function oo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new ao(t,n,e||io(),r)}var ao=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&vt(n,(function(t){return i.processProvider(t,e,n)})),vt([e],(function(t){return i.processInjectorType(t,[],a)})),this.records.set(et,co(void 0,this));var s=this.records.get($i);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:j(e))}return _createClass(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.Default;this.assertNotDestroyed();var r,i=at(this);try{if(!(n&C.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof tt)&&T(t);o=a&&this.injectableDefInScope(a)?co(so(t),to):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&C.Self?io():this.parent).get(t,e=n&C.Optional&&e===nt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(j(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=j(e);if(Array.isArray(e))i=e.map(j).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):j(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(rt,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{at(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(j(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=V(t)))return!1;var i=A(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=A(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{vt(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;vt(i,(function(t){return r.processProvider(t,n,i||no)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,co(i.factory,to));var h=i.providers;if(null!=h&&!s){var f=t;vt(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=ho(t=V(t))?t:V(t&&t.provide),i=function(t,e,n){return lo(t)?co(void 0,t.useValue):co(uo(t,e,n),to)}(t,e,n);if(ho(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&fr()}else{var a=this.records.get(r);a?void 0===a.multi&&fr():((a=co(void 0,to,!0)).factory=function(){return ht(a.multi)},this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===eo?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(j(t)):e.value===to&&(e.value=eo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function so(t){var e=T(t),n=null!==e?e.factory:jt(t);if(null!==n)return n;var r=A(t);if(null!==r)return r.factory;if(t instanceof tt)throw new Error("Token ".concat(j(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(j(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[x]||t[R]||t[D]&&t[D]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function uo(t,e,n){var r,i=void 0;if(ho(t)){var o=V(t);return jt(o)||so(o)}if(lo(t))i=function(){return V(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,_toConsumableArray(ht(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return ct(V(t.useExisting))};else{var a=V(t&&(t.useClass||t.provide));if(a||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(j(t),"'")+r)}(e,n,t),!function(t){return!!t.deps}(t))return jt(a)||so(a);i=function(){return _construct(a,_toConsumableArray(ht(t.deps)))}}return i}function co(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function lo(t){return null!==t&&"object"==typeof t&&it in t}function ho(t){return"function"==typeof t}var fo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=oo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},po=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?fo(t,e,""):fo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=nt,t.NULL=new ft,t.\u0275prov=E({token:t,providedIn:"any",factory:function(){return ct(et)}}),t.__NG_ELEMENT_ID__=-1,t}(),vo=new tt("AnalyzeForEntryComponents"),yo=new Map,go=new Set;function mo(t){return"string"==typeof t?t:t.text()}function bo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=M(i,s):2==o&&(r=M(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var _o=null;function wo(){if(!_o){var t=K.Symbol;if(t&&t.iterator)_o=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(_o=r)}}return _o}function Co(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var ko=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function So(t){return!!Eo(t)&&(Array.isArray(t)||!(t instanceof Map)&&wo()in t)}function Eo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Io(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function To(t,e,n,r){var i=se();return Io(i,ve(),e)&&(ue(),function(t,e,n,r,i,o){var a=Zt(t,e),s=e[11];if(null==r)Kt(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?Ke(r):i(r,t.tagName||"",n);Kt(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(Ae(),i,t,e,n,r)),To}function Oo(t,e,n,r){return Io(t,ve(),n)?e+Ke(n)+r:kr}function Ao(t,e,n,r,i,o,a,s){var u=se(),c=ue(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Vr(e,n[6],t,0,a||null,ne(c,s));Xr(e,n,l,ne(c,u)),xe(e,l);var h=l.tViews=Wr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Qr(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,a):c.data[l];he(h,!1);var f=u[11].createComment("");ji(c,u,f,h),lr(f,u),fi(u,u[l]=ci(f,u,f,h)),qt(h)&&zr(c,u,h),null!=a&&Gr(u,h,s)}function xo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Default,n=se();return null==n?ct(t,e):on(le(),n,V(t),e)}function No(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Fe(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(le(),t)}function Do(){throw new Error("invalid")}function Ro(t,e,n){var r=se();return Io(r,ve(),e)&&Zr(ue(),Ae(),r,t,e,r[11],n,!1),Ro}function Po(t,e,n,r,i){var o=i?"class":"style";wi(t,n,e.inputs[o],o,r)}function jo(t,e,n,r){var i=se(),o=ue(),a=20+t,s=i[11],u=i[a]=Lr(e,s,oe.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=ne(s,o),c=Vr(e,n[6],t,3,i,u);return Xr(e,n,c,ne(s,a)),null!==c.attrs&&bo(c,c.attrs,!1),null!==c.mergedAttrs&&bo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[a];he(c,!0);var l=c.mergedAttrs;null!==l&&Le(s,u,l);var h=c.classes;null!==h&&qi(s,u,h);var f=c.styles;null!==f&&Ui(s,u,f),ji(o,i,u,c),0===oe.lFrame.elementDepthCount&&lr(u,i),oe.lFrame.elementDepthCount++,qt(c)&&(zr(o,i,c),function(t,e,n){if(Vt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&Gr(i,c)}function Mo(){var t=le();fe()?oe.lFrame.isParent=!1:he(t=t.parent,!1);var e=t;oe.lFrame.elementDepthCount--;var n=ue();n.firstCreatePass&&(xe(n,t),Vt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Po(n,e,se(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Po(n,e,se(),e.stylesWithoutHost,!1)}function Lo(t,e,n,r){jo(t,e,n,r),Mo()}function Fo(){return se()}function Vo(t){return!!t&&"function"==typeof t.then}function Uo(t){return!!t&&"function"==typeof t.subscribe}function qo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=se(),o=ue(),a=le();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=qt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=mi(e),h=!0;if(3===r.type){var f=Zt(r,e),d=s?s(f):Ct,p=d.target||f,v=l.length,y=s?function(t){return s(Qt(t[r.index])).target}:r.index;if(Kt(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=Bo(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=Bo(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}var b,_=r.outputs;if(h&&null!==_&&(b=_[i])){var w=b.length;if(w)for(var C=0;C<w;C+=2){var k=e[b[C]][b[C+1]].subscribe(o),S=l.length;l.push(o,k),c&&c.push(i,r.index,S,-(S+1))}}}(o,i,i[11],a,t,e,n,r),qo}function Ho(t,e,n){try{return!1!==e(n)}catch(r){return _i(t,r),!1}}function Bo(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?Jt(t.index,e):e;0==(32&e[2])&&di(a);for(var s=Ho(e,n,o),u=i.__ngNextListenerFn__;u;)s=Ho(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function zo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(oe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,oe.lFrame.contextLView))[8]}(t)}function Go(t,e,n){return Ko(t,"",e,"",n),Go}function Ko(t,e,n,r,i){var o=se(),a=Oo(o,e,n,r);return a!==kr&&Zr(ue(),Ae(),o,t,a,o[11],i,!1),Ko}var Wo=[];function Qo(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Nr(o):Rr(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];Yo(t[s],e)&&(u=!0,t[s+1]=r?jr(c):Dr(c)),s=r?Nr(c):Rr(c)}u&&(t[n+1]=r?Dr(o):jr(o))}function Yo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bt(t,e)>=0}function Zo(t,e){return function(t,e,n,r){var i,o,a,s=se(),u=ue(),c=(i=oe.lFrame,o=i.bindingIndex,i.bindingIndex=i.bindingIndex+2,o);(u.firstUpdatePass&&function(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Te()+20],a=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=oe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Jo(n=Xo(null,t,e,n,!0),e.attrs,!0),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Xo(i,t,e,n,!0),null===o){var s=function(t,e,n){var r=e.classBindings;if(0!==Rr(r))return t[Nr(r)]}(t,e);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Nr(e.classBindings)]=r}(t,e,0,s=Jo(s=Xo(null,t,e,s[1],!0),e.attrs,!0))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Jo(r,t[o].hostAttrs,!0);return Jo(r,e.attrs,!0)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e),function(t,e,n,r,i,o){var a=e.classBindings,s=Nr(a),u=Rr(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||bt(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Nr(t[s+1]);t[r+1]=xr(f,s),0!==f&&(t[f+1]=Pr(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=xr(s,0),0!==s&&(t[s+1]=Pr(t[s+1],r)),s=r;else t[r+1]=xr(u,0),0===s?s=r:t[u+1]=Pr(t[u+1],r),u=r;l&&(t[r+1]=Dr(t[r+1])),Qo(t,c,r,!0),Qo(t,c,r,!1),function(t,e,n,r,i){var o=t.residualClasses;null!=o&&"string"==typeof e&&bt(o,e)>=0&&(n[r+1]=jr(n[r+1]))}(e,c,t,r),a=xr(s,u),e.classBindings=a}(i,o,e,n,a)}}(u,t,c),e!==kr&&Io(s,c,e))&&(null==n&&(a=function(){var t=oe.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),function(t,e,n,r,i,o,a,s){if(3===e.type){var u=t.data,c=u[s+1];ta(1==(1&c)?$o(u,e,n,i,Rr(c),!0):void 0)||(ta(o)||2==(2&c)&&(o=$o(u,null,n,i,s,!0)),function(t,e,n,r,i){var o=Kt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Yt(Te(),n),i,o))}}(u,u.data[Te()+20],s,s[11],t,s[c+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=j(En(t)))),t}(e,n),0,c))}(t,e,null),Zo}function Xo(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Jo(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Jo(t,e,n){var r,i,o,a,s=n?1:2,u=-1;if(null!==e)for(var c=0;c<e.length;c++){var l=e[c];"number"==typeof l?u=l:u===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),r=t,i=l,o=!!n||e[++c],a=void 0,(a=bt(r,i))>=0?r[1|a]=o:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(r,a=~a,i,o))}return void 0===t?null:t}function $o(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===kr&&(f=h?Wo:void 0);var d=h?mt(f,r):l===r?f:void 0;if(c&&!ta(d)&&(d=mt(u,r)),ta(d)&&(s=d,a))return s;var p=t[i+1];i=a?Nr(p):Rr(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=mt(v,r))}return s}function ta(t){return void 0!==t}function ea(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=se(),r=ue(),i=t+20,o=r.firstCreatePass?Vr(r,n[6],t,3,null,null):r.data[i],a=n[i]=function(t,e){return Kt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);ji(r,n,a,o),he(o,!1)}function na(t){return ra("",t,""),na}function ra(t,e,n){var r=se(),i=Oo(r,t,e,n);return i!==kr&&function(t,e,n){var r=Yt(e,t),i=t[11];Kt(i)?i.setValue(r,n):r.textContent=n}(r,Te(),i),ra}function ia(t,e,n){var r=se();return Io(r,ve(),e)&&Zr(ue(),Ae(),r,t,e,r[11],n,!0),ia}function oa(t,e){var n=$t(t)[1],r=n.data.length-1;xe(n,{directiveStart:r,directiveEnd:r+1})}function aa(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=sa(t.inputs),o.declaredInputs=sa(t.declaredInputs),o.outputs=sa(t.outputs);var a=i.hostBindings;a&&la(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&ua(t,s),u&&ca(t,u),S(t.inputs,i.inputs),S(t.declaredInputs,i.declaredInputs),S(t.outputs,i.outputs),Ht(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=t.afterContentInit||i.afterContentInit,o.afterViewChecked=t.afterViewChecked||i.afterViewChecked,o.afterViewInit=t.afterViewInit||i.afterViewInit,o.doCheck=t.doCheck||i.doCheck,o.onDestroy=t.onDestroy||i.onDestroy,o.onInit=t.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===aa&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ue(i.hostAttrs,n=Ue(n,i.hostAttrs))}}(r)}function sa(t){return t===Ct?{}:t===kt?[]:t}function ua(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function ca(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function la(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var ha=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function fa(t){t.type.prototype.ngOnChanges&&(t.setInput=da,t.onChanges=function(){var t=pa(this),e=t&&t.current;if(e){var n=t.previous;if(n===Ct)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function da(t,e,n,r){var i=pa(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Ct,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new ha(u&&u.currentValue,e,a===Ct),t[r]=e}function pa(t){return t.__ngSimpleChanges__||null}function va(t,e,n,r,i){if(t=V(t),Array.isArray(t))for(var o=0;o<t.length;o++)va(t[o],e,n,r,i);else{var a=ue(),s=se(),u=ho(t)?t:V(t.provide),c=uo(t),l=le(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(ho(t)||!t.multi){var p=new Me(c,i,xo),v=ma(u,e,i?h:h+d,f);-1===v?(rn($e(l,s),a,u),ya(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=ma(u,e,h+d,f),g=ma(u,e,h,h+d),m=y>=0&&n[y],b=g>=0&&n[g];if(i&&!b||!i&&!m){rn($e(l,s),a,u);var _=function(t,e,n,r,i){var o=new Me(t,n,xo);return o.multi=[],o.index=e,o.componentProviders=0,ga(o,i,r&&!n),o}(i?_a:ba,n.length,i,r,c);!i&&b&&(n[g].providerFactory=_),ya(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(_),s.push(_)}else ya(a,t,y>-1?y:g,ga(n[i?g:y],c,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function ya(t,e,n,r){var i=ho(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function ga(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ma(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function ba(t,e,n,r){return wa(this.multi,[])}function _a(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=cn(n,n[1],this.providerFactory.index,r);wa(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else wa(o,i=[]);return i}function wa(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ca(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=ue();if(r.firstCreatePass){var i=Ht(t);va(n,r.data,r.blueprint,i,!0),va(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}fa.ngInherit=!0;var ka=function t(){_classCallCheck(this,t)},Sa=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(j(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Ea=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new Sa,t}(),Ia=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Ta(t)},t}(),Ta=function(t){return Wi(t,le(),se())},Oa=function t(){_classCallCheck(this,t)},Aa=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),xa=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Na()},t}(),Na=function(){var t=se(),e=Jt(le().index,t);return function(t){var e=t[11];if(Kt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Lt(e)?e:t)},Da=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=E({token:t,providedIn:"root",factory:function(){return null}}),t}(),Ra=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Pa=new Ra("9.1.13"),ja=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return So(t)}},{key:"create",value:function(t){return new La(t)}}]),t}(),Ma=function(t,e){return e},La=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ma}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<qa(n,r,i)?e:n,a=qa(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!So(t))throw new Error("Error trying to diff '".concat(j(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Co(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Co(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[wo()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Co(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Co(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Co(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Co(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Fa(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ua),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ua),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),Fa=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Va=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Co(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Ua=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Va,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function qa(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Ha=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||Eo(t)}},{key:"create",value:function(){return new Ba}}]),t}(),Ba=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Eo(t)))throw new Error("Error trying to diff '".concat(j(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new za(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Co(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}}]),t}(),za=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Ga=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}}]),t}();return t.\u0275prov=E({token:t,providedIn:"root",factory:function(){return new t([new ja])}}),t}(),Ka=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}}]),t}();return t.\u0275prov=E({token:t,providedIn:"root",factory:function(){return new t([new Ha])}}),t}(),Wa=[new Ha],Qa=new Ga([new ja]),Ya=new Ka(Wa),Za=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Xa(t,Ia)},t}(),Xa=function(t,e){return Qi(t,e,le(),se())},Ja=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return $a(t,Ia)},t}(),$a=function(t,e){return Yi(t,e,le(),se())},ts={},es=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).ngModule=t,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=Pt(t);return new is(e,this.ngModule)}}]),n}(Ea);function ns(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var rs=new tt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Qe}}),is=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Cr).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"inputs",get:function(){return ns(this.componentDef.inputs)}},{key:"outputs",get:function(){return ns(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,ts,i);return o!==ts||r===ts?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(Oa,Wt),u=a.get(Da,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Kt(t))return t.selectRootElement(e,n===wt.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Lr(l,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Qe,clean:gi,playerHandler:null,flags:0},v=Wr(0,-1,null,1,0,null,null,null,null,null),y=Fr(null,v,p,f,null,null,s,c,u,a);we(y,null);try{var g=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Vr(a,null,0,3,null,null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(bo(s,u,!0),null!==t&&(Le(i,t,u),null!==s.classes&&qi(i,t,s.classes),null!==s.styles&&Ui(i,t,s.styles)));var c=r.createRenderer(t,e),l=Fr(n,Kr(e),null,e.onPush?64:16,n[20],s,r,c,void 0);return a.firstCreatePass&&(rn($e(s,n),a,e.type),ni(a,s),ii(s,n.length,1)),fi(n,l),n[20]=l}(h,this.componentDef,y,s,c);if(h)if(n)Le(c,h,["ng-version",Pa.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!mr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),b=m.attrs,_=m.classes;b&&Le(c,h,b),_&&_.length>0&&qi(c,h,_.join(" "))}if(o=Xt(v,0),void 0!==e)for(var w=o.projection=[],C=0;C<this.ngContentSelectors.length;C++){var k=e[C];w.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=le();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ei(t,r,1),oi(t,e,n));var i=cn(e,t,e.length-1,r);lr(i,e);var o=Zt(r,e);return o&&lr(o,e),i}(o,n,e);r.components.push(a),t[8]=a,i&&i.forEach((function(t){return t(a,e)})),e.contentQueries&&e.contentQueries(1,a,n.length-1);var s=le();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Oe(s.index-20);var u=n[1];Jr(u,e),$r(u,n,e.hostVars),ti(e,a)}return a}(g,this.componentDef,y,p,[oa]),Ur(v,y,null)}finally{Ie()}var S=new os(this.componentType,i,Wi(Ia,o,y),y,o);return n&&!d||(v.node.child=o),S}}]),n}(ka),os=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s,u,c,l;return _classCallCheck(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new Ki(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=Qr(0,null,2,-1,null,null)),c[6]=l,s.componentType=t,s}return _createClass(n,[{key:"injector",get:function(){return new fn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),as=void 0,ss=["en",[["a","p"],["AM","PM"],as],[["AM","PM"],as,as],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],as,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],as,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",as,"{1} 'at' {0}",as],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],us={};function cs(t,e,n){"string"!=typeof e&&(n=e,e=t[ps.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),us[e]=t,n&&(us[e][ps.ExtraData]=n)}function ls(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ds(e);if(n)return n;var r=e.split("-")[0];if(n=ds(r))return n;if("en"===r)return ss;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function hs(t){return ls(t)[ps.CurrencyCode]||null}function fs(t){return ls(t)[ps.PluralCase]}function ds(t){return t in us||(us[t]=K.ng&&K.ng.common&&K.ng.common.locales&&K.ng.common.locales[t]),us[t]}var ps=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function vs(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var ys=new Map,gs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new es(_assertThisInitialized(i));var o=Mt(t),a=t[X]||null;return a&&vs(a),i._bootstrapComponents=Ye(o.bootstrap),i._r3Injector=oo(t,r,[{provide:dt,useValue:_assertThisInitialized(i)},{provide:Ea,useValue:i.componentFactoryResolver}],j(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:po.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.Default;return t===po||t===dt||t===et?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(dt),ms=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).moduleType=t,null!==Mt(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(j(e)," vs ").concat(j(e.name)))})(n,ys.get(n),e),ys.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return _createClass(n,[{key:"create",value:function(t){return new gs(this.moduleType,t)}}]),n}(pt),bs=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var o,a=function(t){return null},s=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(a=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(a=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return t instanceof i.a&&t.add(u),u}}]),n}(r.a);function _s(){return this._results[wo()]()}var ws=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new bs,this.length=0;var e=wo(),n=t.prototype;n[e]||(n[e]=_s)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Cs=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),ks=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Rs(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Ss=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},Es=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Is=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Ts(e,n[r]));else{var i=this.metadata.predicate;i===Za?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,un(e,t,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Ia||r===Ja||r===Za&&0===e.type)this.addMatch(e.index,-2);else{var i=un(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Ts(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Os(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Wi(Ia,t,e):0===t.type?Qi(Za,Ia,t,e):null}(e,t):-2===n?function(t,e,n){return n===Ia?Wi(Ia,e,t):n===Za?Qi(Za,Ia,e,t):n===Ja?Yi(Ja,Ia,e,t):void 0}(t,e,r):cn(t,t[1],n,e)}function As(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Os(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function xs(t){var e=se(),n=ue(),r=me();be(r+1);var i=Rs(n,r);if(t.dirty&&te(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=As(e,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&t(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var y=p[v];t(y[1],y,l,i)}}}return i}(n,e,r,[]):As(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ns(t,e,n,r){!function(t,e,n,r,i,o,a,s){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Es),t.queries.track(new Is(e,n))}(t,new Ss(n,r,!1,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s)),function(t,e){var n=new ws;!function(t,e,n,r){var i=mi(e);i.push(n),t.firstCreatePass&&bi(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new ks),e[19].queries.push(new Cs(n))}(t,e)}(ue(),se(),e,n,r,0,le(),t)}function Ds(){return t=se(),e=me(),t[19].queries[e].queryList;var t,e}function Rs(t,e){return t.queries.getByIndex(e)}function Ps(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.Default,e=Zi(!0);if(null!=e||t&C.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}var js=new tt("Application Initializer"),Ms=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Vo(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(js,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),Ls=new tt("AppId"),Fs={provide:Ls,useFactory:function(){return"".concat(Vs()).concat(Vs()).concat(Vs())},deps:[]};function Vs(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Us=new tt("Platform Initializer"),qs=new tt("Platform ID"),Hs=new tt("appBootstrapListener"),Bs=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),zs=new tt("LocaleId"),Gs=new tt("DefaultCurrencyCode"),Ks=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},Ws=function(t){return new ms(t)},Qs=Ws,Ys=function(t){return Promise.resolve(Ws(t))},Zs=function(t){var e=Ws(t),n=Ye(Mt(t).declarations).reduce((function(t,e){var n=Pt(e);return n&&t.push(new is(n)),t}),[]);return new Ks(e,n)},Xs=Zs,Js=function(t){return Promise.resolve(Zs(t))},$s=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=Qs,this.compileModuleAsync=Ys,this.compileModuleAndAllComponentsSync=Xs,this.compileModuleAndAllComponentsAsync=Js}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),tu=new tt("compilerOptions"),eu=Promise.resolve(0);function nu(t){"undefined"==typeof Zone?eu.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var ru=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bs(!1),this.onMicrotaskEmpty=new bs(!1),this.onStable=new bs(!1),this.onError=new bs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=K.requestAnimationFrame,e=K.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(K,(function(){t.lastRequestAnimationFrameId=-1,su(t),au(t)})),su(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,a,s){try{return uu(n),t.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),cu(n)}},onInvoke:function(t,e,r,i,o,a,s){try{return uu(n),t.invoke(r,i,o,a,s)}finally{cu(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,su(n),au(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ou,iu,iu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function iu(){}var ou={};function au(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function su(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function uu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function cu(t){t._nesting--,au(t)}var lu=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bs,this.onMicrotaskEmpty=new bs,this.onStable=new bs,this.onError=new bs}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),hu=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){ru.assertNotInAngularZone(),nu((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())nu((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(ru))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),fu=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,vu.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return vu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}();function du(t){vu=t}var pu,vu=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),yu=function(t,e,n){var r=t.get(tu,[]).concat(e),i=new ms(n);if(0===yo.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(t){return t.providers})),a=[],o.forEach((function(t){return t&&a.push.apply(a,_toConsumableArray(t))})),a);if(0===s.length)return Promise.resolve(i);var u=function(){var t=K.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),c=po.create({providers:s}).get(u.ResourceLoader);return function(t){var e=[],n=new Map;function r(t){var e=n.get(t);if(!e){var r=function(t){return Promise.resolve(c.get(t))}(t);n.set(t,e=r.then(mo))}return e}return yo.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,a=t.styles||(t.styles=[]),s=t.styles.length;o&&o.forEach((function(e,n){a.push(""),i.push(r(e).then((function(r){a[s+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(t){go.delete(t)}(n)}));e.push(u)})),yo=new Map,Promise.all(e).then((function(){}))}().then((function(){return i}))},gu=new tt("AllowMultipleToken"),mu=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function bu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new tt(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=_u();if(!o||o.injector.get(gu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:$i,useValue:"platform"});!function(t){if(pu&&!pu.destroyed&&!pu.injector.get(gu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");pu=t.get(wu);var e=t.get(Us,null);e&&e.forEach((function(t){return t()}))}(po.create({providers:a,name:r}))}return function(t){var e=_u();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function _u(){return pu&&!pu.destroyed?pu:null}var wu=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new lu:("zone.js"===n?void 0:n)||new ru({enableLongStackTrace:jn(),shouldCoalesceEventChangeDetection:r})),a=[{provide:ru,useValue:o}];return o.run((function(){var e=po.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(mn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Eu(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(Ms)).runInitializers(),a.donePromise.then((function(){return vs(n.injector.get(zs,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Vo(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Cu({},n);return yu(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Su);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(j(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(po))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}();function Cu(t,e){return Array.isArray(e)?e.reduce(Cu,t):Object.assign(Object.assign({},t),e)}var ku,Su=((ku=function(){function t(e,n,r,i,s,c){var l=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=jn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){t.next(l._stable),t.complete()}))})),f=new o.a((function(t){var e;l._zone.runOutsideAngular((function(){e=l._zone.onStable.subscribe((function(){ru.assertNotInAngularZone(),nu((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){ru.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,f.pipe((function(t){return u()((e=v,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof ka?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(dt),o=n.create(po.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(hu,null);return a&&o.injector.get(fu).registerApplication(o.location.nativeElement,a),this._loadComponent(o),jn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Eu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Hs,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Eu(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||ku)(ct(ru),ct(Bs),ct(po),ct(mn),ct(Ea),ct(Ms))},ku.\u0275prov=E({token:ku,factory:ku.\u0275fac}),ku);function Eu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Iu=function t(){_classCallCheck(this,t)},Tu=function t(){_classCallCheck(this,t)},Ou={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Au=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||Ou}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return xu(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return xu(t,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct($s),ct(Tu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}();function xu(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Nu=function(t){return null},Du=bu(null,"core",[{provide:qs,useValue:"unknown"},{provide:wu,deps:[po]},{provide:fu,deps:[]},{provide:Bs,deps:[]}]),Ru=[{provide:Su,useClass:Su,deps:[ru,Bs,po,mn,Ea,Ms]},{provide:rs,deps:[ru],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:Ms,useClass:Ms,deps:[[new b,js]]},{provide:$s,useClass:$s,deps:[]},Fs,{provide:Ga,useFactory:function(){return Qa},deps:[]},{provide:Ka,useFactory:function(){return Ya},deps:[]},{provide:zs,useFactory:function(t){return vs(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new m(zs),new b,new w]]},{provide:Gs,useValue:"USD"}],Pu=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=At({type:t}),t.\u0275inj=I({factory:function(e){return new(e||t)(ct(Su))},providers:Ru}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a((function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return h}));var r,i=n("7o/Q"),o=n("EY2u"),a=n("LRne"),s=n("HDdC"),u=((r=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(a.a)(this.value);case"E":return t=this.error,new s.a((function(e){return e.error(t)}));case"C":return Object(o.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(t,e))}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.scheduler,this.delay))}}]),t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new f(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(u.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(i.a),f=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return s})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return d})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return u})),n.d(e,"n",(function(){return c})),n.d(e,"o",(function(){return f})),n.d(e,"p",(function(){return v}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var t=s();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return s().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?m(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new y(i,s,r);return u},t}();function m(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function k(){}function S(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(s.a)(r))try{r.call(this)}catch(p){e=p instanceof u?l(p.errors):[p]}if(Object(o.a)(i))for(var h=-1,f=i.length;++h<f;){var d=i[h];if(Object(a.a)(d))try{d.unsubscribe()}catch(p){e=e||[],p instanceof u?e=e.concat(l(p.errors)):e.push(p)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce((function(t,e){return t.concat(e instanceof u?e.errors:e)}),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return S})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return C}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),f=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),d=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=e.run((function(){return new h(Zone.current,i.a)}))};function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(a.a)(t.outsideAngular),Object(s.b)(t.insideAngular))}}var v=["ngOnDestroy"],y=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(v.indexOf(o)>-1)return function(){};var a=e.toPromise().then((function(t){var e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then((function(t){return n.run((function(){return t}))})):n.run((function(){return e}))}));return new Proxy((function(){}),{get:function(t,e){return a[e]},apply:function(t,e,n){return a.then((function(t){var e,i=t&&t.apply(void 0,_toConsumableArray(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},g=function(t,e){e.forEach((function(e){Object.getOwnPropertyNames(e.prototype||e).forEach((function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))}))}))},m=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=new u.N("6.1.4");function w(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter((function(t){return t&&t.name===i.name}))[0]||n.runOutsideAngular((function(){return c.a.initializeApp(e,i)}));try{JSON.stringify(e)!==JSON.stringify(o.options)&&k("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var C=function(){k("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},k=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.U)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function S(e,n,r,i,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(e)||[]),s=a[0],u=a.slice(1);if(s){try{o.some((function(t,e){var n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n}))&&k("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return s}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var E={provide:function t(){_classCallCheck(this,t)},useFactory:w,deps:[m,u.z,[new u.A,b]]},I=function(){var t=function(){function t(e){_classCallCheck(this,t),c.a.registerVersion("angularfire",_.full,e.toString()),c.a.registerVersion("angular",u.M.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}]),t}();return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)(u.Rb(u.B))},providers:[E]}),t}()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("HDdC"),i=1,o=Promise.resolve(),a={};function s(t){return t in a&&(delete a[t],!0)}var u=function(t){var e=i++;return a[e]=!0,o.then((function(){return s(e)&&t()})),e},c=function(t){s(t)},l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=u(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),h=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),f=n("DH7j"),d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=a,i=o,(Object(f.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=h),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new v(t,e))}}var v=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new d(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q");function i(){}var o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,a,s){var u;return _classCallCheck(this,n),(u=e.call(this,t))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=a||i,u._tapComplete=s||i,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.e)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.c)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new s.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return f.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.f)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=o(o({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.f)(e,t)},createSubscribe:a.d,ErrorFactory:a.b,deepExtend:a.f}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.i)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.n)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),g.apply(void 0,t)};var m,b=p;(m=b).INTERNAL.registerComponent(new s.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),m.registerVersion("@firebase/app","0.6.20",void 0),m.registerVersion("fire-js",""),e.a=b},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL"),i={apiKey:"AIzaSyDhUNwxWidQEzxjcuID6UK1cAqnSU72-dw",authDomain:"portfolio-b7046.firebaseapp.com",projectId:"portfolio-b7046",storageBucket:"portfolio-b7046.appspot.com",messagingSenderId:"831940443930",appId:"1:831940443930:web:2079bde7b6c4f8780a76a3",measurementId:"G-2SNFBGYNRY"},o=null;function a(){return o}var s,u=new r.q("DocumentToken"),c=((s=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||s)},s.\u0275prov=Object(r.Gb)({factory:l,token:s,providedIn:"platform"}),s);function l(){return Object(r.Rb)(d)}var h,f=new r.q("Location Initialized"),d=((h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=a().getLocation(),this._history=a().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(c)).\u0275fac=function(t){return new(t||h)(r.Rb(u))},h.\u0275prov=Object(r.Gb)({factory:v,token:h,providedIn:"platform"}),h);function p(){return!!window.history.pushState}function v(){return new d(Object(r.Rb)(u))}function y(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}var b,_=((b=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||b)},b.\u0275prov=Object(r.Gb)({factory:w,token:b,providedIn:"root"}),b);function w(t){var e=Object(r.Rb)(u).location;return new I(Object(r.Rb)(c),e&&e.origin||"")}var C,k,S,E=new r.q("appBaseHref"),I=((S=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;if(_classCallCheck(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return y(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(_)).\u0275fac=function(t){return new(t||S)(r.Rb(c),r.Rb(E,8))},S.\u0275prov=r.Gb({token:S,factory:S.\u0275fac}),S),T=((k=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=y(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(_)).\u0275fac=function(t){return new(t||k)(r.Rb(c),r.Rb(E,8))},k.\u0275prov=r.Gb({token:k,factory:k.\u0275fac}),k),O=((C=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=g(x(o)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+m(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||C)(r.Rb(_),r.Rb(c))},C.normalizeQueryParams=m,C.joinWithSlash=y,C.stripTrailingSlash=g,C.\u0275prov=Object(r.Gb)({factory:A,token:C,providedIn:"root"}),C);function A(){return new O(Object(r.Rb)(_),Object(r.Rb)(c))}function x(t){return t.replace(/\/index.html$/,"")}var N,D,R,P=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),j=r.mb,M=function t(){_classCallCheck(this,t)},L=((N=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).locale=t,r}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(j(e||this.locale)(t)){case P.Zero:return"zero";case P.One:return"one";case P.Two:return"two";case P.Few:return"few";case P.Many:return"many";default:return"other"}}}]),n}(M)).\u0275fac=function(t){return new(t||N)(r.Rb(r.u))},N.\u0275prov=r.Gb({token:N,factory:N.\u0275fac}),N),F=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),V=((D=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(Ug){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new F(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new U(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new U(t,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||D)(r.Kb(r.O),r.Kb(r.K),r.Kb(r.s))},D.\u0275dir=r.Fb({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),D),U=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},q=((R=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new H,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){B("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){B("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||R)(r.Kb(r.O),r.Kb(r.K))},R.\u0275dir=r.Fb({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),R),H=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function B(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(r.vb)(e),"'."))}var z,G,K,W,Q,Y,Z=((G=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ib({type:G}),G.\u0275inj=r.Hb({factory:function(t){return new(t||G)},providers:[{provide:M,useClass:L}]}),G),X=((z=function t(){_classCallCheck(this,t)}).\u0275prov=Object(r.Gb)({token:z,providedIn:"root",factory:function(){return new J(Object(r.Rb)(u),window,Object(r.Rb)(r.m))}}),z),J=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch($m){this.errorHandler.handleError($m)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(Ug){return!1}}}]),t}(),$=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=tt||(tt=document.querySelector("base"))?tt.getAttribute("href"):null;return null==n?null:(e=n,K||(K=document.createElement("a")),K.setAttribute("href",e),"/"===K.pathname.charAt(0)?K.pathname:"/"+K.pathname)}},{key:"resetBaseElement",value:function(){tt=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,o||(o=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())),tt=null,et=new r.q("TRANSITION_ID"),nt=[{provide:r.d,useFactory:function(t,e,n){return function(){n.get(r.e).donePromise.then((function(){var n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[et,u,r.r],multi:!0}],rt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){r.ob.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.ob.getAllAngularRootElements=function(){return t.getAllRootElements()},r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push((function(t){var e=r.ob.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.W)(new t)}}]),t}(),it=new r.q("EventManagerPlugins"),ot=((W=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||W)(r.Rb(it),r.Rb(r.z))},W.\u0275prov=r.Gb({token:W,factory:W.\u0275fac}),W),at=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),st=((Y=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||Y)},Y.\u0275prov=r.Gb({token:Y,factory:Y.\u0275fac}),Y),ut=((Q=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return a().remove(t)}))}}]),n}(st)).\u0275fac=function(t){return new(t||Q)(r.Rb(u))},Q.\u0275prov=r.Gb({token:Q,factory:Q.\u0275fac}),Q),ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lt=/%COMP%/g;function ht(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?ht(t,i,n):(i=i.replace(lt,t),n.push(i))}return n}function ft(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var dt,pt,vt,yt,gt=((dt=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new mt(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.P.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new bt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.P.Native:case r.P.ShadowDom:return new _t(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=ht(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||dt)(r.Rb(ot),r.Rb(ut),r.Rb(r.c))},dt.\u0275prov=r.Gb({token:dt,factory:dt.\u0275fac}),dt),mt=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(ct[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=ct[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=ct[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ft(n)):this.eventManager.addEventListener(t,e,ft(n))}}]),t}(),bt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).component=i;var s,u=ht(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(lt,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(lt,s)),a}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(mt),_t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var s;_classCallCheck(this,n),(s=e.call(this,t)).sharedStylesHost=i,s.hostEl=o,s.component=a,s.shadowRoot=a.encapsulation===r.P.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=ht(a.id,a.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],s.shadowRoot.appendChild(l)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(mt),wt=((pt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(at)).\u0275fac=function(t){return new(t||pt)(r.Rb(u))},pt.\u0275prov=r.Gb({token:pt,factory:pt.\u0275fac}),pt),Ct=["alt","control","meta","shift"],kt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},St={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Et={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},It=((vt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return a().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Ct.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&St.hasOwnProperty(e)&&(e=St[e]))}return kt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ct.forEach((function(r){r!=n&&(0,Et[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(at)).\u0275fac=function(t){return new(t||vt)(r.Rb(u))},vt.\u0275prov=r.Gb({token:vt,factory:vt.\u0275fac}),vt),Tt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){$.makeCurrent(),rt.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],Ot=Object(r.R)(r.V,"browser",Tt),At=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:it,useClass:wt,multi:!0,deps:[u,r.z,r.B]},{provide:it,useClass:It,multi:!0,deps:[u]},[],{provide:gt,useClass:gt,deps:[ot,ut,r.c]},{provide:r.E,useExisting:gt},{provide:st,useExisting:ut},{provide:ut,useClass:ut,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:ot,useClass:ot,deps:[it,r.z]},[]],xt=((yt=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:et,useExisting:r.c},nt]}}}]),t}()).\u0275mod=r.Ib({type:yt}),yt.\u0275inj=r.Hb({factory:function(t){return new(t||yt)(r.Rb(yt,12))},providers:At,imports:[Z,r.f]}),yt);"undefined"!=typeof window&&window;var Nt=n("LRne"),Dt=n("Cfvw"),Rt=n("XNiG"),Pt=n("9ppp"),jt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Pt.a;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}}]),n}(Rt.a),Mt=n("HDdC"),Lt=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Ft=n("z+Ro"),Vt=n("DH7j"),Ut=n("l7GE"),qt=n("ZUHj"),Ht=n("yCtX"),Bt={},zt=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Gt(t,this.resultSelector))}}]),t}(),Gt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(t){this.values.push(Bt),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(qt.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===Bt?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Ut.a),Kt=n("EY2u");function Wt(t){return new Mt.a((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Dt.a)(n):Object(Kt.b)()).subscribe(e)}))}var Qt=n("lJxs"),Yt=n("bHdf");function Zt(){return Object(Yt.a)(1)}var Xt=n("7o/Q");function Jt(t,e){return function(n){return n.lift(new $t(t,e))}}var $t=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new te(t,this.predicate,this.thisArg))}}]),t}(),te=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(Xt.a),ee=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function ne(t){return function(e){return 0===t?Object(Kt.b)():e.lift(new re(t))}}var re=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new ee}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ie(t,this.total))}}]),t}(),ie=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(Xt.a);function oe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;return function(e){return e.lift(new ae(t))}}var ae=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new se(t,this.errorFactory))}}]),t}(),se=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch($m){t=$m}this.destination.error(t)}}]),n}(Xt.a);function ue(){return new Lt}function ce(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new le(t))}}var le=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new he(t,this.defaultValue))}}]),t}(),he=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(Xt.a),fe=n("SpAZ");function de(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Jt((function(e,n){return t(e,n,r)})):fe.a,ne(1),n?ce(e):oe((function(){return new Lt})))}}var pe=n("51Dv");function ve(t){return function(e){var n=new ye(t),r=e.lift(n);return n.caught=r}}var ye=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ge(t,this.selector,this.caught))}}]),t}(),ge=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new pe.a(this,void 0,void 0);this.add(r);var i=Object(qt.a)(this,e,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(Ut.a);function me(t){return function(e){return 0===t?Object(Kt.b)():e.lift(new be(t))}}var be=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new ee}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new _e(t,this.total))}}]),t}(),_e=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(Xt.a);function we(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Jt((function(e,n){return t(e,n,r)})):fe.a,me(1),n?ce(e):oe((function(){return new Lt})))}}var Ce=n("5+tZ"),ke=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Se(t,this.predicate,this.thisArg,this.source))}}]),t}(),Se=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(Xt.a);function Ee(t,e){return"function"==typeof e?function(n){return n.pipe(Ee((function(n,r){return Object(Dt.a)(t(n,r)).pipe(Object(Qt.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new Ie(t))}}var Ie=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Te(t,this.project))}}]),t}(),Te=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new pe.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(qt.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}(Ut.a);function Oe(){return Zt()(Object(Nt.a).apply(void 0,arguments))}function Ae(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(Ft.a)(r)?(e.pop(),function(t){return Oe(e,t,r)}):function(t){return Oe(e,t)}}function xe(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ne(t,e,n))}}var Ne=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new De(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),De=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(Xt.a);function Re(t,e){return Object(Ce.a)(t,e,1)}var Pe,je=n("mCNh"),Me=n("vkgz"),Le=n("quSY"),Fe=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ve(t,this.callback))}}]),t}(),Ve=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).add(new Le.a(r)),i}return n}(Xt.a),Ue=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},qe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Ue),He=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Ue),Be=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Ue),ze=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Ue),Ge=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ue),Ke=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ue),We=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Ue),Qe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ue),Ye=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ue),Ze=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Xe=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Je=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),$e=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),tn=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),en=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),nn=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),rn=((Pe=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Pe)},Pe.\u0275cmp=r.Eb({type:Pe,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[di]},encapsulation:2}),Pe),on=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function an(t){return new on(t)}function sn(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function un(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var cn=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function ln(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];hn(r,fn(e,r))}}function hn(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&ln(t.children,e)}function fn(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function dn(t){var e=t.children&&t.children.map(dn),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=rn),n}function pn(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!vn(t[n=r[o]],e[n]))return!1;return!0}function vn(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function yn(t){return Array.prototype.concat.apply([],t)}function gn(t){return t.length>0?t[t.length-1]:null}function mn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function bn(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(Dt.a)(Promise.resolve(t)):Object(Nt.a)(t)}function _n(t,e,n){return n?function(t,e){return pn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Sn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return vn(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Sn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Sn(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Sn(n.segments,a)&&!!n.children.primary&&e(n.children.primary,r,s)}(e,n,n.segments)}(t.root,e.root)}var wn=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return On.serialize(this)}}]),t}(),Cn=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,mn(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return An(this)}}]),t}(),kn=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=an(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return jn(this)}}]),t}();function Sn(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function En(t,e){var n=[];return mn(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),mn(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var In=function t(){_classCallCheck(this,t)},Tn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new Un(t);return new wn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return An(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return mn(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=En(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(An(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(Nn(t),"=").concat(Nn(e))})).join("&"):"".concat(Nn(t),"=").concat(Nn(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),On=new Tn;function An(t){return t.segments.map((function(t){return jn(t)})).join("/")}function xn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nn(t){return xn(t).replace(/%3B/gi,";")}function Dn(t){return xn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rn(t){return decodeURIComponent(t)}function Pn(t){return Rn(t.replace(/\+/g,"%20"))}function jn(t){return"".concat(Dn(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(Dn(t),"=").concat(Dn(e[t]))})).join("")));var e}var Mn=/^[^\/()?;=#]+/;function Ln(t){var e=t.match(Mn);return e?e[0]:""}var Fn=/^[^=?&#]+/,Vn=/^[^?&#]+/,Un=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Cn(t,e)),n}},{key:"parseSegment",value:function(){var t=Ln(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new kn(Rn(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Ln(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Ln(this.remaining);r&&(n=r,this.capture(n))}t[Rn(e)]=Rn(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Fn);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Vn);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Pn(e),o=Pn(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Ln(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Cn([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),qn=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Hn(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=Hn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Bn(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Bn(t,this._root).map((function(t){return t.value}))}}]),t}();function Hn(t,e){if(t===e.value)return e;var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Hn(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Bn(t,e){if(t===e.value)return[e];var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Bn(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var zn=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Gn(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Kn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).snapshot=r,Jn(_assertThisInitialized(i),t),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(qn);function Wn(t,e){var n=function(t,e){var n=new Zn([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Xn("",new zn(n,[]))}(t,e),r=new jt([new kn("",{})]),i=new jt({}),o=new jt({}),a=new jt({}),s=new jt(""),u=new Qn(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new Kn(new zn(u,[]),n)}var Qn=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Qt.a)((function(t){return an(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Qt.a)((function(t){return an(t)})))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function Yn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Zn=function(){function t(e,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=an(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),Xn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,r)).url=t,Jn(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return $n(this._root)}}]),n}(qn);function Jn(t,e){e.value._routerState=t,e.children.forEach((function(e){return Jn(t,e)}))}function $n(t){var e=t.children.length>0?" { ".concat(t.children.map($n).join(", ")," } "):"";return"".concat(t.value).concat(e)}function tr(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),pn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!pn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),pn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function er(t,e){return pn(t.params,e.params)&&function(t,e){return Sn(t,e)&&t.every((function(t,n){return pn(t.parameters,e[n].parameters)}))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||er(t.parent,e.parent))}function nr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function rr(t,e,n,r,i){var o={};return r&&mn(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new wn(n.root===t?e:function t(e,n,r){var i={};return mn(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new Cn(e.segments,i)}(n.root,t,e),o,i)}var ir=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&nr(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==gn(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),or=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function ar(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function sr(t,e,n){if(t||(t=new Cn([],{})),0===t.segments.length&&t.hasChildren())return ur(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=ar(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!fr(s,u,a))return o;r+=2}else{if(!fr(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Cn(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Cn(t.segments.slice(r.pathIndex),t.children),ur(o,0,i)}return r.match&&0===i.length?new Cn(t.segments,{}):r.match&&!t.hasChildren()?cr(t,e,n):r.match?ur(t,0,i):cr(t,e,n)}function ur(t,e,n){if(0===n.length)return new Cn(t.segments,{});var r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return mn(r,(function(n,r){null!==n&&(i[r]=sr(t.children[r],e,n))})),mn(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new Cn(t.segments,i)}function cr(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=lr(n[i].outlets);return new Cn(r,o)}if(0===i&&nr(n[0]))r.push(new kn(t.segments[e].path,n[0])),i++;else{var a=ar(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&nr(s)?(r.push(new kn(a,hr(s))),i+=2):(r.push(new kn(a,{})),i++)}}return new Cn(r,{})}function lr(t){var e={};return mn(t,(function(t,n){null!==t&&(e[n]=cr(new Cn([],{}),0,t))})),e}function hr(t){var e={};return mn(t,(function(t,n){return e[n]=""+t})),e}function fr(t,e,n){return t==n.path&&pn(e,n.parameters)}var dr=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),tr(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Gn(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),mn(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Gn(t),o=t.value.component?r.children:e;mn(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Gn(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new en(t.value.snapshot))})),t.children.length&&this.forwardEvent(new $e(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(tr(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),pr(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function pr(t){tr(t.value),t.children.forEach(pr)}function vr(t){return"function"==typeof t}function yr(t){return t instanceof wn}var gr=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},mr=function t(e){_classCallCheck(this,t),this.urlTree=e};function br(t){return new Mt.a((function(e){return e.error(new gr(t))}))}function _r(t){return new Mt.a((function(e){return e.error(new mr(t))}))}function wr(t){return new Mt.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var Cr=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(r.x)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Qt.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(ve((function(e){if(e instanceof mr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof gr)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Qt.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(ve((function(t){if(t instanceof gr)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Cn([],{primary:t}):t;return new wn(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Qt.a)((function(t){return new Cn([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(Nt.a)({});var o=[],a=[],s={};return mn(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(Object(Qt.a)((function(t){return s[i]=t})));"primary"===i?o.push(l):a.push(l)})),Nt.a.apply(null,o.concat(a)).pipe(Zt(),de(),Object(Qt.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(Nt.a).apply(void 0,_toConsumableArray(n)).pipe(Object(Qt.a)((function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ve((function(t){if(t instanceof gr)return Object(Nt.a)(null);throw t})))})),Zt(),we((function(t){return!!t})),ve((function(t,n){if(t instanceof Lt||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return Object(Nt.a)(new Cn([],{}));throw new gr(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Ir(r)!==o?br(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):br(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?_r(o):this.lineralizeSegments(n,o).pipe(Object(Ce.a)((function(n){var o=new Cn(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=kr(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return br(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?_r(f):this.lineralizeSegments(r,f).pipe(Object(Ce.a)((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Qt.a)((function(t){return n._loadedConfig=t,new Cn(r,{})}))):Object(Nt.a)(new Cn(r,{}));var o=kr(e,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return br(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(Ce.a)((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return Er(t,e,n)&&"primary"!==Ir(n)}))}(t,n,r)?{segmentGroup:Sr(new Cn(e,function(t,e){var n={};n.primary=e;var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Ir(o)&&(n[Ir(o)]=new Cn([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new Cn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Er(t,e,n)}))}(t,n,r)?{segmentGroup:Sr(new Cn(t.segments,function(t,e,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;Er(t,e,s)&&!r[Ir(s)]&&(o[Ir(s)]=new Cn([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(Qt.a)((function(t){return new Cn(s,t)}))):0===r.length&&0===u.length?Object(Nt.a)(new Cn(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(Object(Qt.a)((function(t){return new Cn(s.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(Nt.a)(new cn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Nt.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(Dt.a)(i).pipe(Object(Qt.a)((function(r){var i,o=t.get(r);if(function(t){return t&&vr(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!vr(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return bn(i)}))).pipe(Zt(),(r=function(t){return!0===t},function(t){return t.lift(new ke(r,void 0,t))})):Object(Nt.a)(!0)}(t.injector,e,n).pipe(Object(Ce.a)((function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(Qt.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new Mt.a((function(e){return e.error(sn("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(Nt.a)(new cn([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Nt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return wr(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new wn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return mn(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return mn(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new Cn(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function kr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||un)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Sr(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Cn(t.segments.concat(e.segments),e.children)}return t}function Er(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ir(t){return t.outlet||"primary"}var Tr=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Or=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Ar(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function xr(t,e,n){var r=Gn(t),i=t.value;mn(r,(function(t,r){xr(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Or(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Nr=Symbol("INITIAL_VALUE");function Dr(){return Ee((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return Object(Ft.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(Vt.a)(e[0])&&(e=e[0]),Object(Ht.a)(e,i).lift(new zt(r))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(me(1),Ae(Nr))})))).pipe(xe((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==Nr)return t;if(r===Nr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||yr(r))return r}return t}),t)}),Nr),Jt((function(t){return t!==Nr})),Object(Qt.a)((function(t){return yr(t)?t:!0===t})),me(1))}))}function Rr(t,e){return null!==t&&e&&e(new tn(t)),Object(Nt.a)(!0)}function Pr(t,e){return null!==t&&e&&e(new Je(t)),Object(Nt.a)(!0)}function jr(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Nt.a)(!0);var i=r.map((function(r){return Wt((function(){var i,o=Ar(r,e,n);if(function(t){return t&&vr(t.canActivate)}(o))i=bn(o.canActivate(e,t));else{if(!vr(o))throw new Error("Invalid CanActivate guard");i=bn(o(e,t))}return i.pipe(we())}))}));return Object(Nt.a)(i).pipe(Dr())}function Mr(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Wt((function(){var i=e.guards.map((function(i){var o,a=Ar(i,e.node,n);if(function(t){return t&&vr(t.canActivateChild)}(a))o=bn(a.canActivateChild(r,t));else{if(!vr(a))throw new Error("Invalid CanActivateChild guard");o=bn(a(r,t))}return o.pipe(we())}));return Object(Nt.a)(i).pipe(Dr())}))}));return Object(Nt.a)(i).pipe(Dr())}var Lr=function t(){_classCallCheck(this,t)},Fr=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){try{var t=qr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Zn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new zn(n,e),i=new Xn(this.url,r);return this.inheritParamsAndData(i._root),Object(Nt.a)(i)}catch($m){return new Mt.a((function(e){return e.error($m)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Yn(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=En(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,e,n,r)}catch($m){if(!($m instanceof Lr))throw $m}}}catch(s){o.e(s)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new Lr}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new Lr;if((t.outlet||"primary")!==r)throw new Lr;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?gn(n).parameters:{};i=new Zn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zr(t),r,t.component,t,Vr(e),Ur(e)+n.length,Gr(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Lr;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||un)(n,t,e);if(!r)throw new Lr;var i={};mn(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new Zn(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zr(t),r,t.component,t,Vr(e),Ur(e)+o.length,Gr(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=qr(e,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new zn(i,d)]}if(0===c.length&&0===f.length)return[new zn(i,[])];var p=this.processSegment(c,h,f,"primary");return[new zn(i,p)]}}]),t}();function Vr(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Ur(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function qr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return Hr(t,e,n)&&"primary"!==Br(n)}))}(t,n,r)){var o=new Cn(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==Br(s)){var u=new Cn([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[Br(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(t,e,r,new Cn(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Hr(t,e,n)}))}(t,n,r)){var a=new Cn(t.segments,function(t,e,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(Hr(t,n,c)&&!i[Br(c)]){var l=new Cn([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Br(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new Cn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Hr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Br(t){return t.outlet||"primary"}function zr(t){return t.data||{}}function Gr(t){return t.resolve||{}}function Kr(t,e,n,r){var i=Ar(t,e,r);return bn(i.resolve?i.resolve(e,n):i(e,n))}function Wr(t){return function(e){return e.pipe(Ee((function(e){var n=t(e);return n?Object(Dt.a)(n).pipe(Object(Qt.a)((function(){return e}))):Object(Dt.a)([e])})))}}var Qr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),Yr=new r.q("ROUTES"),Zr=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Qt.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new cn(yn(i.injector.get(Yr)).map(dn),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(Dt.a)(this.loader.load(t)):bn(t()).pipe(Object(Ce.a)((function(t){return t instanceof r.v?Object(Nt.a)(t):Object(Dt.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),Xr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Jr(t){throw t}function $r(t,e,n){return e.parse("/")}function ti(t,e){return Object(Nt.a)(null)}var ei,ni,ri,ii=((ri=function(){function t(e,n,i,o,a,s,u,c){var l=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Rt.a,this.errorHandler=Jr,this.malformedUriErrorHandler=$r,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ti,afterPreactivation:ti},this.urlHandlingStrategy=new Xr,this.routeReuseStrategy=new Qr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(r.x),this.console=a.get(r.X);var h=a.get(r.z);this.isNgZoneEnabled=h instanceof r.z,this.resetConfig(c),this.currentUrlTree=new wn(new Cn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zr(s,u,(function(t){return l.triggerEvent(new Ze(t))}),(function(t){return l.triggerEvent(new Xe(t))})),this.routerState=Wn(this.currentUrlTree,this.rootComponentType),this.transitions=new jt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Jt((function(t){return 0!==t.id})),Object(Qt.a)((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Ee((function(t){var r,i,o,a,s=!1,u=!1;return Object(Nt.a)(t).pipe(Object(Me.a)((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Ee((function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Nt.a)(t).pipe(Ee((function(t){var r=e.transitions.getValue();return n.next(new qe(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?Kt.a:[t]})),Ee((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(Ee((function(t){return function(t,e,n,r,i){return new Cr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(Qt.a)((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Object(Me.a)((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(Object(Ce.a)((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Fr(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(Qt.a)((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Me.a)((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Object(Me.a)((function(t){var r=new Ge(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new qe(u,e.serializeUrl(c),l,h);n.next(d);var p=Wn(c,e.rootComponentType).snapshot;return Object(Nt.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Kt.a})),Wr((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(Me.a)((function(t){var n=new Ke(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(Qt.a)((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Gn(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Sn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Sn(t.url,e.url)||!pn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!er(t,e)||!pn(t.queryParams,e.queryParams);case"paramsChange":default:return!er(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Tr(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Or(u&&u.outlet&&u.outlet.component||null,s))}else s&&xr(n,u,o),o.canActivateChecks.push(new Tr(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),mn(a,(function(t,e){return xr(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(Object(Ce.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(Nt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Dt.a)(t).pipe(Object(Ce.a)((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Nt.a)(!0);var a=o.map((function(o){var a,s=Ar(o,e,i);if(function(t){return t&&vr(t.canDeactivate)}(s))a=bn(s.canDeactivate(t,e,n,r));else{if(!vr(s))throw new Error("Invalid CanDeactivate guard");a=bn(s(t,e,n,r))}return a.pipe(we())}));return Object(Nt.a)(a).pipe(Dr())}(t.component,t.route,n,e,r)})),we((function(t){return!0!==t}),!0))}(s,r,i,t).pipe(Object(Ce.a)((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(Dt.a)(e).pipe(Re((function(e){return Object(Dt.a)([Pr(e.route.parent,r),Rr(e.route,r),Mr(t,e.path,n),jr(t,e.route,n)]).pipe(Zt(),we((function(t){return!0!==t}),!0))})),we((function(t){return!0!==t}),!0))}(r,a,t,e):Object(Nt.a)(n)})),Object(Qt.a)((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Object(Me.a)((function(t){if(yr(t.guardsResult)){var n=sn('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Object(Me.a)((function(t){var n=new We(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Jt((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Be(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),Wr((function(t){if(t.guards.canActivateChecks.length)return Object(Nt.a)(t).pipe(Object(Me.a)((function(t){var n=new Qe(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(Ce.a)((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(Dt.a)(i).pipe(Re((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(Nt.a)({});if(1===i.length){var o=i[0];return Kr(t[o],e,n,r).pipe(Object(Qt.a)((function(t){return _defineProperty({},o,t)})))}var a={};return Object(Dt.a)(i).pipe(Object(Ce.a)((function(i){return Kr(t[i],e,n,r).pipe(Object(Qt.a)((function(t){return a[i]=t,t})))}))).pipe(de(),Object(Qt.a)((function(){return a})))}(t._resolve,t,e,r).pipe(Object(Qt.a)((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Yn(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return Object(je.a)(xe(t,e),ne(1),ce(e))(n)}:function(e){return Object(je.a)(xe((function(e,n,r){return t(e,n,r+1)})),ne(1))(e)}}((function(t,e){return t})),Object(Qt.a)((function(e){return t}))):Object(Nt.a)(t)})))}),Object(Me.a)((function(t){var n=new Ye(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),Wr((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(Qt.a)((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}}catch(s){o.e(s)}finally{o.f()}return t(e,n)}))}(e,n,r);return new zn(i,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,c=new Qn(new jt((u=n.value).url),new jt(u.params),new jt(u.queryParams),new jt(u.fragment),new jt(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return t(e,n)}));return new zn(c,l)}(t,e._root,n?n._root:void 0);return new Kn(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),Object(Me.a)((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(Qt.a)((function(t){return new dr(o,t.targetRouterState,t.currentRouterState,a).activate(i),t}))),Object(Me.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new Be(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Fe(r))}),ve((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=yr(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Be(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new ze(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(Ol){t.reject(Ol)}}var s;return Kt.a})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){ln(t),this.config=t.map(dn),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(r.U)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return rr(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ir(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return mn(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new ir(n,e,r)}(n);if(o.toRoot())return rr(e.root,new Cn([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new or(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new or(n.snapshot._urlSegment,!0,0);var r=nr(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new or(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?ur(a.segmentGroup,a.index,o.commands):sr(a.segmentGroup,a.index,o.commands);return rr(a.segmentGroup,s,e,r,i)}(c,this.currentUrlTree,t,h,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=yr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch($m){e=this.malformedUriErrorHandler($m,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(yr(t))return _n(this.currentUrlTree,t,e);var n=this.parseUrl(t);return _n(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new He(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==e&&"imperative"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"hashchange"==e&&"popstate"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"popstate"==e&&"hashchange"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(t,e){o=t,a=e}));var c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}()).\u0275fac=function(t){r.Ub()},ri.\u0275dir=r.Fb({type:ri}),ri),oi=((ni=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"onClick",value:function(){var t={skipLocationChange:si(this.skipLocationChange),replaceUrl:si(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:si(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:si(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||ni)(r.Kb(ii),r.Kb(Qn),r.Sb("tabindex"),r.Kb(r.D),r.Kb(r.l))},ni.\u0275dir=r.Fb({type:ni,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Vb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),ni),ai=((ei=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=e.events.subscribe((function(t){t instanceof He&&i.updateTargetUrlAndHref()}))}return _createClass(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:si(this.skipLocationChange),replaceUrl:si(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:si(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:si(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||ei)(r.Kb(ii),r.Kb(Qn),r.Kb(_))},ei.\u0275dir=r.Fb({type:ei,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Vb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(r.Qb("href",e.href,r.dc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),ei);function si(t){return""===t||!!t}var ui,ci,li,hi=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new fi,this.attachRef=null},fi=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new hi,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),di=((ui=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=o||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new pi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}()).\u0275fac=function(t){return new(t||ui)(r.Kb(fi),r.Kb(r.O),r.Kb(r.j),r.Sb("name"),r.Kb(r.h))},ui.\u0275dir=r.Fb({type:ui,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),ui),pi=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===Qn?this.route:t===fi?this.childContexts:this.parent.get(t,e)}}]),t}(),vi=function t(){_classCallCheck(this,t)},yi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Object(Nt.a)(null)}}]),t}(),gi=((li=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Zr(n,r,(function(t){return e.triggerEvent(new Ze(t))}),(function(t){return e.triggerEvent(new Xe(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Jt((function(t){return t instanceof He})),Re((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(Dt.a)(r).pipe(Object(Yt.a)(),Object(Qt.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(Ce.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||li)(r.Rb(ii),r.Rb(r.w),r.Rb(r.i),r.Rb(r.r),r.Rb(vi))},li.\u0275prov=r.Gb({token:li,factory:li.\u0275fac}),li),mi=((ci=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof qe?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof He&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof nn&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new nn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){r.Ub()},ci.\u0275dir=r.Fb({type:ci}),ci),bi=new r.q("ROUTER_CONFIGURATION"),_i=new r.q("ROUTER_FORROOT_GUARD"),wi=[O,{provide:In,useClass:Tn},{provide:ii,useFactory:function(t,e,n,r,i,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new ii(null,t,e,n,r,i,o,yn(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=a();h.events.subscribe((function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[In,fi,O,r.r,r.w,r.i,Yr,bi,[function(){return function t(){_classCallCheck(this,t)}}(),new r.A],[function(){return function t(){_classCallCheck(this,t)}}(),new r.A]]},fi,{provide:Qn,useFactory:function(t){return t.routerState.root},deps:[ii]},{provide:r.w,useClass:r.J},gi,yi,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(ve((function(){return Object(Nt.a)(null)})))}}]),t}(),{provide:bi,useValue:{enableTracing:!1}}];function Ci(){return new r.y("Router",ii)}var ki,Si=((ki=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[wi,Oi(e),{provide:_i,useFactory:Ti,deps:[[ii,new r.A,new r.I]]},{provide:bi,useValue:n||{}},{provide:_,useFactory:Ii,deps:[c,[new r.p(E),new r.A],bi]},{provide:mi,useFactory:Ei,deps:[ii,X,bi]},{provide:vi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:yi},{provide:r.y,multi:!0,useFactory:Ci},[xi,{provide:r.d,multi:!0,useFactory:Ni,deps:[xi]},{provide:Ri,useFactory:Di,deps:[xi]},{provide:r.b,multi:!0,useExisting:Ri}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Oi(e)]}}}]),t}()).\u0275mod=r.Ib({type:ki}),ki.\u0275inj=r.Hb({factory:function(t){return new(t||ki)(r.Rb(_i,8),r.Rb(ii,8))}}),ki);function Ei(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new mi(t,e,n)}function Ii(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new T(t,e):new I(t,e)}function Ti(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Oi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Yr,multi:!0,useValue:t}]}var Ai,xi=((Ai=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new Rt.a}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(f,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(ii),i=t.injector.get(bi);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Object(Nt.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(bi),n=this.injector.get(gi),i=this.injector.get(mi),o=this.injector.get(ii),a=this.injector.get(r.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||Ai)(r.Rb(r.r))},Ai.\u0275prov=r.Gb({token:Ai,factory:Ai.\u0275fac}),Ai);function Ni(t){return t.appInitializer.bind(t)}function Di(t){return t.bootstrapListener.bind(t)}var Ri=new r.q("Router Initializer"),Pi=n("D0XW");function ji(){return function(t){return t.lift(new Mi)}}var Mi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Li(t))}}]),t}(),Li=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(Xt.a),Fi=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Vi(t,this.compare,this.keySelector))}}]),t}(),Vi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(Xt.a),Ui=n("pxpQ"),qi=n("spgP"),Hi=n("Jgta"),Bi=n("zIRd"),zi=n("qOnz"),Gi=n("q/0M"),Ki=function(t,e){return(Ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Wi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Qi,Yi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Zi=Zi||{},Xi=Yi||self;function Ji(){}function $i(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function to(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var eo="closure_uid_"+(1e9*Math.random()>>>0),no=0;function ro(t,e,n){return t.call.apply(t.bind,arguments)}function io(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function oo(t,e,n){return(oo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ro:io).apply(null,arguments)}function ao(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function so(){return Date.now()}function uo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function co(){this.j=this.j,this.i=this.i}co.prototype.j=!1,co.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,eo)&&t[eo]||(t[eo]=++no)}(this)},co.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var lo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ho=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function fo(t){return Array.prototype.concat.apply([],arguments)}function po(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function vo(t){return/^[\s\xa0]*$/.test(t)}var yo,go=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function mo(t,e){return-1!=t.indexOf(e)}function bo(t,e){return t<e?-1:t>e?1:0}t:{var _o=Xi.navigator;if(_o){var wo=_o.userAgent;if(wo){yo=wo;break t}}yo=""}function Co(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ko(t){var e={};for(var n in t)e[n]=t[n];return e}var So="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Eo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<So.length;o++)n=So[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Io(t){return Io[" "](t),t}Io[" "]=Ji;var To,Oo,Ao=mo(yo,"Opera"),xo=mo(yo,"Trident")||mo(yo,"MSIE"),No=mo(yo,"Edge"),Do=No||xo,Ro=mo(yo,"Gecko")&&!(mo(yo.toLowerCase(),"webkit")&&!mo(yo,"Edge"))&&!(mo(yo,"Trident")||mo(yo,"MSIE"))&&!mo(yo,"Edge"),Po=mo(yo.toLowerCase(),"webkit")&&!mo(yo,"Edge");function jo(){var t=Xi.document;return t?t.documentMode:void 0}t:{var Mo="",Lo=(Oo=yo,Ro?/rv:([^\);]+)(\)|;)/.exec(Oo):No?/Edge\/([\d\.]+)/.exec(Oo):xo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Oo):Po?/WebKit\/(\S+)/.exec(Oo):Ao?/(?:Version)[ \/]?(\S+)/.exec(Oo):void 0);if(Lo&&(Mo=Lo?Lo[1]:""),xo){var Fo=jo();if(null!=Fo&&Fo>parseFloat(Mo)){To=String(Fo);break t}}To=Mo}var Vo={};function Uo(t){return function(t,e){var n=Vo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=go(String(To)).split("."),r=go(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=bo(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||bo(0==a[2].length,0==s[2].length)||bo(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var qo=Xi.document&&xo&&(jo()||parseInt(To,10))||void 0,Ho=!xo||9<=Number(qo),Bo=xo&&!Uo("9"),zo=function(){if(!Xi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Xi.addEventListener("test",Ji,e),Xi.removeEventListener("test",Ji,e)}catch(n){}return t}();function Go(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ko(t,e){if(Go.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ro){t:{try{Io(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Wo[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Go.prototype.b=function(){this.defaultPrevented=!0},uo(Ko,Go);var Wo={2:"touch",3:"pen",4:"mouse"};Ko.prototype.b=function(){Ko.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Bo)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Qo="closure_listenable_"+(1e6*Math.random()|0),Yo=0;function Zo(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Yo,this.Y=this.Z=!1}function Xo(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Jo(t){this.src=t,this.a={},this.b=0}function $o(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=lo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Xo(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ta(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Jo.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ta(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Zo(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ea="closure_lm_"+(1e6*Math.random()|0),na={};function ra(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=ha(r),e&&e[Qo]?e.wa(n,r,to(i)?!!i.capture:!!i,o):ia(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ra(t,e[o],n,r,i);return null}return n=ha(n),t&&t[Qo]?t.va(e,n,to(r)?!!r.capture:!!r,i):ia(t,e,n,!1,r,i)}function ia(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=to(i)?!!i.capture:!!i;if(a&&!Ho)return null;var s=ca(t);if(s||(t[ea]=s=new Jo(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=ua,e=Ho?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)zo||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(aa(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function oa(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Qo])$o(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(aa(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ca(e))?($o(n,t),0==n.b&&(n.src=null,e[ea]=null)):Xo(t)}}}function aa(t){return t in na?na[t]:na[t]="on"+t}function sa(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&oa(t),n.call(r,e)}function ua(t,e){if(t.Y)return!0;if(!Ho){if(!e)t:{e=["window","event"];for(var n=Xi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return sa(t,e=new Ko(e,this))}return sa(t,new Ko(e,this))}function ca(t){return(t=t[ea])instanceof Jo?t:null}var la="__closure_events_fn_"+(1e9*Math.random()>>>0);function ha(t){return"function"==typeof t?t:(t[la]||(t[la]=function(e){return t.handleEvent(e)}),t[la])}function fa(){co.call(this),this.c=new Jo(this),this.J=this,this.C=null}function da(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Go(e,t);else if(e instanceof Go)e.target=e.target||t;else{var i=e;Eo(e=new Go(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=pa(a,r,!0,e)&&i}if(i=pa(a=e.a=t,r,!0,e)&&i,i=pa(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=pa(a=e.a=n[o],r,!1,e)&&i}function pa(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&$o(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}uo(fa,co),fa.prototype[Qo]=!0,(Qi=fa.prototype).addEventListener=function(t,e,n,r){ra(this,t,e,n,r)},Qi.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=to(i)?!!i.capture:!!i,r=ha(r),e&&e[Qo]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ta(a=e.a[n],r,i,o))&&(Xo(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=ca(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ta(n,r,i,o)),(r=-1<e?n[e]:null)&&oa(r))}(this,t,e,n,r)},Qi.G=function(){if(fa.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Xo(n[r]);delete e.a[t],e.b--}}this.C=null},Qi.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Qi.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var va=Xi.JSON.stringify;function ya(){this.b=this.a=null}var ga,ma=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new _a}),(function(t){t.reset()}));function ba(){var t=Sa,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function _a(){this.next=this.b=this.a=null}function wa(t){Xi.setTimeout((function(){throw t}),0)}function Ca(t,e){ga||function(){var t=Xi.Promise.resolve(void 0);ga=function(){t.then(Ea)}}(),ka||(ga(),ka=!0),Sa.add(t,e)}ya.prototype.add=function(t,e){var n=ma.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},_a.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},_a.prototype.reset=function(){this.next=this.b=this.a=null};var ka=!1,Sa=new ya;function Ea(){for(var t;t=ba();){try{t.a.call(t.b)}catch(n){wa(n)}var e=ma;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ka=!1}function Ia(t,e){fa.call(this),this.b=t||1,this.a=e||Xi,this.f=oo(this.Za,this),this.g=so()}function Ta(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Oa(t,e,n){if("function"==typeof t)n&&(t=oo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=oo(t.handleEvent,t)}return 2147483647<Number(e)?-1:Xi.setTimeout(t,e||0)}function Aa(t){t.a=Oa((function(){t.a=null,t.c&&(t.c=!1,Aa(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}uo(Ia,fa),(Qi=Ia.prototype).aa=!1,Qi.M=null,Qi.Za=function(){if(this.aa){var t=so()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),da(this,"tick"),this.aa&&(Ta(this),this.start()))}},Qi.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=so())},Qi.G=function(){Ia.X.G.call(this),Ta(this),delete this.a};var xa=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ki(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Aa(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Xi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(co);function Na(t){co.call(this),this.b=t,this.a={}}uo(Na,co);var Da=[];function Ra(t,e,n,r){Array.isArray(n)||(n&&(Da[0]=n.toString()),n=Da);for(var i=0;i<n.length;i++){var o=ra(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Pa(t){Co(t.a,(function(t,e){this.a.hasOwnProperty(e)&&oa(t)}),t),t.a={}}function ja(){this.a=!0}function Ma(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return va(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Na.prototype.G=function(){Na.X.G.call(this),Pa(this)},Na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ja.prototype.info=function(){};var La={},Fa=null;function Va(){return Fa=Fa||new fa}function Ua(t){Go.call(this,La.Fa,t)}function qa(t){var e=Va();da(e,new Ua(e,t))}function Ha(t,e){Go.call(this,La.STAT_EVENT,t),this.stat=e}function Ba(t){var e=Va();da(e,new Ha(e,t))}function za(t){Go.call(this,La.Ga,t)}function Ga(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Xi.setTimeout((function(){t()}),e)}La.Fa="serverreachability",uo(Ua,Go),La.STAT_EVENT="statevent",uo(Ha,Go),La.Ga="timingevent",uo(za,Go);var Ka={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Wa={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Qa(){}function Ya(){}Qa.prototype.a=null;var Za,Xa={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ja(){Go.call(this,"d")}function $a(){Go.call(this,"c")}function ts(){}function es(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Na(this),this.P=ns,this.R=new Ia(t=Do?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}uo(Ja,Go),uo($a,Go),uo(ts,Qa),Za=new ts;var ns=45e3,rs={},is={};function os(t,e,n){t.H=1,t.i=Ts(ws(e)),t.j=n,t.I=!0,as(t,null)}function as(t,e){t.u=so(),cs(t),t.l=ws(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Us(n.b,"t",r),t.D=0,t.a=Pu(t.g,t.g.C?e:null),0<t.O&&(t.F=new xa(oo(t.Ca,t,t.a),t.O)),Ra(t.J,t.a,"readystatechange",t.Xa),e=t.B?ko(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),qa(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function ss(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=us(t,n);if(i==is){4==e&&(t.h=4,Ba(14),r=!1),Ma(t.c,t.f,null,"[Incomplete Response]");break}if(i==rs){t.h=4,Ba(15),Ma(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Ma(t.c,t.f,i,null),ps(t,i)}4==e&&0==n.length&&(t.h=1,Ba(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Iu(e),e.F=!0,Ba(11))):(Ma(t.c,t.f,n,"[Invalid Chunked Response]"),ds(t),fs(t))}function us(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?is:(n=Number(e.substring(n,r)),isNaN(n)?rs:(r+=1)+n>e.length?is:(e=e.substr(r,n),t.D=r+n,e))}function cs(t){t.T=so()+t.P,ls(t,t.P)}function ls(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ga(oo(t.Va,t),e)}function hs(t){t.o&&(Xi.clearTimeout(t.o),t.o=null)}function fs(t){0==t.g.v||t.A||Au(t.g,t)}function ds(t){hs(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ta(t.R),Pa(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ps(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ws(n.b,t)))if(n.I=t.N,!t.C&&Ws(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(mm){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ou(n),gu(n)}Eu(n),Ba(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ga(oo(n.Sa,n),6e3));if(1>=Ks(n.b)&&n.ea){try{n.ea()}catch(mm){}n.ea=void 0}}else Nu(n,11)}else if((t.C||n.a==t)&&Ou(n),!vo(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(mo(l,"spdy")||mo(l,"quic")||mo(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Qs(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Is(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=so()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Ru(u,u.C?u.ga:null,u.fa),d.C){Ys(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(hs(p),cs(p)),u.a=d}else Su(u);0<n.g.length&&_u(n)}else"stop"!=i[0]&&"close"!=i[0]||Nu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Nu(n,7):yu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);qa(4)}catch(mm){}}function vs(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if($i(t)||"string"==typeof t)ho(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if($i(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if($i(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ys(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ys)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function gs(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ms(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ms(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ms(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Qi=es.prototype).setTimeout=function(t){this.P=t},Qi.Xa=function(t){t=t.target;var e=this.F;e&&3==fu(t)?e.f():this.Ca(t)},Qi.Ca=function(t){try{if(t==this.a)t:{var e=fu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Do&&!this.a.$())){this.A||4!=e||7==n||qa(8==n||0>=r?3:2),hs(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vo(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Ba(12),ds(this),fs(this);break t}Ma(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ps(this,u)}this.I?(ss(this,e,o),Do&&this.b&&3==e&&(Ra(this.J,this.R,"tick",this.Wa),this.R.start())):(Ma(this.c,this.f,o,null),ps(this,o)),4==e&&ds(this),this.b&&!this.A&&(4==e?Au(this.g,this):(this.b=!1,cs(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Ba(12)):(this.h=0,Ba(13)),ds(this),fs(this)}}}catch(c){}},Qi.Wa=function(){if(this.a){var t=fu(this.a),e=this.a.$();this.D<e.length&&(hs(this),ss(this,t,e),this.b&&4!=t&&cs(this))}},Qi.cancel=function(){this.A=!0,ds(this)},Qi.Va=function(){this.o=null;var t=so();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(qa(3),Ba(17)),ds(this),this.h=2,fs(this)):ls(this,this.T-t)},(Qi=ys.prototype).K=function(){gs(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Qi.L=function(){return gs(this),this.a.concat()},Qi.get=function(t,e){return ms(this.b,t)?this.b[t]:e},Qi.set=function(t,e){ms(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Qi.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var bs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _s(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof _s){this.a=void 0!==e?e:t.a,Cs(this,t.f),this.j=t.j,ks(this,t.c),Ss(this,t.h),this.g=t.g,e=t.b;var n=new Ms;n.c=e.c,e.a&&(n.a=new ys(e.a),n.b=e.b),Es(this,n),this.i=t.i}else t&&(n=String(t).match(bs))?(this.a=!!e,Cs(this,n[1]||"",!0),this.j=Os(n[2]||""),ks(this,n[3]||"",!0),Ss(this,n[4]),this.g=Os(n[5]||"",!0),Es(this,n[6]||"",!0),this.i=Os(n[7]||"")):(this.a=!!e,this.b=new Ms(null,this.a))}function ws(t){return new _s(t)}function Cs(t,e,n){t.f=n?Os(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ks(t,e,n){t.c=n?Os(e,!0):e}function Ss(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Es(t,e,n){e instanceof Ms?(t.b=e,function(t,e){e&&!t.f&&(Ls(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Fs(this,e),Us(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=As(e,Ps)),t.b=new Ms(e,t.a))}function Is(t,e,n){t.b.set(e,n)}function Ts(t){return Is(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^so()).toString(36)),t}function Os(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function As(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,xs),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xs(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}_s.prototype.toString=function(){var t=[],e=this.f;e&&t.push(As(e,Ns,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(As(e,Ns,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(As(n,"/"==n.charAt(0)?Rs:Ds,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",As(n,js)),t.join("")};var Ns=/[#\/\?@]/g,Ds=/[#\?:]/g,Rs=/[#\?]/g,Ps=/[#\?@]/g,js=/#/g;function Ms(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ls(t){t.a||(t.a=new ys,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Fs(t,e){Ls(t),e=qs(t,e),ms(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ms((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&gs(t)))}function Vs(t,e){return Ls(t),e=qs(t,e),ms(t.a.b,e)}function Us(t,e,n){Fs(t,e),0<n.length&&(t.c=null,t.a.set(qs(t,e),po(n)),t.b+=n.length)}function qs(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Qi=Ms.prototype).add=function(t,e){Ls(this),this.c=null,t=qs(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Qi.forEach=function(t,e){Ls(this),this.a.forEach((function(n,r){ho(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Qi.L=function(){Ls(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Qi.K=function(t){Ls(this);var e=[];if("string"==typeof t)Vs(this,t)&&(e=fo(e,this.a.get(qs(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=fo(e,t[n])}return e},Qi.set=function(t,e){return Ls(this),this.c=null,Vs(this,t=qs(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Qi.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Qi.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Hs=function(t,e){this.b=t,this.a=e};function Bs(t){this.g=t||zs,t=Xi.PerformanceNavigationTiming?0<(t=Xi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Xi.ia&&Xi.ia.ya&&Xi.ia.ya()&&Xi.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var zs=10;function Gs(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ks(t){return t.b?1:t.a?t.a.size:0}function Ws(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Qs(t,e){t.a?t.a.add(e):t.b=e}function Ys(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Zs(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Wi(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return po(t.c)}function Xs(){}function Js(){this.a=new Xs}function $s(t,e,n){var r=n||"";try{vs(t,(function(t,n){var i=t;to(t)&&(i=va(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch($m){throw e.push(r+"type="+encodeURIComponent("_badmap")),$m}}function tu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Bs.prototype.cancel=function(){var t,e;if(this.c=Zs(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Wi(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Xs.prototype.stringify=function(t){return Xi.JSON.stringify(t,void 0)},Xs.prototype.parse=function(t){return Xi.JSON.parse(t,void 0)};var eu=Xi.JSON.parse;function nu(t){fa.call(this),this.headers=new ys,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ru,this.D=this.F=!1}uo(nu,fa);var ru="",iu=/^https?$/i,ou=["POST","PUT"];function au(t){return"content-type"==t.toLowerCase()}function su(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,uu(t),lu(t)}function uu(t){t.u||(t.u=!0,da(t,"complete"),da(t,"error"))}function cu(t){if(t.b&&void 0!==Zi&&(!t.s[1]||4!=fu(t)||2!=t.W()))if(t.l&&4==fu(t))Oa(t.za,0,t);else if(da(t,"readystatechange"),4==fu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(bs)[1]||null;if(!o&&Xi.self&&Xi.self.location){var a=Xi.self.location.protocol;o=a.substr(0,a.length-1)}i=!iu.test(o?o.toLowerCase():"")}e=i}if(e)da(t,"complete"),da(t,"success");else{t.h=6;try{var s=2<fu(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",uu(t)}}finally{lu(t)}}}function lu(t,e){if(t.a){hu(t);var n=t.a,r=t.s[0]?Ji:null;t.a=null,t.s=null,e||da(t,"ready");try{n.onreadystatechange=r}catch($m){}}}function hu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Xi.clearTimeout(t.m),t.m=null)}function fu(t){return t.a?t.a.readyState:0}function du(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Co(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Is(t,e,n))}function pu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vu(t){this.pa=0,this.g=[],this.c=new ja,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=pu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=pu("baseRetryDelayMs",5e3,t),this.Ra=pu("retryDelaySeedMs",1e4,t),this.Ma=pu("forwardChannelMaxRetries",2,t),this.ma=pu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Bs(t&&t.concurrentRequestLimit),this.ka=new Js,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function yu(t){if(mu(t),3==t.v){var e=t.R++,n=ws(t.B);Is(n,"SID",t.J),Is(n,"RID",e),Is(n,"TYPE","terminate"),Cu(t,n),(e=new es(t,t.c,e,void 0)).H=2,e.i=Ts(ws(n)),n=!1,Xi.navigator&&Xi.navigator.sendBeacon&&(n=Xi.navigator.sendBeacon(e.i.toString(),"")),!n&&Xi.Image&&((new Image).src=e.i,n=!0),n||(e.a=Pu(e.g,null),e.a.ba(e.i)),e.u=so(),cs(e)}Du(t)}function gu(t){t.a&&(Iu(t),t.a.cancel(),t.a=null)}function mu(t){gu(t),t.j&&(Xi.clearTimeout(t.j),t.j=null),Ou(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Xi.clearTimeout(t.h),t.h=null)}function bu(t,e){t.g.push(new Hs(t.Oa++,e)),3==t.v&&_u(t)}function _u(t){Gs(t.b)||t.h||(t.h=!0,Ca(t.Ba,t),t.u=0)}function wu(t,e){var n;n=e?e.f:t.R++;var r=ws(t.B);Is(r,"SID",t.J),Is(r,"RID",n),Is(r,"AID",t.P),Cu(t,r),t.i&&t.l&&du(r,t.i,t.l),n=new es(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ku(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Qs(t.b,n),os(n,r,e)}function Cu(t,e){t.f&&vs({},(function(t,n){Is(e,n,t)}))}function ku(t,e,n){n=Math.min(t.g.length,n);var r=t.f?oo(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{$s(l,a,"req"+c+"_")}catch(yc){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Su(t){t.a||t.j||(t.T=1,Ca(t.Aa,t),t.o=0)}function Eu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ga(oo(t.Aa,t),xu(t,t.o)),t.o++,0))}function Iu(t){null!=t.s&&(Xi.clearTimeout(t.s),t.s=null)}function Tu(t){t.a=new es(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ws(t.la);Is(e,"RID","rpc"),Is(e,"SID",t.J),Is(e,"CI",t.H?"0":"1"),Is(e,"AID",t.P),Cu(t,e),Is(e,"TYPE","xmlhttp"),t.i&&t.l&&du(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ts(ws(e)),n.j=null,n.I=!0,as(n,t)}function Ou(t){null!=t.m&&(Xi.clearTimeout(t.m),t.m=null)}function Au(t,e){var n=null;if(t.a==e){Ou(t),Iu(t),t.a=null;var r=2}else{if(!Ws(t.b,e))return;n=e.s,Ys(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=so()-e.u;var i=t.u;da(r=Va(),new za(r,n,e,i)),_u(t)}else Su(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ks(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ga(oo(t.Ba,t,e),xu(t,t.u)),t.u++,0)))}(t,e)||2==r&&Eu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Nu(t,5);break;case 4:Nu(t,10);break;case 3:Nu(t,6);break;default:Nu(t,2)}}function xu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Nu(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=oo(t.Ya,t);n||(n=new _s("//www.google.com/images/cleardot.gif"),Xi.location&&"http"==Xi.location.protocol||Cs(n,"https"),Ts(n)),function(t,e){var n=new ja;if(Xi.Image){var r=new Image;r.onload=ao(tu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ao(tu,n,r,"TestLoadImage: error",!1,e),r.onabort=ao(tu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ao(tu,n,r,"TestLoadImage: timeout",!1,e),Xi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ba(2);t.v=0,t.f&&t.f.ra(e),Du(t),mu(t)}function Du(t){t.v=0,t.I=-1,t.f&&(0==Zs(t.b).length&&0==t.g.length||(t.b.c.length=0,po(t.g),t.g.length=0),t.f.qa())}function Ru(t,e,n){var r=function(t){return t instanceof _s?ws(t):new _s(t,void 0)}(n);if(""!=r.c)e&&ks(r,e+"."+r.c),Ss(r,r.h);else{var i=Xi.location;r=function(t,e,n,r){var i=new _s(null,void 0);return t&&Cs(i,t),e&&ks(i,e),n&&Ss(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Co(t.V,(function(t,e){Is(r,e,t)})),n=t.na,(e=t.A)&&n&&Is(r,e,n),Is(r,"VER",t.ha),Cu(t,r),r}function Pu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nu(t.Na)).F=t.C,e}function ju(){}function Mu(){if(xo&&!(10<=Number(qo)))throw Error("Environmental error: no available transport.")}function Lu(t,e){fa.call(this),this.a=new vu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!vo(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Uu(this)}function Fu(t){Ja.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Vu(){$a.call(this),this.status=1}function Uu(t){this.a=t}(Qi=nu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Za),this.a.onreadystatechange=oo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void su(this,o)}t=n||"";var i=new ys(this.headers);r&&vs(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=au,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Xi.FormData&&t instanceof Xi.FormData,!(0<=lo(ou,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{hu(this),0<this.o&&((this.D=function(t){return xo&&Uo(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=oo(this.xa,this)):this.m=Oa(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){su(this,o)}},Qi.xa=function(){void 0!==Zi&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,da(this,"timeout"),this.abort(8))},Qi.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,da(this,"complete"),da(this,"abort"),lu(this))},Qi.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),lu(this,!0)),nu.X.G.call(this)},Qi.za=function(){this.j||(this.A||this.l||this.g?cu(this):this.Ua())},Qi.Ua=function(){cu(this)},Qi.W=function(){try{return 2<fu(this)?this.a.status:-1}catch(Oo){return-1}},Qi.$=function(){try{return this.a?this.a.responseText:""}catch(Oo){return""}},Qi.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),eu(e)}},Qi.ua=function(){return this.h},Qi.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Qi=vu.prototype).ha=8,Qi.v=1,Qi.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new es(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Eo(r=ko(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ku(this,n,e),Is(i=ws(this.B),"RID",t),Is(i,"CVER",22),this.A&&Is(i,"X-HTTP-Session-Id",this.A),Cu(this,i),this.i&&r&&du(i,this.i,r),Qs(this.b,n),this.Ia&&Is(i,"TYPE","init"),this.da?(Is(i,"$req",e),Is(i,"SID","null"),n.U=!0,os(n,i,null)):os(n,i,e),this.v=2}}else 3==this.v&&(t?wu(this,t):0==this.g.length||Gs(this.b)||wu(this))},Qi.Aa=function(){if(this.j=null,Tu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ga(oo(this.Ta,this),t)}},Qi.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ba(10),gu(this),Tu(this))},Qi.Sa=function(){null!=this.m&&(this.m=null,gu(this),Eu(this),Ba(19))},Qi.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ba(2)):(this.c.info("Failed to ping google.com"),Ba(1))},(Qi=ju.prototype).ta=function(){},Qi.sa=function(){},Qi.ra=function(){},Qi.qa=function(){},Qi.Ja=function(){},Mu.prototype.a=function(t,e){return new Lu(t,e)},uo(Lu,fa),Lu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ba(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ru(t,null,t.fa),_u(t)},Lu.prototype.close=function(){yu(this.a)},Lu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,bu(this.a,e)}else this.l?((e={}).__data__=va(t),bu(this.a,e)):bu(this.a,t)},Lu.prototype.G=function(){this.a.f=null,delete this.f,yu(this.a),delete this.a,Lu.X.G.call(this)},uo(Fu,Ja),uo(Vu,$a),uo(Uu,ju),Uu.prototype.ta=function(){da(this.a,"a")},Uu.prototype.sa=function(t){da(this.a,new Fu(t))},Uu.prototype.ra=function(t){da(this.a,new Vu(t))},Uu.prototype.qa=function(){da(this.a,"b")},Mu.prototype.createWebChannel=Mu.prototype.a,Lu.prototype.send=Lu.prototype.h,Lu.prototype.open=Lu.prototype.g,Lu.prototype.close=Lu.prototype.close,Ka.NO_ERROR=0,Ka.TIMEOUT=8,Ka.HTTP_ERROR=6,Wa.COMPLETE="complete",Ya.EventType=Xa,Xa.OPEN="a",Xa.CLOSE="b",Xa.ERROR="c",Xa.MESSAGE="d",fa.prototype.listen=fa.prototype.va,nu.prototype.listenOnce=nu.prototype.wa,nu.prototype.getLastError=nu.prototype.Qa,nu.prototype.getLastErrorCode=nu.prototype.ua,nu.prototype.getStatus=nu.prototype.W,nu.prototype.getResponseJson=nu.prototype.Pa,nu.prototype.getResponseText=nu.prototype.$,nu.prototype.send=nu.prototype.ba;var qu=Ka,Hu=Wa,Bu=La,zu=Ya,Gu=nu,Ku=function(t,e){return(Ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Wu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ku(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Qu(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch($m){o($m)}}function s(t){try{u(r.throw(t))}catch($m){o($m)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Yu(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch($m){o=[6,$m],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Zu(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var Xu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Xu.o=-1;var Ju={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$u=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Wu(e,t),e}(Error),tc=new Gi.b("@firebase/firestore");function ec(){return tc.logLevel}function nc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(tc.logLevel<=Gi.a.DEBUG){var r=e.map(oc);tc.debug.apply(tc,Zu(["Firestore (8.4.0): "+t],r))}}function rc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(tc.logLevel<=Gi.a.ERROR){var r=e.map(oc);tc.error.apply(tc,Zu(["Firestore (8.4.0): "+t],r))}}function ic(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(tc.logLevel<=Gi.a.WARN){var r=e.map(oc);tc.warn.apply(tc,Zu(["Firestore (8.4.0): "+t],r))}}function oc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch($m){return t}}function ac(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+t;throw rc(e),new Error(e)}function sc(t,e){t||ac()}function uc(t,e){return t}function cc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var lc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=cc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function hc(t,e){return t<e?-1:t>e?1:0}function fc(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function dc(t){return t+"\0"}var pc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new $u(Ju.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new $u(Ju.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new $u(Ju.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $u(Ju.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?hc(this.nanoseconds,t.nanoseconds):hc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),vc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new pc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function yc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var bc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ac(),void 0===n?n=t.length-e:n>t.length-e&&ac(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),_c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wu(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new $u(Ju.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(bc),wc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Cc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wu(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return wc.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new $u(Ju.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new $u(Ju.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new $u(Ju.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new $u(Ju.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(bc),kc=function(){function t(t){this.fields=t,t.sort(Cc.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return fc(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Sc=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return hc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Sc.EMPTY_BYTE_STRING=new Sc("");var Ec=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ic(t){if(sc(!!t),"string"==typeof t){var e=0,n=Ec.exec(t);if(sc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tc(t.seconds),nanos:Tc(t.nanos)}}function Tc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Oc(t){return"string"==typeof t?Sc.fromBase64String(t):Sc.fromUint8Array(t)}function Ac(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xc(t){var e=Ic(t.mapValue.fields.__local_write_time__.timestampValue);return new pc(e.seconds,e.nanos)}function Nc(t){return null==t}function Dc(t){return 0===t&&1/t==-1/0}function Rc(t){return"number"==typeof t&&Number.isInteger(t)&&!Dc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Pc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(_c.fromString(e))},t.fromName=function(e){return new t(_c.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===_c.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return _c.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new _c(e.slice()))},t}();function jc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ac(t)?4:10:ac()}function Mc(t,e){var n=jc(t);if(n!==jc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xc(t).isEqual(xc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ic(t.timestampValue),r=Ic(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Oc(t.bytesValue).isEqual(Oc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Tc(t.geoPointValue.latitude)===Tc(e.geoPointValue.latitude)&&Tc(t.geoPointValue.longitude)===Tc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Tc(t.integerValue)===Tc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Tc(t.doubleValue),r=Tc(e.doubleValue);return n===r?Dc(n)===Dc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return fc(t.arrayValue.values||[],e.arrayValue.values||[],Mc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(yc(n)!==yc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Mc(n[i],r[i])))return!1;return!0}(t,e);default:return ac()}}function Lc(t,e){return void 0!==(t.values||[]).find((function(t){return Mc(t,e)}))}function Fc(t,e){var n=jc(t),r=jc(e);if(n!==r)return hc(n,r);switch(n){case 0:return 0;case 1:return hc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Tc(t.integerValue||t.doubleValue),r=Tc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Vc(t.timestampValue,e.timestampValue);case 4:return Vc(xc(t),xc(e));case 5:return hc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Oc(t),r=Oc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=hc(n[i],r[i]);if(0!==o)return o}return hc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=hc(Tc(t.latitude),Tc(e.latitude));return 0!==n?n:hc(Tc(t.longitude),Tc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Fc(n[i],r[i]);if(o)return o}return hc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=hc(r[a],o[a]);if(0!==s)return s;var u=Fc(n[r[a]],i[o[a]]);if(0!==u)return u}return hc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ac()}}function Vc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return hc(t,e);var n=Ic(t),r=Ic(e),i=hc(n.seconds,r.seconds);return 0!==i?i:hc(n.nanos,r.nanos)}function Uc(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Ic(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Oc(e.bytesValue).toBase64():"referenceValue"in e?Pc.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):ac();var n}(t)}function qc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Hc(t){return!!t&&"integerValue"in t}function Bc(t){return!!t&&"arrayValue"in t}function zc(t){return!!t&&"nullValue"in t}function Gc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kc(t){return!!t&&"mapValue"in t}var Wc=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Cc.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return Mc(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===jc(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=Kc(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(a[n]=o,i=!0)}else null!==t?(a[n]=t,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Cc.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Kc(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Qc(t){var e=[];return gc(t.fields||{},(function(t,n){var r=new Cc([t]);if(Kc(n)){var i=Qc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)})),new kc(e)}var Yc=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,vc.min(),Wc.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Wc.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Wc.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Wc.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Wc.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Zc=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Xc(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Zc(t,e,n,r,i,o,a)}function Jc(t){var e=uc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Uc(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Nc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=hl(e.startAt)),e.endAt&&(n+="|ub:",n+=hl(e.endAt)),e.h=n}return e.h}function $c(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!dl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Mc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vl(t.startAt,e.startAt)&&vl(t.endAt,e.endAt)}function tl(t){return Pc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var el=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Wu(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new nl(t,n,r):"array-contains"===n?new al(t,r):"in"===n?new sl(t,r):"not-in"===n?new ul(t,r):"array-contains-any"===n?new cl(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new rl(t,n):new il(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Fc(e,this.value)):null!==e&&jc(this.value)===jc(e)&&this.m(Fc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ac()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),nl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Pc.fromName(r.referenceValue),i}return Wu(e,t),e.prototype.matches=function(t){var e=Pc.comparator(t.key,this.key);return this.m(e)},e}(el),rl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ol(0,n),r}return Wu(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(el),il=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ol(0,n),r}return Wu(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(el);function ol(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Pc.fromName(t.referenceValue)}))}var al=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Wu(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Bc(e)&&Lc(e.arrayValue,this.value)},e}(el),sl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Wu(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Lc(this.value.arrayValue,e)},e}(el),ul=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Wu(e,t),e.prototype.matches=function(t){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Lc(this.value.arrayValue,e)},e}(el),cl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Wu(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Bc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Lc(e.value.arrayValue,t)}))},e}(el),ll=function(t,e){this.position=t,this.before=e};function hl(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Uc(t)})).join(",")}var fl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function dl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function pl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Pc.comparator(Pc.fromName(a.referenceValue),n.key):Fc(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function vl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Mc(t.position[n],e.position[n]))return!1;return!0}var yl=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function gl(t,e,n,r,i,o,a,s){return new yl(t,e,n,r,i,o,a,s)}function ml(t){return new yl(t)}function bl(t){return!Nc(t.limit)&&"F"===t.limitType}function _l(t){return!Nc(t.limit)&&"L"===t.limitType}function wl(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Cl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function kl(t){return null!==t.collectionGroup}function Sl(t){var e=uc(t);if(null===e.p){e.p=[];var n=Cl(e),r=wl(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new fl(n)),e.p.push(new fl(Cc.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new fl(Cc.keyField(),u))}}}return e.p}function El(t){var e=uc(t);if(!e.T)if("F"===e.limitType)e.T=Xc(e.path,e.collectionGroup,Sl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Sl(e);r<i.length;r++){var o=i[r];n.push(new fl(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new ll(e.endAt.position,!e.endAt.before):null,s=e.startAt?new ll(e.startAt.position,!e.startAt.before):null;e.T=Xc(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function Il(t,e,n){return new yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tl(t,e){return $c(El(t),El(e))&&t.limitType===e.limitType}function Ol(t){return Jc(El(t))+"|lt:"+t.limitType}function Al(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Uc(e.value);var e})).join(", ")+"]"),Nc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+hl(t.startAt)),t.endAt&&(e+=", endAt: "+hl(t.endAt)),"Target("+e+")"}(El(t))+"; limitType="+t.limitType+")"}function xl(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Pc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!pl(t.startAt,Sl(t),e)||t.endAt&&pl(t.endAt,Sl(t),e))}(t,e)}function Nl(t){return function(e,n){for(var r=!1,i=0,o=Sl(t);i<o.length;i++){var a=o[i],s=Dl(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Dl(t,e,n){var r=t.field.isKeyField()?Pc.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Fc(r,i):ac()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ac()}}function Rl(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(e)?"-0":e}}function Pl(t){return{integerValue:""+t}}function jl(t,e){return Rc(e)?Pl(e):Rl(t,e)}var Ml=function(){this._=void 0};function Ll(t,e,n){return t instanceof Ul?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ql?Hl(t,e):t instanceof Bl?zl(t,e):function(t,e){var n=Vl(t,e),r=Kl(n)+Kl(t.A);return Hc(n)&&Hc(t.A)?Pl(r):Rl(t.R,r)}(t,e)}function Fl(t,e,n){return t instanceof ql?Hl(t,e):t instanceof Bl?zl(t,e):n}function Vl(t,e){return t instanceof Gl?Hc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ul=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wu(e,t),e}(Ml),ql=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Wu(e,t),e}(Ml);function Hl(t,e){for(var n=Wl(e),r=function(t){n.some((function(e){return Mc(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Bl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Wu(e,t),e}(Ml);function zl(t,e){for(var n=Wl(e),r=function(t){n=n.filter((function(e){return!Mc(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Gl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Wu(e,t),e}(Ml);function Kl(t){return Tc(t.integerValue||t.doubleValue)}function Wl(t){return Bc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ql=function(t,e){this.field=t,this.transform=e},Yl=function(t,e){this.version=t,this.transformResults=e},Zl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Xl(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Jl=function(){};function $l(t,e,n){t instanceof ih?function(t,e,n){var r=t.value.clone(),i=sh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof oh?function(t,e,n){if(Xl(t.precondition,e)){var r=sh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ah(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function th(t,e,n){t instanceof ih?function(t,e,n){if(Xl(t.precondition,e)){var r=t.value.clone(),i=uh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(rh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof oh?function(t,e,n){if(Xl(t.precondition,e)){var r=uh(t.fieldTransforms,n,e),i=e.data;i.setAll(ah(t)),i.setAll(r),e.convertToFoundDocument(rh(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Xl(t.precondition,e)&&e.convertToNoDocument(vc.min())}(t,e)}function eh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=Vl(o.transform,a||null);null!=s&&(null==n&&(n=Wc.empty()),n.set(o.field,s))}return n||null}function nh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&fc(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ql&&e instanceof ql||t instanceof Bl&&e instanceof Bl?fc(t.elements,e.elements,Mc):t instanceof Gl&&e instanceof Gl?Mc(t.A,e.A):t instanceof Ul&&e instanceof Ul}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function rh(t){return t.isFoundDocument()?t.version:vc.min()}var ih=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Wu(e,t),e}(Jl),oh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Wu(e,t),e}(Jl);function ah(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function sh(t,e,n){var r=new Map;sc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Fl(a,s,n[i]))}return r}function uh(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Ll(s,u,e))}return r}var ch,lh,hh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Wu(e,t),e}(Jl),fh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Wu(e,t),e}(Jl),dh=function(t){this.count=t};function ph(t){switch(t){case Ju.OK:return ac();case Ju.CANCELLED:case Ju.UNKNOWN:case Ju.DEADLINE_EXCEEDED:case Ju.RESOURCE_EXHAUSTED:case Ju.INTERNAL:case Ju.UNAVAILABLE:case Ju.UNAUTHENTICATED:return!1;case Ju.INVALID_ARGUMENT:case Ju.NOT_FOUND:case Ju.ALREADY_EXISTS:case Ju.PERMISSION_DENIED:case Ju.FAILED_PRECONDITION:case Ju.ABORTED:case Ju.OUT_OF_RANGE:case Ju.UNIMPLEMENTED:case Ju.DATA_LOSS:return!0;default:return ac()}}function vh(t){if(void 0===t)return rc("GRPC error has no .code"),Ju.UNKNOWN;switch(t){case ch.OK:return Ju.OK;case ch.CANCELLED:return Ju.CANCELLED;case ch.UNKNOWN:return Ju.UNKNOWN;case ch.DEADLINE_EXCEEDED:return Ju.DEADLINE_EXCEEDED;case ch.RESOURCE_EXHAUSTED:return Ju.RESOURCE_EXHAUSTED;case ch.INTERNAL:return Ju.INTERNAL;case ch.UNAVAILABLE:return Ju.UNAVAILABLE;case ch.UNAUTHENTICATED:return Ju.UNAUTHENTICATED;case ch.INVALID_ARGUMENT:return Ju.INVALID_ARGUMENT;case ch.NOT_FOUND:return Ju.NOT_FOUND;case ch.ALREADY_EXISTS:return Ju.ALREADY_EXISTS;case ch.PERMISSION_DENIED:return Ju.PERMISSION_DENIED;case ch.FAILED_PRECONDITION:return Ju.FAILED_PRECONDITION;case ch.ABORTED:return Ju.ABORTED;case ch.OUT_OF_RANGE:return Ju.OUT_OF_RANGE;case ch.UNIMPLEMENTED:return Ju.UNIMPLEMENTED;case ch.DATA_LOSS:return Ju.DATA_LOSS;default:return ac()}}(lh=ch||(ch={}))[lh.OK=0]="OK",lh[lh.CANCELLED=1]="CANCELLED",lh[lh.UNKNOWN=2]="UNKNOWN",lh[lh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lh[lh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lh[lh.NOT_FOUND=5]="NOT_FOUND",lh[lh.ALREADY_EXISTS=6]="ALREADY_EXISTS",lh[lh.PERMISSION_DENIED=7]="PERMISSION_DENIED",lh[lh.UNAUTHENTICATED=16]="UNAUTHENTICATED",lh[lh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lh[lh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lh[lh.ABORTED=10]="ABORTED",lh[lh.OUT_OF_RANGE=11]="OUT_OF_RANGE",lh[lh.UNIMPLEMENTED=12]="UNIMPLEMENTED",lh[lh.INTERNAL=13]="INTERNAL",lh[lh.UNAVAILABLE=14]="UNAVAILABLE",lh[lh.DATA_LOSS=15]="DATA_LOSS";var yh=function(){function t(t,e){this.comparator=t,this.root=e||mh.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mh.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new gh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new gh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new gh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new gh(this.root,t,this.comparator,!0)},t}(),gh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),mh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ac();if(this.right.isRed())throw ac();var t=this.left.check();if(t!==this.right.check())throw ac();return t+(this.isRed()?0:1)},t}();mh.EMPTY=null,mh.RED=!0,mh.BLACK=!1,mh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ac()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ac()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ac()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ac()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ac()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new mh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var bh=function(){function t(t){this.comparator=t,this.data=new yh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new _h(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new _h(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),_h=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),wh=new yh(Pc.comparator);function Ch(){return wh}var kh=new yh(Pc.comparator);function Sh(){return kh}var Eh=new yh(Pc.comparator);function Ih(){return Eh}var Th=new bh(Pc.comparator);function Oh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Th,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ah=new bh(hc);function xh(){return Ah}var Nh=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Dh.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(vc.min(),r,xh(),Ch(),Oh())},t}(),Dh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Sc.EMPTY_BYTE_STRING,n,Oh(),Oh(),Oh())},t}(),Rh=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Ph=function(t,e){this.targetId=t,this.V=e},jh=function(t,e,n,r){void 0===n&&(n=Sc.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Mh=function(){function t(){this.S=0,this.D=Vh(),this.C=Sc.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Oh(),e=Oh(),n=Oh();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ac()}})),new Dh(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Vh()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Lh=function(){function t(t){this.W=t,this.G=new Map,this.H=Ch(),this.J=Fh(),this.Y=new bh(hc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:ac()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(tl(i))if(0===n){var o=new Pc(i.path);this.tt(e,o,Yc.newNoDocument(o,vc.min()))}else sc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&tl(o.target)){var a=new Pc(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,Yc.newNoDocument(a,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Oh();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Nh(t,n,this.Y,this.H,r);return this.H=Ch(),this.J=Fh(),this.Y=new bh(hc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Mh,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new bh(hc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||nc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Mh),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Fh(){return new yh(Pc.comparator)}function Vh(){return new yh(Pc.comparator)}var Uh={asc:"ASCENDING",desc:"DESCENDING"},qh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hh=function(t,e){this.databaseId=t,this.I=e};function Bh(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function zh(t,e){return t.I?e.toBase64():e.toUint8Array()}function Gh(t,e){return Bh(t,e.toTimestamp())}function Kh(t){return sc(!!t),vc.fromTimestamp(function(t){var e=Ic(t);return new pc(e.seconds,e.nanos)}(t))}function Wh(t,e){return function(t){return new _c(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Qh(t){var e=_c.fromString(t);return sc(mf(e)),e}function Yh(t,e){return Wh(t.databaseId,e.path)}function Zh(t,e){var n=Qh(e);if(n.get(1)!==t.databaseId.projectId)throw new $u(Ju.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $u(Ju.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pc(tf(n))}function Xh(t,e){return Wh(t.databaseId,e)}function Jh(t){var e=Qh(t);return 4===e.length?_c.emptyPath():tf(e)}function $h(t){return new _c(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tf(t){return sc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ef(t,e,n){return{name:Yh(t,e),fields:n.toProto().mapValue.fields}}function nf(t,e,n){var r=Zh(t,e.name),i=Kh(e.updateTime),o=new Wc({mapValue:{fields:e.fields}}),a=Yc.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function rf(t,e){var n;if(e instanceof ih)n={update:ef(t,e.key,e.value)};else if(e instanceof hh)n={delete:Yh(t,e.key)};else if(e instanceof oh)n={update:ef(t,e.key,e.data),updateMask:gf(e.fieldMask)};else{if(!(e instanceof fh))return ac();n={verify:Yh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ul)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ql)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Gl)return{fieldPath:e.field.canonicalString(),increment:n.A};throw ac()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Gh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ac()}(t,e.precondition)),n}function of(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Zl.updateTime(Kh(t.updateTime)):void 0!==t.exists?Zl.exists(t.exists):Zl.none()}(e.currentDocument):Zl.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(sc("REQUEST_TIME"===e.setToServerValue),n=new Ul):"appendMissingElements"in e?n=new ql(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Bl(e.removeAllFromArray.values||[]):"increment"in e?n=new Gl(t,e.increment):ac();var r=Cc.fromServerFormat(e.fieldPath);return new Ql(r,n)}(t,e)})):[];if(e.update){var i=Zh(t,e.update.name),o=new Wc({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new kc((t.fieldPaths||[]).map((function(t){return Cc.fromServerFormat(t)})))}(e.updateMask);return new oh(i,o,a,n,r)}return new ih(i,o,n,r)}if(e.delete){var s=Zh(t,e.delete);return new hh(s,n)}if(e.verify){var u=Zh(t,e.verify);return new fh(u,n)}return ac()}function af(t,e){return{documents:[Xh(t,e.path)]}}function sf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Xh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Xh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Gc(t.value))return{unaryFilter:{field:df(t.field),op:"IS_NAN"}};if(zc(t.value))return{unaryFilter:{field:df(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Gc(t.value))return{unaryFilter:{field:df(t.field),op:"IS_NOT_NAN"}};if(zc(t.value))return{unaryFilter:{field:df(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:df(t.field),op:ff(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:df(t.field),direction:hf(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||Nc(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=cf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=cf(e.endAt)),n}function uf(t){var e=Jh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){sc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[yf(e)]:void 0!==e.fieldFilter?[vf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):ac():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new fl(pf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Nc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=lf(n.startAt));var l=null;return n.endAt&&(l=lf(n.endAt)),gl(e,i,s,a,u,"F",c,l)}function cf(t){return{before:t.before,values:t.position}}function lf(t){return new ll(t.values||[],!!t.before)}function hf(t){return Uh[t]}function ff(t){return qh[t]}function df(t){return{fieldPath:t.canonicalString()}}function pf(t){return Cc.fromServerFormat(t.fieldPath)}function vf(t){return el.create(pf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ac()}}(t.fieldFilter.op),t.fieldFilter.value)}function yf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=pf(t.unaryFilter.field);return el.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=pf(t.unaryFilter.field);return el.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=pf(t.unaryFilter.field);return el.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=pf(t.unaryFilter.field);return el.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ac()}}function gf(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function mf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function bf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=wf(e)),e=_f(t.get(n),e);return wf(e)}function _f(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function wf(t){return t+"\x01\x01"}function Cf(t){var e=t.length;if(sc(e>=2),2===e)return sc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),_c.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&ac(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:ac()}o=a+2}return new _c(r)}var kf=function(t,e){this.seconds=t,this.nanoseconds=e},Sf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Sf.store="owner",Sf.key="owner";var Ef=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ef.store="mutationQueues",Ef.keyPath="userId";var If=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};If.store="mutations",If.keyPath="batchId",If.userMutationsIndex="userMutationsIndex",If.userMutationsKeyPath=["userId","batchId"];var Tf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,bf(e)]},t.key=function(t,e,n){return[t,bf(e),n]},t}();Tf.store="documentMutations",Tf.PLACEHOLDER=new Tf;var Of=function(t,e){this.path=t,this.readTime=e},Af=function(t,e){this.path=t,this.version=e},xf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};xf.store="remoteDocuments",xf.readTimeIndex="readTimeIndex",xf.readTimeIndexPath="readTime",xf.collectionReadTimeIndex="collectionReadTimeIndex",xf.collectionReadTimeIndexPath=["parentPath","readTime"];var Nf=function(t){this.byteSize=t};Nf.store="remoteDocumentGlobal",Nf.key="remoteDocumentGlobalKey";var Df=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Df.store="targets",Df.keyPath="targetId",Df.queryTargetsIndexName="queryTargetsIndex",Df.queryTargetsKeyPath=["canonicalId","targetId"];var Rf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Rf.store="targetDocuments",Rf.keyPath=["targetId","path"],Rf.documentTargetsIndex="documentTargetsIndex",Rf.documentTargetsKeyPath=["path","targetId"];var Pf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Pf.key="targetGlobalKey",Pf.store="targetGlobal";var jf=function(t,e){this.collectionId=t,this.parent=e};jf.store="collectionParents",jf.keyPath=["collectionId","parent"];var Mf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Mf.store="clientMetadata",Mf.keyPath="clientId";var Lf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Lf.store="bundles",Lf.keyPath="bundleId";var Ff=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ff.store="namedQueries",Ff.keyPath="name";var Vf=Zu(Zu([],Zu(Zu([],Zu(Zu([],Zu(Zu([],[Ef.store,If.store,Tf.store,xf.store,Df.store,Sf.store,Pf.store,Rf.store]),[Mf.store])),[Nf.store])),[jf.store])),[Lf.store,Ff.store]),Uf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Hf=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Bf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ac(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),zf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Hf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Wf(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Jf(e.target.error);n.ft.reject(new Wf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Wf(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(nc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Yf(e)},t}(),Gf=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(zi.h)())&&rc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return nc("SimpleDb","Removing database:",t),Zf(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(zi.h)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Qu(this,void 0,void 0,(function(){var e,n=this;return Yu(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(nc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Wf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new $u(Ju.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Wf(t,n))},i.onupgradeneeded=function(t){nc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){nc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Qu(this,void 0,void 0,(function(){var i,o,a,s,u;return Yu(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Yu(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=zf.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Bf.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return nc("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Kf=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Zf(this.Pt.delete())},t}(),Wf=function(t){function e(e,n){var r=this;return(r=t.call(this,Ju.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Wu(e,t),e}($u);function Qf(t){return"IndexedDbTransactionError"===t.name}var Yf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(nc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(nc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Zf(n)},t.prototype.add=function(t){return nc("SimpleDb","ADD",this.store.name,t,t),Zf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Zf(this.store.get(t)).next((function(n){return void 0===n&&(n=null),nc("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return nc("SimpleDb","DELETE",this.store.name,t),Zf(this.store.delete(t))},t.prototype.count=function(){return nc("SimpleDb","COUNT",this.store.name),Zf(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){nc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Bf((function(n,r){e.onerror=function(t){var e=Jf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Bf((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Kf(i),a=e(i.primaryKey,i.value,o);if(a instanceof Bf){var s=a.catch((function(t){return o.done(),Bf.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Bf.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Zf(t){return new Bf((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Jf(t.target.error);n(e)}}))}var Xf=!1;function Jf(t){var e=Gf._t(Object(zi.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new $u("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Xf||(Xf=!0,setTimeout((function(){throw r}),0)),r}}return t}var $f=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Wu(e,t),e}(qf);function td(t,e){var n=uc(t);return Gf.It(n.Mt,e)}var ed=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&$l(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&th(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&th(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(vc.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Oh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&fc(this.mutations,t.mutations,(function(t,e){return nh(t,e)}))&&fc(this.baseMutations,t.baseMutations,(function(t,e){return nh(t,e)}))},t}(),nd=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){sc(e.mutations.length===r.length);for(var i=Ih(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),rd=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=vc.min()),void 0===o&&(o=vc.min()),void 0===a&&(a=Sc.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),id=function(t){this.Lt=t};function od(t,e){if(e.document)return nf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Pc.fromSegments(e.noDocument.path),r=ld(e.noDocument.readTime),i=Yc.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Pc.fromSegments(e.unknownDocument.path);return r=ld(e.unknownDocument.version),Yc.newUnknownDocument(o,r)}return ac()}function ad(t,e,n){var r=sd(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Yh(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Bh(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new xf(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=cd(e.version);return a=e.hasCommittedMutations,new xf(null,new Of(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=cd(e.version);return new xf(new Af(c,l),null,null,!0,r,i)}return ac()}function sd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ud(t){var e=new pc(t[0],t[1]);return vc.fromTimestamp(e)}function cd(t){var e=t.toTimestamp();return new kf(e.seconds,e.nanoseconds)}function ld(t){var e=new pc(t.seconds,t.nanoseconds);return vc.fromTimestamp(e)}function hd(t,e){for(var n=(e.baseMutations||[]).map((function(e){return of(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return of(t.Lt,e)})),o=pc.fromMillis(e.localWriteTimeMs);return new ed(e.batchId,o,n,i)}function fd(t){var e,n,r=ld(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ld(t.lastLimboFreeSnapshotVersion):vc.min();return void 0!==t.query.documents?(sc(1===(n=t.query).documents.length),e=El(ml(Jh(n.documents[0])))):e=function(t){return El(uf(t))}(t.query),new rd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Sc.fromBase64String(t.resumeToken))}function dd(t,e){var n,r=cd(e.snapshotVersion),i=cd(e.lastLimboFreeSnapshotVersion);n=tl(e.target)?af(t.Lt,e.target):sf(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Df(e.targetId,Jc(e.target),r,o,e.sequenceNumber,i,n)}function pd(t){var e=uf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Il(e,e.limit,"L"):e}var vd=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return yd(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:ld(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return yd(t).put({bundleId:(n=e).id,createTime:cd(Kh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return gd(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:pd(e.bundledQuery),readTime:ld(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return gd(t).put(function(t){return{name:t.name,readTime:cd(Kh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function yd(t){return td(t,Lf.store)}function gd(t){return td(t,Ff.store)}var md=function(){function t(){this.Bt=new bd}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Bf.resolve()},t.prototype.getCollectionParents=function(t,e){return Bf.resolve(this.Bt.getEntries(e))},t}(),bd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new bh(_c.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new bh(_c.comparator)).toArray()},t}(),_d=function(){function t(){this.qt=new bd}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:bf(i)};return wd(t).put(o)}return Bf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[dc(e),""],!1,!0);return wd(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Cf(o.parent))}return n}))},t}();function wd(t){return td(t,jf.store)}var Cd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kd=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Sd(t,e,n){var r=t.store(If.store),i=t.store(Tf.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){sc(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Tf.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Bf.waitFor(o).next((function(){return c}))}function Ed(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ac();e=t.noDocument}return JSON.stringify(e).length}kd.DEFAULT_COLLECTION_PERCENTILE=10,kd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kd.DEFAULT=new kd(41943040,kd.DEFAULT_COLLECTION_PERCENTILE,kd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kd.DISABLED=new kd(-1,0,0);var Id=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return sc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Od(t).Ot({index:If.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Ad(t),a=Od(t);return a.add({}).next((function(s){sc("number"==typeof s);for(var u=new ed(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return rf(t.Lt,e)})),i=n.mutations.map((function(e){return rf(t.Lt,e)}));return new If(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new bh((function(t,e){return hc(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Tf.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Tf.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),Bf.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Od(t).get(e).next((function(t){return t?(sc(t.userId===n.userId),hd(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Bf.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Od(t).Ot({index:If.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(sc(e.batchId>=r),o=hd(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Od(t).Ot({index:If.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Od(t).Nt(If.userMutationsIndex,n).next((function(t){return t.map((function(t){return hd(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Tf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ad(t).Ot({range:i},(function(r,i,a){var s=r[0],u=r[2],c=Cf(r[1]);if(s===n.userId&&e.path.isEqual(c))return Od(t).get(u).next((function(t){if(!t)throw ac();sc(t.userId===n.userId),o.push(hd(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new bh(hc),i=[];return e.forEach((function(e){var o=Tf.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Ad(t).Ot({range:a},(function(t,i,o){var a=t[0],s=t[2],u=Cf(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),Bf.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Tf.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new bh(hc);return Ad(t).Ot({range:a},(function(t,e,o){var a=t[0],u=t[2],c=Cf(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Od(t).get(e).next((function(t){if(null===t)throw ac();sc(t.userId===n.userId),r.push(hd(n.R,t))})))})),Bf.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Sd(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Bf.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Bf.resolve();var r=IDBKeyRange.lowerBound(Tf.prefixForUser(e.userId)),i=[];return Ad(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Cf(t[1]);i.push(o)}else r.done()})).next((function(){sc(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Td(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return xd(t).get(this.userId).next((function(t){return t||new Ef(e.userId,-1,"")}))},t}();function Td(t,e,n){var r=Tf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Ad(t).Ot({range:o,kt:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function Od(t){return td(t,If.store)}function Ad(t){return td(t,Tf.store)}function xd(t){return td(t,Ef.store)}var Nd=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Dd=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Nd(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return vc.fromTimestamp(new pc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Rd(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return sc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Rd(t).Ot((function(a,s){var u=fd(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Bf.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Rd(t).Ot((function(t,n){var r=fd(n);e(r)}))},t.prototype.Xt=function(t){return Pd(t).get(Pf.key).next((function(t){return sc(null!==t),t}))},t.prototype.Zt=function(t,e){return Pd(t).put(Pf.key,e)},t.prototype.te=function(t,e){return Rd(t).put(dd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Jc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Rd(t).Ot({range:r,index:Df.queryTargetsIndexName},(function(t,n,r){var o=fd(n);$c(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=jd(t);return e.forEach((function(e){var a=bf(e.path);i.push(o.put(new Rf(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),Bf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=jd(t);return Bf.forEach(e,(function(e){var o=bf(e.path);return Bf.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=jd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=jd(t),i=Oh();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=Cf(t[1]),o=new Pc(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=bf(e.path),r=IDBKeyRange.bound([n],[dc(n)],!1,!0),i=0;return jd(t).Ot({index:Rf.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Rd(t).get(e).next((function(t){return t?fd(t):null}))},t}();function Rd(t){return td(t,Df.store)}function Pd(t){return td(t,Pf.store)}function jd(t){return td(t,Rf.store)}function Md(t){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(e){if(t.code!==Ju.FAILED_PRECONDITION||t.message!==Uf)throw t;return nc("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Ld(t,e){var n=t[1],r=e[1],i=hc(t[0],e[0]);return 0===i?hc(n,r):i}var Fd=function(){function t(t){this.ne=t,this.buffer=new bh(Ld),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ld(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Vd=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;nc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Qu(e,void 0,void 0,(function(){var e;return Yu(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Qf(e=n.sent())?(nc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Md(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Ud=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Bf.resolve(Xu.o);var r=new Fd(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(nc("LruGarbageCollector","Garbage collection skipped; disabled"),Bf.resolve(Cd)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(nc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Cd):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(nc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),ec()<=Gi.a.DEBUG&&nc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Bf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),qd=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Ud(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Hd(t,n)},t.prototype.removeReference=function(t,e,n){return Hd(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Hd(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return xd(t).$t((function(r){return Td(t,r,e).next((function(t){return t&&(n=!0),Bf.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),jd(t).delete([0,bf(a.path)])}))}));i.push(u)}})).next((function(){return Bf.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Hd(t,e)},t.prototype.we=function(t,e){var n,r=jd(t),i=Xu.o;return r.Ot({index:Rf.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Xu.o&&e(new Pc(Cf(n)),i),i=a,n=o):i=Xu.o})).next((function(){i!==Xu.o&&e(new Pc(Cf(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Hd(t,e){return jd(t).put(function(t,e){return new Rf(0,bf(t.path),e)}(e,t.currentSequenceNumber))}var Bd=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){gc(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return mc(this.inner)},t}(),zd=function(){function t(){this.changes=new Bd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:vc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Yc.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Bf.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Gd=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Qd(t).put(Yd(e),n)},t.prototype.removeEntry=function(t,e){var n=Qd(t),r=Yd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Qd(t).get(Yd(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Qd(t).get(Yd(e)).next((function(t){return{document:n.ye(e,t),size:Ed(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Ch();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Ch(),i=new yh(Pc.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Ed(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Bf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Qd(t).Ot({range:r},(function(t,e,r){for(var a=Pc.fromSegments(t);o&&Pc.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Ch(),o=e.path.length+1,a={};if(n.isEqual(vc.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=sd(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=xf.collectionReadTimeIndex}return Qd(t).Ot(a,(function(t,n,a){if(t.length===o){var s=od(r.R,n);e.path.isPrefixOf(s.key.path)?xl(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Kd(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Wd(t).get(Nf.key).next((function(t){return sc(!!t),t}))},t.prototype.me=function(t,e){return Wd(t).put(Nf.key,e)},t.prototype.ye=function(t,e){if(e){var n=od(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(vc.min()))return n}return Yc.newInvalidDocument(t)},t}(),Kd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Bd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Wu(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new bh((function(t,e){return hc(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=ad(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Ed(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=ad(e.Ie.R,Yc.newNoDocument(o,vc.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Bf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(zd);function Wd(t){return td(t,Nf.store)}function Qd(t){return td(t,xf.store)}function Yd(t){return t.path.toArray()}var Zd=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;sc(n<r&&n>=0&&r<=11);var o=new zf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Sf.store)}(t),function(t){t.createObjectStore(Ef.store,{keyPath:Ef.keyPath}),t.createObjectStore(If.store,{keyPath:If.keyPath,autoIncrement:!0}).createIndex(If.userMutationsIndex,If.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Tf.store)}(t),Xd(t),function(t){t.createObjectStore(xf.store)}(t));var a=Bf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Rf.store),t.deleteObjectStore(Df.store),t.deleteObjectStore(Pf.store)}(t),Xd(t)),a=a.next((function(){return function(t){var e=t.store(Pf.store),n=new Pf(0,0,vc.min().toTimestamp(),0);return e.put(Pf.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(If.store).Nt().next((function(n){t.deleteObjectStore(If.store),t.createObjectStore(If.store,{keyPath:If.keyPath,autoIncrement:!0}).createIndex(If.userMutationsIndex,If.userMutationsKeyPath,{unique:!0});var r=e.store(If.store),i=n.map((function(t){return r.put(t)}));return Bf.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Mf.store,{keyPath:Mf.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Nf.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(xf.store);e.createIndex(xf.readTimeIndex,xf.readTimeIndexPath,{unique:!1}),e.createIndex(xf.collectionReadTimeIndex,xf.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(Lf.store,{keyPath:Lf.keyPath})}(t),function(t){t.createObjectStore(Ff.store,{keyPath:Ff.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(xf.store).Ot((function(t,n){e+=Ed(n)})).next((function(){var n=new Nf(e);return t.store(Nf.store).put(Nf.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Ef.store),r=t.store(If.store);return n.Nt().next((function(n){return Bf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(If.userMutationsIndex,i).next((function(r){return Bf.forEach(r,(function(r){sc(r.userId===n.userId);var i=hd(e.R,r);return Sd(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Rf.store),n=t.store(xf.store);return t.store(Pf.store).get(Pf.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new _c(n),a=function(t){return[0,bf(t)]}(o);r.push(e.get(a).next((function(n){return n?Bf.resolve():function(n){return e.put(new Rf(0,bf(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Bf.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(jf.store,{keyPath:jf.keyPath});var n=e.store(jf.store),r=new bd,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:bf(i)})}};return e.store(xf.store).Ot({kt:!0},(function(t,e){var n=new _c(t);return i(n.popLast())})).next((function(){return e.store(Tf.store).Ot({kt:!0},(function(t,e){var n=Cf(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Df.store);return n.Ot((function(t,r){var i=fd(r),o=dd(e.R,i);return n.put(o)}))},t}();function Xd(t){t.createObjectStore(Rf.store,{keyPath:Rf.keyPath}).createIndex(Rf.documentTargetsIndex,Rf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Df.store,{keyPath:Df.keyPath}).createIndex(Df.queryTargetsIndexName,Df.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Pf.store)}var Jd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$d=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new $u(Ju.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qd(this,i),this.Le=n+"main",this.R=new id(u),this.Be=new Gf(this.Le,11,new Zd(this.R)),this.qe=new Dd(this.referenceDelegate,this.R),this.Ut=new _d,this.Ue=function(t,e){return new Gd(t,e)}(this.R,this.Ut),this.Qe=new vd,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&rc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new $u(Ju.FAILED_PRECONDITION,Jd);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Xu(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Qu(e,void 0,void 0,(function(){return Yu(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Qu(e,void 0,void 0,(function(){return Yu(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Qu(e,void 0,void 0,(function(){return Yu(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return ep(e).put(new Mf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Qf(e))return nc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return nc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return tp(t).get(Sf.key).next((function(t){return Bf.resolve(e.tn(t))}))},t.prototype.en=function(t){return ep(t).delete(this.clientId)},t.prototype.nn=function(){return Qu(this,void 0,void 0,(function(){var t,e,n,r=this;return Yu(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=td(t,Mf.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Bf.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Bf.resolve(!0):tp(t).get(Sf.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new $u(Ju.FAILED_PRECONDITION,Jd);return!1}}return!(!e.networkEnabled||!e.inForeground)||ep(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&nc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Qu(this,void 0,void 0,(function(){var t=this;return Yu(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Sf.store,Mf.store],(function(e){var n=new $f(e,Xu.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return ep(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Id.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return nc("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Vf,(function(o){return r=new $f(o,i.Ne?i.Ne.next():Xu.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw rc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new $u(Ju.FAILED_PRECONDITION,Uf);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return tp(t).get(Sf.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new $u(Ju.FAILED_PRECONDITION,Jd)}))},t.prototype.Ze=function(t){var e=new Sf(this.clientId,this.allowTabSynchronization,Date.now());return tp(t).put(Sf.key,e)},t.yt=function(){return Gf.yt()},t.prototype.Xe=function(t){var e=this,n=tp(t);return n.get(Sf.key).next((function(t){return e.tn(t)?(nc("IndexedDbPersistence","Releasing primary lease."),n.delete(Sf.key)):Bf.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(rc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return nc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return rc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){rc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function tp(t){return td(t,Sf.store)}function ep(t){return td(t,Mf.store)}function np(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var rp=function(t,e){this.progress=t,this.wn=e},ip=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Pc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):kl(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Pc(e)).next((function(t){var e=Sh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Sh();return this.Ut.getCollectionParents(t,i).next((function(a){return Bf.forEach(a,(function(a){var s=function(t,e){return new yl(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Yc.newInvalidDocument(c),r=r.insert(c,l)),th(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){xl(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Oh(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof oh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),op=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Oh(),i=Oh(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ap=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(vc.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(bl(e)||_l(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(ec()<=Gi.a.DEBUG&&nc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Al(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new bh(Nl(t));return e.forEach((function(e,r){xl(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return ec()<=Gi.a.DEBUG&&nc("QueryEngine","Using full collection scan to execute query:",Al(e)),this.Sn.getDocumentsMatchingQuery(t,e,vc.min())},t}(),sp=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new yh(hc),this.kn=new Bd((function(t){return Jc(t)}),$c),this.On=vc.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new ip(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function up(t,e,n,r){return new sp(t,e,n,r)}function cp(t,e){return Qu(this,void 0,void 0,(function(){var n,r,i,o;return Yu(this,(function(a){switch(a.label){case 0:return n=uc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new ip(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=Oh(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function lp(t,e){var n=uc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Bf.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);sc(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function hp(t){var e=uc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function fp(t,e){var n=uc(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return sc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=Ch();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(dp(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(vc.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return Bf.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.Fn=i,t}))}function dp(t,e,n,r,i){var o=Oh();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Ch();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(vc.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):nc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function pp(t,e){var n=uc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function vp(t,e){var n=uc(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?Bf.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new rd(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function yp(t,e,n){return Qu(this,void 0,void 0,(function(){var r,i,o,a;return Yu(this,(function(s){switch(s.label){case 0:r=uc(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Qf(a=s.sent()))throw a;return nc("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function gp(t,e,n){var r=uc(t),i=vc.min(),o=Oh();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=uc(t),i=r.kn.get(n);return void 0!==i?Bf.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,El(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:vc.min(),n?o:Oh())})).next((function(t){return{documents:t,Bn:o}}))}))}function mp(t,e){var n=uc(t),r=uc(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function bp(t){var e=uc(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=uc(t),i=Ch(),o=sd(n),a=Qd(e),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:xf.readTimeIndex,range:s},(function(t,e){var n=od(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:ud(o)}}))}(e.$n,t,e.On)})).then((function(t){var n=t.wn;return e.On=t.readTime,n}))}function _p(t){return Qu(this,void 0,void 0,(function(){var e;return Yu(this,(function(n){return[2,(e=uc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Qd(t),n=vc.min();return e.Ot({index:xf.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=ud(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.On=t}))]}))}))}function wp(t,e,n,r){return Qu(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return Yu(this,(function(p){switch(p.label){case 0:for(i=uc(t),o=Oh(),a=Ch(),s=Ih(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,e.Un(l)),s=s.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,vp(i,function(t){return El(ml(_c.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return dp(t,f,a,vc.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Cp(t,e,n){return void 0===n&&(n=Oh()),Qu(this,void 0,void 0,(function(){var r,i;return Yu(this,(function(o){switch(o.label){case 0:return[4,vp(t,El(pd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=uc(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Kh(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var a=r.withResumeToken(Sc.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))}var kp=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Bf.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Kh(n.createTime)}),Bf.resolve()},t.prototype.getNamedQuery=function(t,e){return Bf.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:pd(t.bundledQuery),readTime:Kh(t.readTime)}}(e)),Bf.resolve()},t}(),Sp=function(){function t(){this.Wn=new bh(Ep.Gn),this.zn=new bh(Ep.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Ep(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Ep(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new Pc(new _c([])),r=new Ep(n,t),i=new Ep(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Pc(new _c([])),n=new Ep(e,t),r=new Ep(e,t+1),i=Oh();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Ep(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Ep=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Pc.comparator(t.key,e.key)||hc(t.ns,e.ns)},t.Hn=function(t,e){return hc(t.ns,e.ns)||Pc.comparator(t.key,e.key)},t}(),Ip=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new bh(Ep.Gn)}return t.prototype.checkEmpty=function(t){return Bf.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new ed(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Ep(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Bf.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Bf.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Bf.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Bf.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Bf.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Ep(e,0),i=new Ep(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Bf.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new bh(hc);return e.forEach((function(t){var e=new Ep(t,0),i=new Ep(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Bf.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Pc.isDocumentKey(i)||(i=i.child(""));var o=new Ep(new Pc(i),0),a=new bh(hc);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),Bf.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;sc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Bf.forEach(e.mutations,(function(i){var o=new Ep(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Ep(e,0),r=this.rs.firstAfterOrEqual(n);return Bf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Bf.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Tp=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new yh(Pc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Bf.resolve(n?n.document.clone():Yc.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ch();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Yc.newInvalidDocument(t))})),Bf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Ch(),i=new Pc(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||xl(e,u)&&(r=r.insert(u.key,u.clone()))}return Bf.resolve(r)},t.prototype.fs=function(t,e){return Bf.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Op(this)},t.prototype.getSize=function(t){return Bf.resolve(this.size)},t}(),Op=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Wu(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Bf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(zd),Ap=function(){function t(t){this.persistence=t,this.ds=new Bd((function(t){return Jc(t)}),$c),this.lastRemoteSnapshotVersion=vc.min(),this.highestTargetId=0,this.ws=0,this._s=new Sp,this.targetCount=0,this.ys=Nd.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Bf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Bf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Bf.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Bf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Bf.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Nd(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Bf.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Bf.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Bf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),Bf.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Bf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Bf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Bf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Bf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Bf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Bf.resolve(n)},t.prototype.containsKey=function(t,e){return Bf.resolve(this._s.containsKey(e))},t}(),xp=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Xu(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Ap(this),this.Ut=new md,this.Ue=function(t,e){return new Tp(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new id(e),this.Qe=new kp(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Ip(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;nc("MemoryPersistence","Starting transaction:",t);var i=new Np(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Bf.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Np=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Wu(e,t),e}(qf),Dp=function(){function t(t){this.persistence=t,this.As=new Sp,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ac()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Bf.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Bf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Bf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bf.forEach(this.vs,(function(r){var i=Pc.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Bf.or([function(){return Bf.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Rp=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Pp(t,e){return"firestore_clients_"+t+"_"+e}function jp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Mp(t,e){return"firestore_targets_"+t+"_"+e}Rp.UNAUTHENTICATED=new Rp(null),Rp.GOOGLE_CREDENTIALS=new Rp("google-credentials-uid"),Rp.FIRST_PARTY=new Rp("first-party-uid");var Lp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new $u(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(rc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Fp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new $u(i.error.code,i.error.message)),o?new t(e,i.state,r):(rc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=xh(),a=0;i&&a<r.activeTargetIds.length;++a)i=Rc(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(rc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Up=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(rc("SharedClientState","Failed to parse online state: "+e),null)},t}(),qp=function(){function t(){this.activeTargetIds=xh()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Hp=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new yh(hc),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Pp(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new qp),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Qu(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Yu(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Pp(this.persistenceKey,r)))&&(o=Vp.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Mp(this.persistenceKey,t));if(n){var r=Fp.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Mp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return nc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){nc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){nc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(nc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void rc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Qu(e,void 0,void 0,(function(){var t,e,r,i,o,a;return Yu(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=Xu.o;if(null!=t)try{var n=JSON.parse(t);sc("number"==typeof n),e=n}catch(t){rc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Xu.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Lp(this.currentUser,t,e,n),i=jp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=jp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Mp(this.persistenceKey,t),i=new Fp(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Vp.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Lp.Vs(new Rp(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Fp.Vs(r,e)},t.prototype.js=function(t){return Up.Vs(t)},t.prototype.ii=function(t){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(nc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=xh();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Bp=function(){function t(){this.li=new qp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new qp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),zp=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Gp=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){nc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){nc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Kp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Wp=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Qp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Wu(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var a=new Gu;a.listenOnce(Hu.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case qu.NO_ERROR:var e=a.getResponseJson();nc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case qu.TIMEOUT:nc("Connection",'RPC "'+t+'" timed out'),o(new $u(Ju.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:var n=a.getStatus();if(nc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ju).indexOf(e)>=0?e:Ju.UNKNOWN}(r.status);o(new $u(s,r.message))}else o(new $u(Ju.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new $u(Ju.UNAVAILABLE,"Connection failed."));break;default:ac()}}finally{nc("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Mu,i=Va(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(zi.m)()||Object(zi.o)()||Object(zi.k)()||Object(zi.l)()||Object(zi.p)()||Object(zi.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");nc("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Wp({Ei:function(t){c?nc("Connection","Not sending because WebChannel is closed:",t):(u||(nc("Connection","Opening WebChannel transport."),s.open(),u=!0),nc("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,zu.EventType.OPEN,(function(){c||nc("Connection","WebChannel transport opened.")})),h(s,zu.EventType.CLOSE,(function(){c||(c=!0,nc("Connection","WebChannel transport closed"),l.Vi())})),h(s,zu.EventType.ERROR,(function(t){c||(c=!0,ic("Connection","WebChannel transport errored:",t),l.Vi(new $u(Ju.UNAVAILABLE,"The operation could not be completed")))})),h(s,zu.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];sc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){nc("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=ch[t];if(void 0!==e)return vh(e)}(i),a=r.message;void 0===o&&(o=Ju.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new $u(o,a)),s.close()}else nc("Connection","WebChannel received:",n),l.Si(n)}})),h(i,Bu.STAT_EVENT,(function(t){10===t.stat?nc("Connection","Detected buffering proxy"):11===t.stat&&nc("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);nc("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return nc("RestConnection","Received: ",t),t}),(function(e){throw ic("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Kp[t]},t}());function Yp(){return"undefined"!=typeof window?window:null}function Zp(){return"undefined"!=typeof document?document:null}function Xp(t){return new Hh(t,!0)}var Jp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&nc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),$p=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Jp(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ju.RESOURCE_EXHAUSTED?(rc(e.toString()),rc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Ju.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new $u(Ju.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Qu(t,void 0,void 0,(function(){return Yu(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return nc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(nc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),tv=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Wu(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ac()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(sc(void 0===e||"string"==typeof e),Sc.fromBase64String(e||"")):(sc(void 0===e||e instanceof Uint8Array),Sc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ju.UNKNOWN:vh(t.code);return new $u(e,t.message||"")}(s);n=new jh(r,i,o,a||null)}else if("documentChange"in e){i=Zh(t,(r=e.documentChange).document.name),o=Kh(r.document.updateTime);var s=new Wc({mapValue:{fields:r.document.fields}}),u=(a=Yc.newFoundDocument(i,o,s),r.targetIds||[]);n=new Rh(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=Zh(t,(r=e.documentDelete).document),o=r.readTime?Kh(r.readTime):vc.min(),s=Yc.newNoDocument(i,o),n=new Rh([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=Zh(t,(r=e.documentRemove).document),n=new Rh([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ac();var c=e.filter;i=new dh(r=c.count||0),n=new Ph(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return vc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?vc.min():e.readTime?Kh(e.readTime):vc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=$h(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=tl(r)?{documents:af(t,r)}:{query:sf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=zh(t,e.resumeToken):e.snapshotVersion.compareTo(vc.min())>0&&(n.readTime=Bh(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ac()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=$h(this.R),e.removeTarget=t,this.cr(e)},e}($p),ev=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Wu(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(sc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(sc(void 0!==e),t.map((function(t){return function(t,e){var n=Kh(t.updateTime?t.updateTime:e);return n.isEqual(vc.min())&&(n=Kh(e)),new Yl(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Kh(t.commitTime);return this.listener.Tr(n,e)}return sc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=$h(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return rf(e.R,t)}))};this.cr(n)},e}($p),nv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Wu(e,t),e.prototype.br=function(){if(this.Rr)throw new $u(Ju.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw t.code===Ju.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw t.code===Ju.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.terminate=function(){this.Rr=!1},e}((function(){})),rv=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(rc(e),this.Vr=!1):nc("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),iv=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Qu(o,void 0,void 0,(function(){return Yu(this,(function(t){switch(t.label){case 0:return dv(this)?(nc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Qu(this,void 0,void 0,(function(){var e;return Yu(this,(function(n){switch(n.label){case 0:return(e=uc(t)).$r.add(4),[4,av(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,ov(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new rv(n,r)};function ov(t){return Qu(this,void 0,void 0,(function(){var e,n;return Yu(this,(function(r){switch(r.label){case 0:if(!dv(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function av(t){return Qu(this,void 0,void 0,(function(){var e,n;return Yu(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function sv(t,e){var n=uc(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),fv(n)?hv(n):Ov(n).er()&&cv(n,e))}function uv(t,e){var n=uc(t),r=Ov(n);n.Or.delete(e),r.er()&&lv(n,e),0===n.Or.size&&(r.er()?r.ir():dv(n)&&n.Br.set("Unknown"))}function cv(t,e){t.qr.U(e.targetId),Ov(t).mr(e)}function lv(t,e){t.qr.U(e),Ov(t).yr(e)}function hv(t){t.qr=new Lh({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Ov(t).start(),t.Br.Sr()}function fv(t){return dv(t)&&!Ov(t).tr()&&t.Or.size>0}function dv(t){return 0===uc(t).$r.size}function pv(t){t.qr=void 0}function vv(t){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(e){return t.Or.forEach((function(e,n){cv(t,e)})),[2]}))}))}function yv(t,e){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(n){return pv(t),fv(t)?(t.Br.Nr(e),hv(t)):t.Br.set("Unknown"),[2]}))}))}function gv(t,e,n){return Qu(this,void 0,void 0,(function(){var r,i,o;return Yu(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof jh&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Qu(this,void 0,void 0,(function(){var n,r,i,o;return Yu(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Or.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),nc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,mv(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Rh?t.qr.X(e):e instanceof Ph?t.qr.rt(e):t.qr.et(e),n.isEqual(vc.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,hp(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Sc.EMPTY_BYTE_STRING,n.snapshotVersion)),lv(t,e);var r=new rd(n.target,e,1,n.sequenceNumber);cv(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return nc("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,mv(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function mv(t,e,n){return Qu(this,void 0,void 0,(function(){var r=this;return Yu(this,(function(i){switch(i.label){case 0:if(!Qf(e))throw e;return t.$r.add(1),[4,av(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return hp(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Qu(r,void 0,void 0,(function(){return Yu(this,(function(e){switch(e.label){case 0:return nc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,ov(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function bv(t,e){return e().catch((function(n){return mv(t,n,e)}))}function _v(t){return Qu(this,void 0,void 0,(function(){var e,n,r,i,o;return Yu(this,(function(a){switch(a.label){case 0:e=uc(t),n=Av(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return dv(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,pp(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Av(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,mv(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return wv(e)&&Cv(e),[2]}}))}))}function wv(t){return dv(t)&&!Av(t).tr()&&t.kr.length>0}function Cv(t){Av(t).start()}function kv(t){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(e){return Av(t).Ar(),[2]}))}))}function Sv(t){return Qu(this,void 0,void 0,(function(){var e,n,r;return Yu(this,(function(i){for(e=Av(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function Ev(t,e,n){return Qu(this,void 0,void 0,(function(){var r,i;return Yu(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=nd.from(r,e,n),[4,bv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,_v(t)];case 2:return o.sent(),[2]}}))}))}function Iv(t,e){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(n){switch(n.label){case 0:return e&&Av(t).pr?[4,function(t,e){return Qu(this,void 0,void 0,(function(){var n,r;return Yu(this,(function(i){switch(i.label){case 0:return ph(r=e.code)&&r!==Ju.ABORTED?(n=t.kr.shift(),Av(t).sr(),[4,bv(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,_v(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return wv(t)&&Cv(t),[2]}}))}))}function Tv(t,e){return Qu(this,void 0,void 0,(function(){var n;return Yu(this,(function(r){switch(r.label){case 0:return n=uc(t),e?(n.$r.delete(2),[4,ov(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,av(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ov(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=uc(t);return r.br(),new tv(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:vv.bind(null,t),Ri:yv.bind(null,t),_r:gv.bind(null,t)}),t.Mr.push((function(n){return Qu(e,void 0,void 0,(function(){return Yu(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),fv(t)?hv(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),pv(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function Av(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=uc(t);return r.br(),new ev(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:kv.bind(null,t),Ri:Iv.bind(null,t),Ir:Sv.bind(null,t),Tr:Ev.bind(null,t)}),t.Mr.push((function(n){return Qu(e,void 0,void 0,(function(){return Yu(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,_v(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(nc("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr}var xv=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $u(Ju.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Nv(t,e){if(rc("AsyncQueue",e+": "+t),Qf(t))return new $u(Ju.UNAVAILABLE,e+": "+t);throw t}var Dv=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Pc.comparator(e.key,n.key)}:function(t,e){return Pc.comparator(t.key,e.key)},this.keyedMap=Sh(),this.sortedSet=new yh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Rv=function(){function t(){this.Kr=new yh(Pc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):ac():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Pv=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Dv.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Tl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),jv=function(){this.Wr=void 0,this.listeners=[]},Mv=function(){this.queries=new Bd((function(t){return Ol(t)}),Tl),this.onlineState="Unknown",this.Gr=new Set};function Lv(t,e){return Qu(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Yu(this,(function(c){switch(c.label){case 0:if(n=uc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new jv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Nv(s,"Initialization of query '"+Al(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&qv(n),[2]}}))}))}function Fv(t,e){return Qu(this,void 0,void 0,(function(){var n,r,i,o,a;return Yu(this,(function(s){return n=uc(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Vv(t,e){for(var n=uc(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&qv(n)}function Uv(t,e,n){var r=uc(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function qv(t){t.Gr.forEach((function(t){t.next()}))}var Hv=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Pv(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Pv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Bv=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),zv=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Zh(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?nf(this.R,t.document,!1):Yc.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Kh(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new zv(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||Oh()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Qu(this,void 0,void 0,(function(){var t,e,n,r,i;return Yu(this,(function(o){switch(o.label){case 0:return[4,wp(this.localStore,new zv(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Cp(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new rp(Object.assign({},this.progress),t))]}}))}))}}();var Gv=function(t){this.key=t},Kv=function(t){this.key=t},Wv=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Oh(),this.mutatedKeys=Oh(),this.lo=Nl(t),this.fo=new Dv(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Rv,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=bl(this.query)&&i.size===this.query.limit?i.last():null,c=_l(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=xl(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),bl(this.query)||_l(this.query))for(;a.size>this.query.limit;){var l=bl(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ac()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Pv(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Rv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Oh(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Kv(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Gv(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Oh();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Pv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Qv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Yv=function(t){this.key=t,this.bo=!1},Zv=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Bd((function(t){return Ol(t)}),Tl),this.Vo=new Map,this.So=new Set,this.Do=new yh(Pc.comparator),this.Co=new Map,this.No=new Sp,this.xo={},this.Fo=new Map,this.ko=Nd.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Xv(t,e){return Qu(this,void 0,void 0,(function(){var n,r,i,o,a;return Yu(this,(function(s){switch(s.label){case 0:return n=Iy(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,vp(n.localStore,El(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Jv(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&sv(n.remoteStore,o),s.label=4;case 4:return[2,r]}}))}))}function Jv(t,e,n,r){return Qu(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Yu(this,(function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Qu(this,void 0,void 0,(function(){var i,o,a;return Yu(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,gp(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(hy(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,gp(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Wv(e,i.Bn),a=o._o(i.documents),s=Dh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),hy(t,n,u.To),c=new Qv(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function $v(t,e){return Qu(this,void 0,void 0,(function(){var n,r,i;return Yu(this,(function(o){switch(o.label){case 0:return n=uc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Tl(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,yp(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),uv(n.remoteStore,r.targetId),cy(n,r.targetId)})).catch(Md)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return cy(n,r.targetId),[4,yp(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function ty(t,e,n){return Qu(this,void 0,void 0,(function(){var r,i,o,a;return Yu(this,(function(s){switch(s.label){case 0:r=Ty(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=uc(t),i=pc.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Oh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=eh(c,n.get(c.key));null!=l&&a.push(new oh(c.key,l,Qc(l.toProto().mapValue),Zl.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new yh(hc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,py(r,i.changes)];case 3:return s.sent(),[4,_v(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Nv(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function ey(t,e){return Qu(this,void 0,void 0,(function(){var n,r;return Yu(this,(function(i){switch(i.label){case 0:n=uc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,fp(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(sc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?sc(r.bo):t.removedDocuments.size>0&&(sc(r.bo),r.bo=!1))})),[4,py(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Md(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function ny(t,e,n){var r=uc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=uc(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&qv(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ry(t,e,n){return Qu(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Yu(this,(function(c){switch(c.label){case 0:return(r=uc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new yh(Pc.comparator)).insert(o,Yc.newNoDocument(o,vc.min())),s=Oh().add(o),u=new Nh(vc.min(),new Map,new bh(hc),a,s),[4,ey(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),dy(r),[3,4];case 2:return[4,yp(r.localStore,e,!1).then((function(){return cy(r,e,n)})).catch(Md)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function iy(t,e){return Qu(this,void 0,void 0,(function(){var n,r,i;return Yu(this,(function(o){switch(o.label){case 0:n=uc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,lp(n.localStore,e)];case 2:return i=o.sent(),uy(n,r,null),sy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,py(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Md(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function oy(t,e,n){return Qu(this,void 0,void 0,(function(){var r,i;return Yu(this,(function(o){switch(o.label){case 0:r=uc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=uc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return sc(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),uy(r,e,n),sy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,py(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Md(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ay(t,e){return Qu(this,void 0,void 0,(function(){var n,r,i,o,a;return Yu(this,(function(s){switch(s.label){case 0:dv((n=uc(t)).remoteStore)||nc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=uc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Nv(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function sy(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function uy(t,e,n){var r=uc(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function cy(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||ly(t,e)}))}function ly(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(uv(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),dy(t))}function hy(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Gv?(t.No.addReference(o.key,e),fy(t,o)):o instanceof Kv?(nc("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||ly(t,o.key)):ac()}}function fy(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(nc("SyncEngine","New document in limbo: "+n),t.So.add(r),dy(t))}function dy(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Pc(_c.fromString(e)),r=t.ko.next();t.Co.set(r,new Yv(n)),t.Do=t.Do.insert(n,r),sv(t.remoteStore,new rd(El(ml(n.path)),r,2,Xu.o))}}function py(t,e,n){return Qu(this,void 0,void 0,(function(){var r,i,o,a;return Yu(this,(function(s){switch(s.label){case 0:return r=uc(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.$o(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=op.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return Qu(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Yu(this,(function(l){switch(l.label){case 0:n=uc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Bf.forEach(e,(function(e){return Bf.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Bf.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Qf(r=l.sent()))throw r;return nc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Fn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(s,c));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function vy(t,e){return Qu(this,void 0,void 0,(function(){var n,r;return Yu(this,(function(i){switch(i.label){case 0:return(n=uc(t)).currentUser.isEqual(e)?[3,3]:(nc("SyncEngine","User change. New user:",e.toKey()),[4,cp(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new $u(Ju.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,py(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function yy(t,e){var n=uc(t),r=n.Co.get(e);if(r&&r.bo)return Oh().add(r.key);var i=Oh(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function gy(t,e){return Qu(this,void 0,void 0,(function(){var n,r,i;return Yu(this,(function(o){switch(o.label){case 0:return[4,gp((n=uc(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&hy(n,e.targetId,i.To),i)]}}))}))}function my(t){return Qu(this,void 0,void 0,(function(){var e;return Yu(this,(function(n){return[2,bp((e=uc(t)).localStore).then((function(t){return py(e,t)}))]}))}))}function by(t,e,n,r){return Qu(this,void 0,void 0,(function(){var i,o;return Yu(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=uc(t),r=uc(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):Bf.resolve(null)}))}))}((i=uc(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,_v(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(uy(i,e,r||null),sy(i,e),function(t,e){uc(uc(t)._n).Gt(e)}(i.localStore,e)):ac(),a.label=4;case 4:return[4,py(i,o)];case 5:return a.sent(),[3,7];case 6:nc("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function _y(t,e){return Qu(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Yu(this,(function(c){switch(c.label){case 0:return Iy(n=uc(t)),Ty(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,wy(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,Tv(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)sv(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then((function(){return cy(n,e),yp(n.localStore,e,!0)})),uv(n.remoteStore,e)})),[4,u]);case 4:return c.sent(),[4,wy(n,s)];case 5:return c.sent(),function(t){var e=uc(t);e.Co.forEach((function(t,n){uv(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new yh(Pc.comparator)}(n),n.Oo=!1,[4,Tv(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function wy(t,e,n){return Qu(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return Yu(this,(function(v){switch(v.label){case 0:n=uc(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,vp(n.localStore,El(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,gy(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,mp(n.localStore,s)];case 8:return p=v.sent(),[4,vp(n.localStore,p)];case 9:return u=v.sent(),[4,Jv(n,Cy(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Cy(t){return gl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ky(t){var e=uc(t);return uc(uc(e.localStore).persistence).fn()}function Sy(t,e,n,r){return Qu(this,void 0,void 0,(function(){var i,o,a;return Yu(this,(function(s){switch(s.label){case 0:return(i=uc(t)).Oo?(nc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,bp(i.localStore)];case 3:return o=s.sent(),a=Nh.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,py(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,yp(i.localStore,e,!0)];case 6:return s.sent(),cy(i,e,r),[3,8];case 7:ac(),s.label=8;case 8:return[2]}}))}))}function Ey(t,e,n){return Qu(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return Yu(this,(function(f){switch(f.label){case 0:if(!(r=Iy(t)).Oo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(nc("SyncEngine","Adding an already active target "+a),[3,5]):[4,mp(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,vp(r.localStore,s)];case 3:return u=f.sent(),[4,Jv(r,Cy(s),u.targetId,!1)];case 4:f.sent(),sv(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Yu(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,yp(r.localStore,t,!1).then((function(){uv(r.remoteStore,t),cy(r,t)})).catch(Md)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Iy(t){var e=uc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ey.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ry.bind(null,e),e.vo._r=Vv.bind(null,e.eventManager),e.vo.Mo=Uv.bind(null,e.eventManager),e}function Ty(t){var e=uc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oy.bind(null,e),e}var Oy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(e){switch(e.label){case 0:return this.R=Xp(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return up(this.persistence,new ap,t.initialUser,this.R)},t.prototype.qo=function(t){return new xp(Dp.bs,this.R)},t.prototype.Bo=function(t){return new Bp},t.prototype.terminate=function(){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Ay=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Wu(e,t),e.prototype.initialize=function(e){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,_p(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Ty(this.Ko.syncEngine)];case 4:return n.sent(),[4,_v(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return up(this.persistence,new ap,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Vd(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=np(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?kd.withCacheSize(this.cacheSizeBytes):kd.DEFAULT;return new $d(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Yp(),Zp(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Bp},e}(Oy),xy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Wu(e,t),e.prototype.initialize=function(e){return Qu(this,void 0,void 0,(function(){var n,r=this;return Yu(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Hp?(this.sharedClientState.syncEngine={ui:by.bind(null,n),ai:Sy.bind(null,n),hi:Ey.bind(null,n),fn:ky.bind(null,n),ci:my.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Qu(r,void 0,void 0,(function(){return Yu(this,(function(e){switch(e.label){case 0:return[4,_y(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Yp();if(!Hp.yt(e))throw new $u(Ju.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=np(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Hp(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Ay),Ny=function(){function t(){}return t.prototype.initialize=function(t,e){return Qu(this,void 0,void 0,(function(){var n=this;return Yu(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return ny(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=vy.bind(null,this.syncEngine),[4,Tv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Mv},t.prototype.createDatastore=function(t){var e=Xp(t.databaseInfo.databaseId),n=new Qp(t.databaseInfo);return function(t,e,n){return new nv(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return ny(a.syncEngine,t,0)},o=Gp.yt()?new Gp:new zp,new iv(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Zv(t,e,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Qu(this,void 0,void 0,(function(){var e;return Yu(this,(function(n){switch(n.label){case 0:return e=uc(t),nc("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,av(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Dy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Ry=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Hf,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Qu(this,void 0,void 0,(function(){var t,e,n,r;return Yu(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Bv(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Qu(this,void 0,void 0,(function(){var t,e;return Yu(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Qu(this,void 0,void 0,(function(){var e;return Yu(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Qu(this,void 0,void 0,(function(){var t,e;return Yu(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Qu(this,void 0,void 0,(function(){var e,n=this;return Yu(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new $u(Ju.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Qu(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Yu(this,(function(u){switch(u.label){case 0:return n=uc(t),r=$h(n.R)+"/documents",i={documents:e.map((function(t){return Yh(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){sc(!!e.found);var n=Zh(t,e.found.name),r=Kh(e.found.updateTime),i=new Wc({mapValue:{fields:e.found.fields}});return Yc.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){sc(!!e.missing),sc(!!e.readTime);var n=Zh(t,e.missing),r=Kh(e.readTime);return Yc.newNoDocument(n,r)}(t,e):ac()}(n.R,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());sc(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new hh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Qu(this,void 0,void 0,(function(){var t,e=this;return Yu(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Pc.fromPath(n);e.mutations.push(new fh(r,e.precondition(r)))})),[4,function(t,e){return Qu(this,void 0,void 0,(function(){var n,r,i;return Yu(this,(function(o){switch(o.label){case 0:return n=uc(t),r=$h(n.R)+"/documents",i={writes:e.map((function(t){return rf(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ac();e=vc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new $u(Ju.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Zl.updateTime(e):Zl.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(vc.min()))throw new $u(Ju.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zl.updateTime(e)}return Zl.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Py=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Jp(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Qu(t,void 0,void 0,(function(){var t,e,n=this;return Yu(this,(function(r){return t=new Ry(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Nc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ph(e)}return!1},t}(),jy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Rp.UNAUTHENTICATED,this.clientId=lc.u(),this.credentialListener=function(){},this.receivedInitialUser=new Hf,this.credentials.setChangeListener((function(t){nc("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new $u(Ju.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Hf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Qu(t,void 0,void 0,(function(){var t,n;return Yu(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Nv(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function My(t,e){return Qu(this,void 0,void 0,(function(){var n,r,i=this;return Yu(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),nc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return Qu(i,void 0,void 0,(function(){return Yu(this,(function(t){switch(t.label){case 0:return[4,cp(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Ly(t,e){return Qu(this,void 0,void 0,(function(){var n,r;return Yu(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Fy(t)];case 1:return n=i.sent(),nc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Qu(this,void 0,void 0,(function(){var n,r;return Yu(this,(function(i){switch(i.label){case 0:return(n=uc(t)).asyncQueue.verifyOperationInProgress(),nc("RemoteStore","RemoteStore received new credentials"),r=dv(n),n.$r.add(3),[4,av(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,ov(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function Fy(t){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(nc("FirestoreClient","Using default OfflineComponentProvider"),[4,My(t,new Oy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Vy(t){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(nc("FirestoreClient","Using default OnlineComponentProvider"),[4,Ly(t,new Ny)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Uy(t){return Fy(t).then((function(t){return t.persistence}))}function qy(t){return Fy(t).then((function(t){return t.localStore}))}function Hy(t){return Vy(t).then((function(t){return t.remoteStore}))}function By(t){return Vy(t).then((function(t){return t.syncEngine}))}function zy(t){return Qu(this,void 0,void 0,(function(){var e,n;return Yu(this,(function(r){switch(r.label){case 0:return[4,Vy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Xv.bind(null,e.syncEngine),n.onUnlisten=$v.bind(null,e.syncEngine),n)]}}))}))}function Gy(t,e,n){var r=this;void 0===n&&(n={});var i=new Hf;return t.asyncQueue.enqueueAndForget((function(){return Qu(r,void 0,void 0,(function(){var r;return Yu(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Dy({next:function(o){e.enqueueAndForget((function(){return Fv(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new $u(Ju.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new $u(Ju.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Hv(ml(n.path),o,{includeMetadataChanges:!0,so:!0});return Lv(t,a)},[4,zy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Ky(t,e,n){var r=this;void 0===n&&(n={});var i=new Hf;return t.asyncQueue.enqueueAndForget((function(){return Qu(r,void 0,void 0,(function(){var r;return Yu(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Dy({next:function(n){e.enqueueAndForget((function(){return Fv(t,a)})),n.fromCache&&"server"===r.source?i.reject(new $u(Ju.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Hv(n,o,{includeMetadataChanges:!0,so:!0});return Lv(t,a)},[4,zy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Wy=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},Qy=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Yy=new Map,Zy=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Xy=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Rp.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Jy=function(){function t(t){var e=this;this.oc=null,this.currentUser=Rp.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(nc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(sc("string"==typeof n.accessToken),new Zy(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return sc(null===t||"string"==typeof t),new Rp(t)},t}(),$y=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=Rp.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),tg=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new $y(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(Rp.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function eg(t,e,n){if(!n)throw new $u(Ju.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ng(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $u(Ju.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function rg(t,e,n,r){if(!0===e&&!0===r)throw new $u(Ju.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ig(t){if(!Pc.isDocumentKey(t))throw new $u(Ju.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function og(t){if(Pc.isDocumentKey(t))throw new $u(Ju.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ag(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ac()}function sg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $u(Ju.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ag(t);throw new $u(Ju.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ug(t,e){if(e<=0)throw new $u(Ju.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var cg=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new $u(Ju.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new $u(Ju.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,rg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),lg=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new cg({}),this._settingsFrozen=!1,t instanceof Qy?(this._databaseId=t,this._credentials=new Xy):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new $u(Ju.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qy(t.options.projectId)}(t),this._credentials=new Jy(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new $u(Ju.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new $u(Ju.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cg(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Xy;switch(t.type){case"gapi":var e=t.client;return sc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new tg(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new $u(Ju.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Yy.get(this))&&(nc("ComponentProvider","Removing Datastore"),Yy.delete(this),t.terminate()),Promise.resolve();var t},t}(),hg=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new dg(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),fg=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),dg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ml(r))||this)._path=r,i.type="collection",i}return Wu(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new hg(this.firestore,null,new Pc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(fg);function pg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(zi.g)(t),eg("collection","path",e),t instanceof lg)return og(n=_c.fromString.apply(_c,Zu([e],r))),new dg(t,null,n);if(!(t instanceof hg||t instanceof dg))throw new $u(Ju.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return og(n=_c.fromString.apply(_c,Zu([t.path],r)).child(_c.fromString(e))),new dg(t.firestore,null,n)}function vg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(zi.g)(t),1===arguments.length&&(e=lc.u()),eg("doc","path",e),t instanceof lg)return ig(n=_c.fromString.apply(_c,Zu([e],r))),new hg(t,null,new Pc(n));if(!(t instanceof hg||t instanceof dg))throw new $u(Ju.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ig(n=t._path.child(_c.fromString.apply(_c,Zu([e],r)))),new hg(t.firestore,t instanceof dg?t._converter:null,new Pc(n))}function yg(t,e){return t=Object(zi.g)(t),e=Object(zi.g)(e),(t instanceof hg||t instanceof dg)&&(e instanceof hg||e instanceof dg)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function gg(t,e){return t=Object(zi.g)(t),e=Object(zi.g)(e),t instanceof fg&&e instanceof fg&&t.firestore===e.firestore&&Tl(t._query,e._query)&&t._converter===e._converter}var mg=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Jp(this,"async_queue_retry"),this.Ec=function(){var e=Zp();e&&nc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Zp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Zp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return Qu(this,void 0,void 0,(function(){var t,e=this;return Yu(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Qf(t=n.sent()))throw t;return nc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,rc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=xv.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&ac()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Qu(this,void 0,void 0,(function(){var t;return Yu(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function bg(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Hf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var _g=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new mg,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Wu(e,t),e.prototype._terminate=function(){return this._firestoreClient||Cg(this),this._firestoreClient.terminate()},e}(lg);function wg(t){return t._firestoreClient||Cg(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Cg(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Wy(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new jy(t._credentials,t._queue,r)}function kg(t,e,n){var r=this,i=new Hf;return t.asyncQueue.enqueue((function(){return Qu(r,void 0,void 0,(function(){var r;return Yu(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,My(t,n)];case 1:return o.sent(),[4,Ly(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ju.FAILED_PRECONDITION||t.code===Ju.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Sg(t){if(t._initialized||t._terminated)throw new $u(Ju.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Eg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new $u(Ju.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cc(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Ig=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Sc.fromBase64String(e))}catch(e){throw new $u(Ju.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Sc.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Tg=function(t){this._methodName=t},Og=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new $u(Ju.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new $u(Ju.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return hc(this._lat,t._lat)||hc(this._long,t._long)},t}(),Ag=/^__.*__$/,xg=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new oh(t,this.data,this.fieldMask,e,this.fieldTransforms):new ih(t,this.data,e,this.fieldTransforms)},t}(),Ng=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new oh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Dg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ac()}}var Rg=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return $g(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(Dg(this.Dc)&&Ag.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),Pg=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Xp(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new Rg({Dc:t,methodName:e,Lc:n,path:Cc.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function jg(t){var e=t._freezeSettings(),n=Xp(t._databaseId);return new Pg(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Mg(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);Yg("Data must be an object, but it was:",a,r);var s,u,c=Wg(r,a);if(o.merge)s=new kc(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Zg(e,f[h],n);if(!a.contains(d))throw new $u(Ju.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");tm(l,d)||l.push(d)}s=new kc(l),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new xg(new Wc(c),s,u)}var Lg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wu(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Tg);function Fg(t,e,n){return new Rg({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Vg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wu(e,t),e.prototype._toFieldTransform=function(t){return new Ql(t.path,new Ul)},e.prototype.isEqual=function(t){return t instanceof e},e}(Tg),Ug=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Wu(e,t),e.prototype._toFieldTransform=function(t){var e=Fg(this,t,!0),n=this.qc.map((function(t){return Kg(t,e)})),r=new ql(n);return new Ql(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Tg),qg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Wu(e,t),e.prototype._toFieldTransform=function(t){var e=Fg(this,t,!0),n=this.qc.map((function(t){return Kg(t,e)})),r=new Bl(n);return new Ql(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Tg),Hg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Wu(e,t),e.prototype._toFieldTransform=function(t){var e=new Gl(t.R,jl(t.R,this.Uc));return new Ql(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Tg);function Bg(t,e,n,r){var i=t.Bc(1,e,n);Yg("Data must be an object, but it was:",i,r);var o=[],a=Wc.empty();gc(r,(function(t,r){var s=Jg(e,t,n);r=Object(zi.g)(r);var u=i.kc(s);if(r instanceof Lg)o.push(s);else{var c=Kg(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new kc(o);return new Ng(a,s,i.fieldTransforms)}function zg(t,e,n,r,i,o){var a=t.Bc(1,e,n),s=[Zg(e,r,n)],u=[i];if(o.length%2!=0)throw new $u(Ju.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Zg(e,o[c])),u.push(o[c+1]);for(var l=[],h=Wc.empty(),f=s.length-1;f>=0;--f)if(!tm(l,s[f])){var d=s[f],p=u[f];p=Object(zi.g)(p);var v=a.kc(d);if(p instanceof Lg)l.push(d);else{var y=Kg(p,v);null!=y&&(l.push(d),h.set(d,y))}}var g=new kc(l);return new Ng(h,g,a.fieldTransforms)}function Gg(t,e,n,r){return void 0===r&&(r=!1),Kg(n,t.Bc(r?4:3,e))}function Kg(t,e){if(Qg(t=Object(zi.g)(t)))return Yg("Unsupported field value:",e,t),Wg(t,e);if(t instanceof Tg)return function(t,e){if(!Dg(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Kg(o[i],e.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(zi.g)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jl(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=pc.fromDate(t);return{timestampValue:Bh(e.R,n)}}if(t instanceof pc)return n=new pc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Bh(e.R,n)};if(t instanceof Og)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ig)return{bytesValue:zh(e.R,t._byteString)};if(t instanceof hg){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Wh(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+ag(t))}(t,e)}function Wg(t,e){var n={};return mc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gc(t,(function(t,r){var i=Kg(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Qg(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof pc||t instanceof Og||t instanceof Ig||t instanceof hg||t instanceof Tg)}function Yg(t,e,n){if(!Qg(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ag(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function Zg(t,e,n){if((e=Object(zi.g)(e))instanceof Eg)return e._internalPath;if("string"==typeof e)return Jg(t,e);throw $g("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Xg=new RegExp("[~\\*/\\[\\]]");function Jg(t,e,n){if(e.search(Xg)>=0)throw $g("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Eg.bind.apply(Eg,Zu([void 0],e.split(".")))))._internalPath}catch(r){throw $g("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function $g(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new $u(Ju.INVALID_ARGUMENT,(s+=". ")+t+u)}function tm(t,e){return t.some((function(t){return t.isEqual(e)}))}var em=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new hg(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new nm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(rm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),nm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wu(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(em);function rm(t,e){return"string"==typeof e?Jg(t,e):e instanceof Eg?e._internalPath:e._delegate._internalPath}var im=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),om=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Wu(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(rm("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(em),am=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wu(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(om),sm=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new im(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new am(n._firestore,n._userDataWriter,r.key,r,new im(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new $u(Ju.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new am(t._firestore,t._userDataWriter,e.doc.key,e.doc,new im(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new am(t._firestore,t._userDataWriter,e.doc.key,e.doc,new im(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:um(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function um(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ac()}}function cm(t,e){return t instanceof om&&e instanceof om?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof sm&&e instanceof sm&&t._firestore===e._firestore&&gg(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function lm(t){if(_l(t)&&0===t.explicitOrderBy.length)throw new $u(Ju.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var hm=function(){};function fm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var dm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Wu(e,t),e.prototype._apply=function(t){var e=jg(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new $u(Ju.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){_m(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(bm(r,t,l[c]));s={arrayValue:{values:u}}}else s=bm(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||_m(a,o),s=Gg(n,"where",a,"in"===o||"not-in"===o);var h=el.create(i,o,s);return function(t,e){if(e.g()){var n=Cl(t);if(null!==n&&!n.isEqual(e.field))throw new $u(Ju.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=wl(t);null!==r&&wm(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new $u(Ju.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new fg(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(hm),pm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Wu(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new $u(Ju.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new $u(Ju.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new fl(e,n);return function(t,e){if(null===wl(t)){var n=Cl(t);null!==n&&wm(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new fg(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new yl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(hm),vm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Wu(e,t),e.prototype._apply=function(t){return new fg(t.firestore,t._converter,Il(t._query,this.Gc,this.zc))},e}(hm),ym=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Wu(e,t),e.prototype._apply=function(t){var e=mm(t,this.type,this.Hc,this.Jc);return new fg(t.firestore,t._converter,function(t,e){return new yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(hm),gm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Wu(e,t),e.prototype._apply=function(t){var e=mm(t,this.type,this.Hc,this.Jc);return new fg(t.firestore,t._converter,function(t,e){return new yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(hm);function mm(t,e,n,r){if(n[0]=Object(zi.g)(n[0]),n[0]instanceof em)return function(t,e,n,r,i){if(!r)throw new $u(Ju.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Sl(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(qc(e,r.key));else{var c=r.data.field(u.field);if(Ac(c))throw new $u(Ju.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new $u(Ju.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ll(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=jg(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new $u(Ju.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new $u(Ju.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!kl(t)&&-1!==c.indexOf("/"))throw new $u(Ju.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(_c.fromString(c));if(!Pc.isDocumentKey(l))throw new $u(Ju.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Pc(l);s.push(qc(e,h))}else{var f=Gg(n,r,c);s.push(f)}}return new ll(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function bm(t,e,n){if("string"==typeof(n=Object(zi.g)(n))){if(""===n)throw new $u(Ju.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!kl(e)&&-1!==n.indexOf("/"))throw new $u(Ju.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(_c.fromString(n));if(!Pc.isDocumentKey(r))throw new $u(Ju.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return qc(t,new Pc(r))}if(n instanceof hg)return qc(t,n._key);throw new $u(Ju.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ag(n)+".")}function _m(t,e){if(!Array.isArray(t)||0===t.length)throw new $u(Ju.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new $u(Ju.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function wm(t,e,n){if(!n.isEqual(e))throw new $u(Ju.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Cm=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),jc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Tc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Oc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ac()}},t.prototype.convertObject=function(t,e){var n=this,r={};return gc(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Og(Tc(t.latitude),Tc(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Ac(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(xc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Ic(t);return new pc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=_c.fromString(t);sc(mf(n));var r=new Qy(n.get(1),n.get(3)),i=new Pc(n.popFirst(5));return r.isEqual(e)||rc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function km(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Sm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Wu(e,t),e.prototype.convertBytes=function(t){return new Ig(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new hg(this.firestore,null,e)},e}(Cm),Em=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=jg(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Im(t,this._firestore),i=km(r._converter,e,n),o=Mg(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Zl.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Im(t,this._firestore);return o="string"==typeof(e=Object(zi.g)(e))||e instanceof Eg?zg(this._dataReader,"WriteBatch.update",a._key,e,n,r):Bg(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,Zl.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Im(t,this._firestore);return this._mutations=this._mutations.concat(new hh(e._key,Zl.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new $u(Ju.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Im(t,e){if((t=Object(zi.g)(t)).firestore!==e)throw new $u(Ju.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Tm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Wu(e,t),e.prototype.convertBytes=function(t){return new Ig(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new hg(this.firestore,null,e)},e}(Cm);function Om(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=sg(t,hg);var o=sg(t.firestore,_g),a=jg(o);return xm(o,[("string"==typeof(e=Object(zi.g)(e))||e instanceof Eg?zg(a,"updateDoc",t._key,e,n,r):Bg(a,"updateDoc",t._key,e)).toMutation(t._key,Zl.exists(!0))])}function Am(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(zi.g)(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||bg(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(bg(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof hg)c=sg(t.firestore,_g),l=ml(t._key.path),u={next:function(e){i[s]&&i[s](Nm(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=sg(t,fg);c=sg(d.firestore,_g),l=d._query;var p=new Tm(c);u={next:function(t){i[s]&&i[s](new sm(c,p,d,t))},error:i[s+1],complete:i[s+2]},lm(t._query)}return function(t,e,n,r){var i=this,o=new Dy(r),a=new Hv(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Qu(i,void 0,void 0,(function(){var e;return Yu(this,(function(n){switch(n.label){case 0:return e=Lv,[4,zy(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Qu(i,void 0,void 0,(function(){var e;return Yu(this,(function(n){switch(n.label){case 0:return e=Fv,[4,zy(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(wg(c),l,h,u)}function xm(t,e){return function(t,e){var n=this,r=new Hf;return t.asyncQueue.enqueueAndForget((function(){return Qu(n,void 0,void 0,(function(){var n;return Yu(this,(function(i){switch(i.label){case 0:return n=ty,[4,By(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(wg(t),e)}function Nm(t,e,n){var r=n.docs.get(e._key),i=new Tm(t);return new om(t,i,e._key,r,new im(n.hasPendingWrites,n.fromCache),e._converter)}var Dm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Wu(e,t),e.prototype.get=function(e){var n=this,r=Im(e,this._firestore),i=new Tm(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new om(n._firestore,i,r._key,t._document,new im(!1,!1),r._converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=jg(t)}return t.prototype.get=function(t){var e=this,n=Im(t,this._firestore),r=new Sm(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return ac();var i=t[0];if(i.isFoundDocument())return new em(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new em(e._firestore,r,n._key,null,n._converter);throw ac()}))},t.prototype.set=function(t,e,n){var r=Im(t,this._firestore),i=km(r._converter,e,n),o=Mg(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Im(t,this._firestore);return o="string"==typeof(e=Object(zi.g)(e))||e instanceof Eg?zg(this._dataReader,"Transaction.update",a._key,e,n,r):Bg(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=Im(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Rm(){if("undefined"==typeof Uint8Array)throw new $u(Ju.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Pm(){if("undefined"==typeof atob)throw new $u(Ju.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var jm=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Pm(),new t(Ig.fromBase64String(e))},t.fromUint8Array=function(e){return Rm(),new t(Ig.fromUint8Array(e))},t.prototype.toBase64=function(){return Pm(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Rm(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Mm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Sg(t=sg(t,_g));var n=wg(t),r=t._freezeSettings(),i=new Ny;return kg(n,i,new Ay(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Sg(t=sg(t,_g));var e=wg(t),n=t._freezeSettings(),r=new Ny;return kg(e,r,new xy(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new $u(Ju.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Hf;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Qu(e,void 0,void 0,(function(){var e;return Yu(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Qu(this,void 0,void 0,(function(){return Yu(this,(function(e){switch(e.label){case 0:return Gf.yt()?[4,Gf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(np(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),Lm=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Qy||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=sg(t,lg))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&ic("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Qu(e,void 0,void 0,(function(){var e,n;return Yu(this,(function(r){switch(r.label){case 0:return[4,Uy(t)];case 1:return e=r.sent(),[4,Hy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=uc(t);return e.$r.delete(0),ov(e)}(n))]}}))}))}))}(wg(sg(this._delegate,_g)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Qu(e,void 0,void 0,(function(){var e,n;return Yu(this,(function(r){switch(r.label){case 0:return[4,Uy(t)];case 1:return e=r.sent(),[4,Hy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Qu(this,void 0,void 0,(function(){var e;return Yu(this,(function(n){switch(n.label){case 0:return(e=uc(t)).$r.add(0),[4,av(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(wg(sg(this._delegate,_g)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&rg("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Hf;return t.asyncQueue.enqueueAndForget((function(){return Qu(e,void 0,void 0,(function(){var e;return Yu(this,(function(r){switch(r.label){case 0:return e=ay,[4,By(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(wg(sg(this._delegate,_g)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Dy(e);return t.asyncQueue.enqueueAndForget((function(){return Qu(n,void 0,void 0,(function(){var e;return Yu(this,(function(n){switch(n.label){case 0:return e=function(t,e){uc(t).Gr.add(e),e.next()},[4,zy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Qu(n,void 0,void 0,(function(){var e;return Yu(this,(function(n){switch(n.label){case 0:return e=function(t,e){uc(t).Gr.delete(e)},[4,zy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(wg(t=sg(t,_g)),bg(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new $u(Ju.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Xm(this,pg(this._delegate,t))}catch(t){throw Bm(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Hm(this,vg(this._delegate,t))}catch(t){throw Bm(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Qm(this,function(t,e){if(t=sg(t,lg),eg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $u(Ju.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new fg(t,null,function(t){return new yl(_c.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Bm(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Hf;return t.asyncQueue.enqueueAndForget((function(){return Qu(n,void 0,void 0,(function(){var n;return Yu(this,(function(i){switch(i.label){case 0:return[4,function(t){return Vy(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new Py(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(wg(t),(function(n){return e(new Dm(t,n))}))}(this._delegate,(function(n){return t(new Vm(e,n))}))},t.prototype.batch=function(){var t=this;return wg(this._delegate),new Um(new Em(this._delegate,(function(e){return xm(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new $u(Ju.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new $u(Ju.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Fm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Wu(e,t),e.prototype.convertBytes=function(t){return new jm(new Ig(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Hm.Zc(e,this.firestore,null)},e}(Cm),Vm=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Fm(t)}return t.prototype.get=function(t){var e=this,n=Jm(t);return this._delegate.get(n).then((function(t){return new Km(e._firestore,new om(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))}))},t.prototype.set=function(t,e,n){var r=Jm(t);return n?(ng("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Jm(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Zu([a,e,n],i)),this},t.prototype.delete=function(t){var e=Jm(t);return this._delegate.delete(e),this},t}(),Um=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Jm(t);return n?(ng("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Jm(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Zu([a,e,n],i)),this},t.prototype.delete=function(t){var e=Jm(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),qm=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new am(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Wm(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Fm(e),n),i.set(n,o)),o},t}();qm.eu=new WeakMap;var Hm=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Fm(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new $u(Ju.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new hg(n._delegate,r,new Pc(e)))},t.Zc=function(e,n,r){return new t(n,new hg(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Xm(this.firestore,pg(this._delegate,t))}catch(t){throw Bm(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(zi.g)(t))instanceof hg&&yg(this._delegate,t)},t.prototype.set=function(t,e){e=ng("DocumentReference.set",e);try{return function(t,e,n){t=sg(t,hg);var r=sg(t.firestore,_g),i=km(t._converter,e,n);return xm(r,[Mg(jg(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Zl.none())])}(this._delegate,t,e)}catch(t){throw Bm(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Om(this._delegate,t):Om.apply(void 0,Zu([this._delegate,t,e],n))}catch(t){throw Bm(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return xm(sg((t=this._delegate).firestore,_g),[new hh(t._key,Zl.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=zm(e),i=Gm(e,(function(e){return new Km(t.firestore,new om(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}));return Am(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=sg(t,hg);var e=sg(t.firestore,_g),n=wg(e),r=new Tm(e);return function(t,e){var n=this,r=new Hf;return t.asyncQueue.enqueueAndForget((function(){return Qu(n,void 0,void 0,(function(){var n;return Yu(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Qu(this,void 0,void 0,(function(){var r,i;return Yu(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=uc(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new $u(Ju.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Nv(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,qy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new om(e,r,t._key,n,new im(null!==n&&n.hasLocalMutations,!0),t._converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=sg(t,hg);var e=sg(t.firestore,_g);return Gy(wg(e),t._key,{source:"server"}).then((function(n){return Nm(e,t,n)}))}(this._delegate):function(t){t=sg(t,hg);var e=sg(t.firestore,_g);return Gy(wg(e),t._key).then((function(n){return Nm(e,t,n)}))}(this._delegate)).then((function(t){return new Km(e.firestore,new om(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?qm.tu(this.firestore,e):null))},t}();function Bm(t,e,n){return t.message=t.message.replace(e,n),t}function zm(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!bg(r))return r}return{}}function Gm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=bg(t[0])?t[0]:bg(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Km=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Hm(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return cm(this._delegate,t._delegate)},t}(),Wm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wu(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Km),Qm=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Fm(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,fm(this._delegate,function(t,e,n){var r=e,i=rm("where",t);return new dm(i,r,n)}(e,n,r)))}catch(e){throw Bm(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,fm(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=rm("orderBy",t);return new pm(r,n)}(e,n)))}catch(e){throw Bm(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,fm(this._delegate,function(t){return ug("limit",t),new vm("limit",t,"F")}(e)))}catch(e){throw Bm(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,fm(this._delegate,function(t){return ug("limitToLast",t),new vm("limitToLast",t,"L")}(e)))}catch(e){throw Bm(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,fm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ym("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Bm(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,fm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ym("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Bm(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,fm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gm("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Bm(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,fm(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gm("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Bm(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return gg(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=sg(t,fg);var e=sg(t.firestore,_g),n=wg(e),r=new Tm(e);return function(t,e){var n=this,r=new Hf;return t.asyncQueue.enqueueAndForget((function(){return Qu(n,void 0,void 0,(function(){var n;return Yu(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Qu(this,void 0,void 0,(function(){var r,i,o,a,s;return Yu(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,gp(t,e,!0)];case 1:return s=u.sent(),r=new Wv(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Nv(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,qy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new sm(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=sg(t,fg);var e=sg(t.firestore,_g),n=wg(e),r=new Tm(e);return Ky(n,t._query,{source:"server"}).then((function(n){return new sm(e,r,t,n)}))}(this._delegate):function(t){t=sg(t,fg);var e=sg(t.firestore,_g),n=wg(e),r=new Tm(e);return lm(t._query),Ky(n,t._query).then((function(n){return new sm(e,r,t,n)}))}(this._delegate)).then((function(t){return new Zm(e.firestore,new sm(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=zm(e),i=Gm(e,(function(e){return new Zm(t.firestore,new sm(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Am(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?qm.tu(this.firestore,e):null))},t}(),Ym=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Wm(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Zm=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Qm(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Wm(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Ym(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Wm(n._firestore,r))}))},t.prototype.isEqual=function(t){return cm(this._delegate,t._delegate)},t}(),Xm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Wu(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Hm(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Hm(this.firestore,void 0===t?vg(this._delegate):vg(this._delegate,t))}catch(t){throw Bm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=sg(t.firestore,_g),r=vg(t),i=km(t._converter,e);return xm(n,[Mg(jg(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Zl.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new Hm(e.firestore,t)}))},e.prototype.isEqual=function(t){return yg(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?qm.tu(this.firestore,t):null))},e}(Qm);function Jm(t){return sg(t,hg)}var $m,tb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Eg.bind.apply(Eg,Zu([void 0],t)))}return t.documentId=function(){return new t(Cc.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(zi.g)(t))instanceof Eg&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),eb=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Vg("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Lg("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ug("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qg("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Hg("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),nb=n("/6Yf"),rb={Firestore:Lm,GeoPoint:Og,Timestamp:pc,Blob:jm,Transaction:Vm,WriteBatch:Um,DocumentReference:Hm,DocumentSnapshot:Km,Query:Qm,QueryDocumentSnapshot:Wm,QuerySnapshot:Zm,CollectionReference:Xm,FieldPath:tb,FieldValue:eb,setLogLevel:function(t){tc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new nb.a("firestore",(function(t){return function(t,e){return new Lm(t,new _g(t,e),new Mm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},rb)))})($m=Bi.a),$m.registerVersion("@firebase/firestore","2.2.4"),n("VRyK"),n("qgXg"),n("Ylt2"),n("tf+s");var ib=new r.q("angularfire2.auth.use-emulator");function ob(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pi.a;return new Mt.a((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot({includeMetadataChanges:!0},n)})):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}}))}(t,e)}function ab(t,e){return ob(t,e).pipe(Object(Qt.a)((function(t){return{payload:t,type:"query"}})))}function sb(t,e){return ab(t,e).pipe(Ae(void 0),ji(),Object(Qt.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=r.payload.docChanges(),o=i.map((function(t){return{type:t.type,payload:t}}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((function(t,e){var r=i.find((function(e){return e.doc.ref.isEqual(t.ref)})),a=null==n?void 0:n.payload.docs.find((function(e){return e.ref.isEqual(t.ref)}));r&&JSON.stringify(r.doc.metadata)===JSON.stringify(t.metadata)||!r&&a&&JSON.stringify(a.metadata)===JSON.stringify(t.metadata)||o.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})})),o})))}function ub(t,e,n){return sb(t,n).pipe(xe((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return cb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return cb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cb(t,e.oldIndex,1)}return t}(t,e))})),t}(t,n.map((function(t){return t.payload})),e)}),[]),(function(t){return t.lift(new Fi(void 0,void 0))}),Object(Qt.a)((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function cb(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function lb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var hb=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){var e=sb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Qt.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})))),e.pipe(Ae(void 0),ji(),Jt((function(t){var e=_slicedToArray(t,2),n=e[0];return e[1].length>0||!n})),Object(Qt.a)((function(t){var e=_slicedToArray(t,2);e[0];return e[1]})),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(xe((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=lb(t);return ub(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ab(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Qt.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(Object.assign({},e.data()),_defineProperty({},t.idField,e.id)):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Dt.a)(this.query.get(t)).pipe(Object(Ui.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new fb(this.ref.doc(t),this.afs)}}]),t}(),fb=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=mb(this.ref.collection(t),e),r=n.ref,i=n.query;return new hb(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return ob(this.ref,this.afs.schedulers.outsideAngular).pipe(Ae(void 0),ji(),Object(Qt.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(Qt.a)((function(e){var n=e.payload;return t.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},t.idField,n.id)):n.data()})))}},{key:"get",value:function(t){return Object(Dt.a)(this.ref.get(t)).pipe(Object(Ui.b)(this.afs.schedulers.insideAngular))}}]),t}(),db=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?sb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Qt.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Jt((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):sb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(xe((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=lb(t);return ub(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ab(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Qt.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(_defineProperty({},t.idField,e.id),e.data()):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Dt.a)(this.query.get(t)).pipe(Object(Ui.b)(this.afs.schedulers.insideAngular))}}]),t}(),pb=new r.q("angularfire2.enableFirestorePersistence"),vb=new r.q("angularfire2.firestore.persistenceSettings"),yb=new r.q("angularfire2.firestore.settings"),gb=new r.q("angularfire2.firestore.use-emulator");function mb(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var bb,_b,wb,Cb,kb=((Cb=function(){function t(e,n,r,i,o,a,s,u,c){_classCallCheck(this,t),this.schedulers=new qi.d(a),this.keepUnstableUntilFirst=Object(qi.h)(this.schedulers);var l=Object(qi.g)(e,a,n);!Hi.a.auth&&c&&Object(qi.j)();var h=u,f=_slicedToArray(Object(qi.f)(l.name+".firestore","AngularFirestore",l,(function(){var t=a.runOutsideAngular((function(){return l.firestore()}));return i&&t.settings(i),h&&t.useEmulator.apply(t,_toConsumableArray(h)),r&&!function(t){return"server"===t}(o)?[t,a.runOutsideAngular((function(){try{return Object(Dt.a)(t.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch($m){return"undefined"!=typeof console&&console.warn($m),Object(Nt.a)(!1)}}))]:[t,Object(Nt.a)(!1)]}),[i,h,r]),2);this.firestore=f[0],this.persistenceEnabled$=f[1]}return _createClass(t,[{key:"collection",value:function(t,e){var n=mb("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new hb(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new db(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run((function(){return e}));return new fb(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||Cb)(r.Rb(qi.c),r.Rb(qi.b,8),r.Rb(pb,8),r.Rb(yb,8),r.Rb(r.B),r.Rb(r.z),r.Rb(vb,8),r.Rb(gb,8),r.Rb(ib,8))},Cb.\u0275prov=Object(r.Gb)({factory:function(){return new Cb(Object(r.Rb)(qi.c),Object(r.Rb)(qi.b,8),Object(r.Rb)(pb,8),Object(r.Rb)(yb,8),Object(r.Rb)(r.B),Object(r.Rb)(r.z),Object(r.Rb)(vb,8),Object(r.Rb)(gb,8),Object(r.Rb)(ib,8))},token:Cb,providedIn:"any"}),Cb),Sb=((wb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:pb,useValue:!0},{provide:vb,useValue:e}]}}}]),t}()).\u0275mod=r.Ib({type:wb}),wb.\u0275inj=r.Hb({factory:function(t){return new(t||wb)},providers:[kb]}),wb),Eb=((_b=function(){function t(e){_classCallCheck(this,t),this.firestore=e}return _createClass(t,[{key:"getProjects",value:function(){var t=this;return this.firestore.collection("projects").snapshotChanges().pipe(Object(Qt.a)((function(e){return e.map((function(e){var n=e.payload.doc.data();return n.id=e.payload.doc.id,t.getProjectImages(n.id).subscribe((function(t){return n.images=t})),n}))})))}},{key:"getProjectById",value:function(t){var e=this;return this.firestore.collection("projects").doc(t).snapshotChanges().pipe(Object(Qt.a)((function(n){var r=n.payload.data();return r.id=n.payload.id,e.getProjectTeam(t).subscribe((function(t){return r.teams=t})),e.getProjectImages(t).subscribe((function(t){return r.images=t})),r})))}},{key:"getProjectTeam",value:function(t){return this.firestore.collection("projects").doc(t).collection("teams").snapshotChanges().pipe(Object(Qt.a)((function(t){return t.map((function(t){return t.payload.doc.data()}))})))}},{key:"getProjectImages",value:function(t){return this.firestore.collection("projects").doc(t).collection("images").snapshotChanges().pipe(Object(Qt.a)((function(t){return t.map((function(t){return t.payload.doc.data()}))})))}}]),t}()).\u0275fac=function(t){return new(t||_b)(r.Rb(kb))},_b.\u0275prov=r.Gb({token:_b,factory:_b.\u0275fac,providedIn:"root"}),_b),Ib=((bb=function(){function t(e){var n=this;_classCallCheck(this,t),this.firestore=e,this.AboutMeInfo=null,this.aboutMe().subscribe((function(t){n.AboutMeInfo=t[0]}))}return _createClass(t,[{key:"getExperiences",value:function(){return this.firestore.collection("experience").snapshotChanges().pipe(Object(Qt.a)((function(t){return t.map((function(t){var e=t.payload.doc.data();return e.id=t.payload.doc.id,e}))})))}},{key:"aboutMe",value:function(){return this.firestore.collection("aboutme").snapshotChanges().pipe(Object(Qt.a)((function(t){return t.map((function(t){return t.payload.doc.data()}))})))}}]),t}()).\u0275fac=function(t){return new(t||bb)(r.Rb(kb))},bb.\u0275prov=r.Gb({token:bb,factory:bb.\u0275fac,providedIn:"root"}),bb);function Tb(t,e){if(1&t&&r.Lb(0,"img",7),2&t){var n=r.Xb();r.Zb("src",null==n.project?null:n.project.thumbnail,r.dc)}}function Ob(t,e){if(1&t&&(r.Nb(0,"span"),r.gc(1),r.Mb()),2&t){var n=r.Xb();r.Ab(1),r.ic(" ",null==n.project?null:n.project.company," - ")}}var Ab,xb,Nb=((xb=function(){function t(){_classCallCheck(this,t),this.project=null}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||xb)},xb.\u0275cmp=r.Eb({type:xb,selectors:[["project-card"]],inputs:{project:"project"},decls:11,vars:6,consts:[[1,"card",3,"routerLink"],["alt","",3,"src",4,"ngIf"],[1,"description"],[4,"ngIf"],[1,"text"],[1,"more"],[3,"routerLink"],["alt","",3,"src"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.fc(1,Tb,1,1,"img",1),r.Nb(2,"div",2),r.Nb(3,"h4"),r.fc(4,Ob,2,1,"span",3),r.gc(5),r.Mb(),r.Nb(6,"p",4),r.gc(7),r.Mb(),r.Nb(8,"p",5),r.Nb(9,"a",6),r.gc(10," See All "),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.ac("routerLink","/project/",null==e.project?null:e.project.id,""),r.Ab(1),r.Yb("ngIf",null==e.project?null:e.project.thumbnail),r.Ab(3),r.Yb("ngIf",null==e.project?null:e.project.company),r.Ab(1),r.ic(" ",null==e.project?null:e.project.name,""),r.Ab(2),r.ic(" ",null==e.project?null:e.project.description," "),r.Ab(2),r.ac("routerLink","/project/",null==e.project?null:e.project.id,""))},directives:[oi,q,ai],styles:[".card[_ngcontent-%COMP%]{max-width:264px;width:100%;border:none;margin:auto}.card[_ngcontent-%COMP%]:hover{cursor:pointer}.card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;font-size:18px;color:#444}.card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:16px;line-height:26px;padding:15px 0}.card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{max-height:150px;overflow:hidden}"]}),xb),Db=((Ab=function(){function t(){_classCallCheck(this,t),this.experience=null}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Ab)},Ab.\u0275cmp=r.Eb({type:Ab,selectors:[["experience-card"]],inputs:{experience:"experience"},decls:7,vars:3,consts:[[1,"card"],[1,"position"],[1,"duration"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"h6"),r.gc(2),r.Mb(),r.Nb(3,"p",1),r.gc(4),r.Mb(),r.Nb(5,"p",2),r.gc(6),r.Mb(),r.Mb()),2&t&&(r.Ab(2),r.ic(" ",null==e.experience?null:e.experience.company," "),r.Ab(2),r.ic(" ",null==e.experience?null:e.experience.position," "),r.Ab(2),r.ic(" ",null==e.experience?null:e.experience.duration," "))},styles:[".card[_ngcontent-%COMP%]{border:none;margin:auto;width:264px}.card[_ngcontent-%COMP%]:hover{cursor:pointer;color:#444}"]}),Ab);function Rb(t,e){if(1&t&&(r.Nb(0,"div",14),r.gc(1),r.Mb()),2&t){var n=e.$implicit;r.Ab(1),r.ic("",n," ")}}function Pb(t,e){1&t&&r.Lb(0,"project-card",15),2&t&&r.Yb("project",e.$implicit)}function jb(t,e){1&t&&r.Lb(0,"experience-card",16),2&t&&r.Yb("experience",e.$implicit)}var Mb,Lb,Fb=((Lb=function(){function t(e,n){_classCallCheck(this,t),this.projectService=e,this.experienceService=n,this.projects=[],this.experiences=[],this.aboutMe=null}return _createClass(t,[{key:"ngOnInit",value:function(){this.loadAboutMeInfo(),this.loadExperience(),this.loadProjects()}},{key:"loadProjects",value:function(){var t=this;this.projectService.getProjects().subscribe((function(e){t.projects=e}))}},{key:"loadExperience",value:function(){var t=this;this.experienceService.getExperiences().subscribe((function(e){t.experiences=e}))}},{key:"loadAboutMeInfo",value:function(){this.aboutMe=this.experienceService.AboutMeInfo}},{key:"scrollToForm",value:function(){window.scrollTo(0,document.body.scrollHeight)}}]),t}()).\u0275fac=function(t){return new(t||Lb)(r.Kb(Eb),r.Kb(Ib))},Lb.\u0275cmp=r.Eb({type:Lb,selectors:[["app-home"]],decls:25,vars:6,consts:[[1,"container"],["alt","Avatar",1,"avatar",3,"src"],[1,"black"],["target","_blank",1,"resume_ref",3,"href"],["id","laptop",1,"fas","fa-laptop-code"],[1,"chip_container"],["class","chip",4,"ngFor","ngForOf"],[1,"contact_me"],[3,"click"],[1,"projects","row"],["class","col",3,"project",4,"ngFor","ngForOf"],[1,"experience"],[1,"row","mt-4"],["class","col",3,"experience",4,"ngFor","ngForOf"],[1,"chip"],[1,"col",3,"project"],[1,"col",3,"experience"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div"),r.Lb(2,"img",1),r.Nb(3,"div"),r.Nb(4,"h2",2),r.gc(5,"Welcome to my Portfolio \ud83d\udc4b"),r.Mb(),r.Nb(6,"p"),r.gc(7),r.Nb(8,"a",3),r.gc(9,".docx"),r.Mb(),r.Mb(),r.Nb(10,"h4",2),r.gc(11,"My knowledge: "),r.Lb(12,"i",4),r.Mb(),r.Nb(13,"div",5),r.fc(14,Rb,2,1,"div",6),r.Mb(),r.Nb(15,"p",7),r.Nb(16,"a",8),r.Vb("click",(function(){return e.scrollToForm()})),r.gc(17," Contact Me "),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(18,"div",9),r.fc(19,Pb,1,1,"project-card",10),r.Mb(),r.Nb(20,"div",11),r.Nb(21,"h4",2),r.gc(22," Experience "),r.Mb(),r.Nb(23,"div",12),r.fc(24,jb,1,1,"experience-card",13),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(2),r.Zb("src",null==e.experienceService||null==e.experienceService.AboutMeInfo?null:e.experienceService.AboutMeInfo.avatar,r.dc),r.Ab(5),r.ic(" ",null==e.experienceService||null==e.experienceService.AboutMeInfo?null:e.experienceService.AboutMeInfo.info," "),r.Ab(1),r.Zb("href",null==e.experienceService||null==e.experienceService.AboutMeInfo?null:e.experienceService.AboutMeInfo.resume,r.dc),r.Ab(6),r.Yb("ngForOf",null==e.experienceService||null==e.experienceService.AboutMeInfo?null:e.experienceService.AboutMeInfo.knowledge),r.Ab(5),r.Yb("ngForOf",e.projects),r.Ab(5),r.Yb("ngForOf",e.experiences))},directives:[V,Nb,Db],styles:[".container[_ngcontent-%COMP%]{padding:15px}.container[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:100px;margin:10px 0}.container[_ngcontent-%COMP%]   .resume_ref[_ngcontent-%COMP%]{color:#fff;background-color:#1a73e8;border:1px solid transparent;border-radius:4px;font-family:Google Sans,Roboto,RobotoDraft,Helvetica,Arial,sans-serif;font-weight:500;font-size:13px;height:21px;line-height:21px;margin:0 10px 0 0;padding:2px 5px 2px 4px;text-transform:uppercase}.container[_ngcontent-%COMP%]   .resume_ref[_ngcontent-%COMP%]:hover{text-decoration:none}.container[_ngcontent-%COMP%]   .chip_container[_ngcontent-%COMP%]{margin:15px 0}.container[_ngcontent-%COMP%]   .chip_container[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{margin-right:10px;display:inline-block;padding:0 25px;height:30px;font-size:16px;line-height:30px;border-radius:5px;background-color:#f1f1f1;margin-top:5px}.container[_ngcontent-%COMP%]   .chip_container[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]:hover{cursor:pointer;color:#444}.container[_ngcontent-%COMP%]   #laptop[_ngcontent-%COMP%]{color:#1a73e8}.container[_ngcontent-%COMP%]   .contact_me[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:20px;-webkit-text-decoration-line:underline;text-decoration-line:underline;margin-top:10px}.container[_ngcontent-%COMP%]   .contact_me[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;color:#444}.container[_ngcontent-%COMP%]   .projects[_ngcontent-%COMP%]{margin:12% auto auto}.container[_ngcontent-%COMP%]   .experience[_ngcontent-%COMP%]{margin:5% auto auto}.container[_ngcontent-%COMP%]   .black[_ngcontent-%COMP%]{color:#444}"]}),Lb),Vb=((Mb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Mb)},Mb.\u0275cmp=r.Eb({type:Mb,selectors:[["app-not-found"]],decls:5,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"h1"),r.gc(2,"404"),r.Mb(),r.Nb(3,"p"),r.gc(4,"Page not found"),r.Mb(),r.Mb())},styles:[".container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:8.5rem}"]}),Mb);function Ub(t,e){if(1&t&&(r.Nb(0,"span"),r.gc(1),r.Mb()),2&t){var n=r.Xb().$implicit;r.Ab(1),r.ic(" - ",null==n?null:n.position,"")}}function qb(t,e){if(1&t&&(r.Nb(0,"div"),r.gc(1),r.fc(2,Ub,2,1,"span",14),r.Mb()),2&t){var n=e.$implicit;r.Ab(1),r.ic(" ",null==n?null:n.name," "),r.Ab(1),r.Yb("ngIf",null==n?null:n.position)}}function Hb(t,e){if(1&t&&(r.Nb(0,"div",11),r.Nb(1,"div",12),r.Nb(2,"div",13),r.gc(3,"Team"),r.Mb(),r.fc(4,qb,3,2,"div",10),r.Mb(),r.Mb()),2&t){var n=r.Xb();r.Ab(4),r.Yb("ngForOf",null==n.project?null:n.project.teams)}}function Bb(t,e){if(1&t&&(r.Nb(0,"div",15),r.Nb(1,"div",12),r.Nb(2,"div",13),r.gc(3,"My Role"),r.Mb(),r.Nb(4,"div"),r.gc(5),r.Mb(),r.Mb(),r.Mb()),2&t){var n=r.Xb();r.Ab(5),r.hc(null==n.project?null:n.project.role)}}function zb(t,e){if(1&t&&(r.Nb(0,"div",16),r.Nb(1,"div",12),r.Nb(2,"div",13),r.gc(3,"Goals"),r.Mb(),r.Nb(4,"div"),r.gc(5),r.Mb(),r.Mb(),r.Mb()),2&t){var n=r.Xb();r.Ab(5),r.hc(null==n.project?null:n.project.goal)}}function Gb(t,e){if(1&t&&(r.Nb(0,"div"),r.Lb(1,"img",17),r.Mb()),2&t){var n=e.$implicit;r.Ab(1),r.Zb("src",n.url,r.dc)}}var Kb,Wb,Qb=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Fb},{path:"project/:id",component:(Kb=function(){function t(e,n,r){_classCallCheck(this,t),this.projectService=e,this.experienceService=n,this.activateRoute=r,this.project=null}return _createClass(t,[{key:"ngOnInit",value:function(){this.loadProjectInfo()}},{key:"loadProjectInfo",value:function(){var t=this;this.projectService.getProjectById(this.activateRoute.snapshot.params.id).subscribe((function(e){t.project=e}))}}]),t}(),Kb.\u0275fac=function(t){return new(t||Kb)(r.Kb(Eb),r.Kb(Ib),r.Kb(Qn))},Kb.\u0275cmp=r.Eb({type:Kb,selectors:[["app-project-info"]],decls:18,vars:7,consts:[[1,"container"],["routerLink","/home"],["aria-hidden","true",1,"fa","fa-arrow-left"],["alt","Avatar",1,"project_icon",3,"src"],[1,"black"],[1,"project_infos","row"],["class","project_team col",4,"ngIf"],["class","my_role col",4,"ngIf"],["class","goals col",4,"ngIf"],[1,"project_images"],[4,"ngFor","ngForOf"],[1,"project_team","col"],[1,"item"],[1,"header","black"],[4,"ngIf"],[1,"my_role","col"],[1,"goals","col"],["alt","",3,"src"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div"),r.Nb(2,"a",1),r.Lb(3,"i",2),r.gc(4," Back to home "),r.Mb(),r.Nb(5,"div"),r.Lb(6,"img",3),r.Nb(7,"div"),r.Nb(8,"h2",4),r.gc(9),r.Mb(),r.Nb(10,"p"),r.gc(11),r.Mb(),r.Mb(),r.Mb(),r.Nb(12,"div",5),r.fc(13,Hb,5,1,"div",6),r.fc(14,Bb,6,1,"div",7),r.fc(15,zb,6,1,"div",8),r.Mb(),r.Nb(16,"div",9),r.fc(17,Gb,2,1,"div",10),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(6),r.Zb("src",null==e.experienceService||null==e.experienceService.AboutMeInfo?null:e.experienceService.AboutMeInfo.avatar,r.dc),r.Ab(3),r.ic(" Welcome to '",null==e.project?null:e.project.name,"' "),r.Ab(2),r.ic(" ",null==e.project?null:e.project.description," "),r.Ab(2),r.Yb("ngIf",(null==e.project||null==e.project.teams?null:e.project.teams.length)>0),r.Ab(1),r.Yb("ngIf",null==e.project?null:e.project.role),r.Ab(1),r.Yb("ngIf",null==e.project?null:e.project.goal),r.Ab(2),r.Yb("ngForOf",null==e.project?null:e.project.images))},directives:[ai,q,V],styles:[".container[_ngcontent-%COMP%]{padding:15px}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px;margin-top:5%}.container[_ngcontent-%COMP%]   .project_icon[_ngcontent-%COMP%]{width:100px;margin:10px 0}.container[_ngcontent-%COMP%]   .project_infos[_ngcontent-%COMP%]{margin-top:7%}.container[_ngcontent-%COMP%]   .project_infos[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:264px;margin-top:5px}.container[_ngcontent-%COMP%]   .project_images[_ngcontent-%COMP%]{text-align:center;margin-top:5%}.container[_ngcontent-%COMP%]   .project_images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:800px;width:100%;margin:20px 0}.container[_ngcontent-%COMP%]   .black[_ngcontent-%COMP%]{color:#444}"]}),Kb)},{path:"404",component:Vb},{path:"**",redirectTo:"/404"}],Yb=((Wb=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ib({type:Wb}),Wb.\u0275inj=r.Hb({factory:function(t){return new(t||Wb)},imports:[[Si.forRoot(Qb)],Si]}),Wb),Zb=n("XoHu");function Xb(t,e){return new Mt.a((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(Dt.a)(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var Jb,$b,t_,e_,n_=new r.q("NgValueAccessor"),r_={provide:n_,useExisting:Object(r.T)((function(){return i_})),multi:!0},i_=((Jb=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Jb)(r.Kb(r.D),r.Kb(r.l))},Jb.\u0275dir=r.Fb({type:Jb,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([r_])]}),Jb),o_={provide:n_,useExisting:Object(r.T)((function(){return s_})),multi:!0},a_=new r.q("CompositionEventMode"),s_=((e_=function(){function t(e,n,r){var i;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=a()?a().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||e_)(r.Kb(r.D),r.Kb(r.l),r.Kb(a_,8))},e_.\u0275dir=r.Fb({type:e_,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Vb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.zb([o_])]}),e_),u_=((t_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}()).\u0275fac=function(t){return new(t||t_)},t_.\u0275dir=r.Fb({type:t_}),t_),c_=(($b=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(u_)).\u0275fac=function(t){return l_(t||$b)},$b.\u0275dir=r.Fb({type:$b,features:[r.xb]}),$b),l_=r.Pb(c_);function h_(){throw new Error("unimplemented")}var f_,d_,p_=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _createClass(n,[{key:"validator",get:function(){return h_()}},{key:"asyncValidator",get:function(){return h_()}}]),n}(u_),v_=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),y_=((d_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(v_)).\u0275fac=function(t){return new(t||d_)(r.Kb(p_,2))},d_.\u0275dir=r.Fb({type:d_,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),d_),g_=((f_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(v_)).\u0275fac=function(t){return new(t||f_)(r.Kb(c_,2))},f_.\u0275dir=r.Fb({type:f_,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),f_);function m_(t){return null==t||0===t.length}var b_=new r.q("NgValidators"),__=new r.q("NgAsyncValidators"),w_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,C_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(m_(e.value)||m_(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(m_(e.value)||m_(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return m_(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return m_(t.value)||w_.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(m_(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(m_(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(k_);return 0==e.length?null:function(t){return E_(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(k_);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(Vt.a)(r))return Xb(r,null);if(Object(Zb.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Xb(i.map((function(t){return r[t]})),i)}}if("function"==typeof e[e.length-1]){var o=e.pop();return Xb(e=1===e.length&&Object(Vt.a)(e[0])?e[0]:e,null).pipe(Object(Qt.a)((function(t){return o.apply(void 0,_toConsumableArray(t))})))}return Xb(e,null)}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(S_)).pipe(Object(Qt.a)(E_))}}}]),t}();function k_(t){return null!=t}function S_(t){var e=Object(r.rb)(t)?Object(Dt.a)(t):t;if(!Object(r.qb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function E_(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function I_(t){return t.validate?function(e){return t.validate(e)}:t}function T_(t){return t.validate?function(e){return t.validate(e)}:t}var O_,A_,x_,N_,D_,R_,P_={provide:n_,useExisting:Object(r.T)((function(){return j_})),multi:!0},j_=((O_=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||O_)(r.Kb(r.D),r.Kb(r.l))},O_.\u0275dir=r.Fb({type:O_,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([P_])]}),O_),M_={provide:n_,useExisting:Object(r.T)((function(){return F_})),multi:!0},L_=((x_=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||x_)},x_.\u0275prov=r.Gb({token:x_,factory:x_.\u0275fac}),x_),F_=((A_=function(){function t(e,n,r,i){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(p_),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()).\u0275fac=function(t){return new(t||A_)(r.Kb(r.D),r.Kb(r.l),r.Kb(L_),r.Kb(r.r))},A_.\u0275dir=r.Fb({type:A_,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([M_])]}),A_),V_={provide:n_,useExisting:Object(r.T)((function(){return U_})),multi:!0},U_=((N_=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||N_)(r.Kb(r.D),r.Kb(r.l))},N_.\u0275dir=r.Fb({type:N_,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([V_])]}),N_),q_='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',H_='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',B_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+q_)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(H_,'\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>'))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+q_)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+H_)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(t){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(t,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===t?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),t}(),z_={provide:n_,useExisting:Object(r.T)((function(){return G_})),multi:!0},G_=((D_=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.sb}return _createClass(t,[{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}},{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}]),t}()).\u0275fac=function(t){return new(t||D_)(r.Kb(r.D),r.Kb(r.l))},D_.\u0275dir=r.Fb({type:D_,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([z_])]}),D_),K_={provide:n_,useExisting:Object(r.T)((function(){return W_})),multi:!0},W_=((R_=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.sb}return _createClass(t,[{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}},{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}]),t}()).\u0275fac=function(t){return new(t||R_)(r.Kb(r.D),r.Kb(r.l))},R_.\u0275dir=r.Fb({type:R_,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([K_])]}),R_);function Q_(t,e){return[].concat(_toConsumableArray(e.path),[t])}function Y_(t,e){t||$_(e,"Cannot find control with"),e.valueAccessor||$_(e,"No value accessor for form control with"),t.validator=C_.compose([t.validator,e.validator]),t.asyncValidator=C_.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Z_(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Z_(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function Z_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function X_(t,e){null==t&&$_(e,"Cannot find control with"),t.validator=C_.compose([t.validator,e.validator]),t.asyncValidator=C_.composeAsync([t.asyncValidator,e.asyncValidator])}function J_(t){return $_(t,"There is no FormControl instance attached to form control element with")}function $_(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function tw(t){return null!=t?C_.compose(t.map(I_)):null}function ew(t){return null!=t?C_.composeAsync(t.map(T_)):null}var nw=[i_,U_,j_,G_,W_,F_];function rw(t){var e=ow(t)?t.validators:t;return Array.isArray(e)?tw(e):e||null}function iw(t,e){var n=ow(e)?e.asyncValidators:t;return Array.isArray(n)?ew(n):n||null}function ow(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var aw,sw,uw,cw,lw,hw=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this.validator=rw(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=iw(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=S_(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof dw?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof pw&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new r.n,this.statusChanges=new r.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){ow(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}]),t}(),fw=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,rw(i),iw(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(hw),dw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,rw(r),iw(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof fw?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(hw),pw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,rw(r),iw(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof fw?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),n}(hw),vw=((aw=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Q_(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return tw(this._validators)}},{key:"asyncValidator",get:function(){return ew(this._asyncValidators)}},{key:"_checkParentType",value:function(){}}]),n}(c_)).\u0275fac=function(t){return yw(t||aw)},aw.\u0275dir=r.Fb({type:aw,features:[r.xb]}),aw),yw=r.Pb(vw),gw=((sw=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||sw)},sw.\u0275dir=r.Fb({type:sw,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),sw),mw=new r.q("NgModelWithFormControlWarning"),bw={provide:c_,useExisting:Object(r.T)((function(){return _w}))},_w=((uw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this))._validators=t,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.n,o}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return Y_(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e,n,r;e=this.directives,n=t,(r=e.indexOf(n))>-1&&e.splice(r,1)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);X_(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);X_(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return J_(e)})),e.valueAccessor.registerOnTouched((function(){return J_(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&Y_(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=tw(this._validators);this.form.validator=C_.compose([this.form.validator,t]);var e=ew(this._asyncValidators);this.form.asyncValidator=C_.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form||B_.missingFormException()}}]),n}(c_)).\u0275fac=function(t){return new(t||uw)(r.Kb(b_,10),r.Kb(__,10))},uw.\u0275dir=r.Fb({type:uw,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Vb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([bw]),r.xb,r.yb]}),uw),ww={provide:c_,useExisting:Object(r.T)((function(){return Cw}))},Cw=((cw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){Ew(this._parent)&&B_.groupParentException()}}]),n}(vw)).\u0275fac=function(t){return new(t||cw)(r.Kb(c_,13),r.Kb(b_,10),r.Kb(__,10))},cw.\u0275dir=r.Fb({type:cw,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.zb([ww]),r.xb]}),cw),kw={provide:c_,useExisting:Object(r.T)((function(){return Sw}))},Sw=((lw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Q_(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return tw(this._validators)}},{key:"asyncValidator",get:function(){return ew(this._asyncValidators)}},{key:"_checkParentType",value:function(){Ew(this._parent)&&B_.arrayParentException()}}]),n}(c_)).\u0275fac=function(t){return new(t||lw)(r.Kb(c_,13),r.Kb(b_,10),r.Kb(__,10))},lw.\u0275dir=r.Fb({type:lw,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.zb([kw]),r.xb]}),lw);function Ew(t){return!(t instanceof Cw||t instanceof _w||t instanceof Sw)}var Iw,Tw,Ow,Aw,xw={provide:p_,useExisting:Object(r.T)((function(){return Nw}))},Nw=((Aw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a,s){var u;return _classCallCheck(this,n),(u=e.call(this))._ngModelWarningConfig=s,u._added=!1,u.update=new r.n,u._ngModelWarningSent=!1,u._parent=t,u._rawValidators=i||[],u._rawAsyncValidators=o||[],u.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||$_(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===s_?n=e:(o=e,nw.some((function(t){return o.constructor===t}))?(r&&$_(t,"More than one built-in value accessor matches form control with"),r=e):(i&&$_(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||($_(t,"No valid value accessor for form control with"),null)}(_assertThisInitialized(u),a),u}return _createClass(n,[{key:"isDisabled",set:function(t){B_.disabledAttrWarning()}},{key:"ngOnChanges",value:function(t){var e,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(r.sb)(e,n.currentValue)}(t,this.viewModel)&&(e=n,i=this._ngModelWarningConfig,Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(B_.ngModelWarning("formControlName"),e._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"path",get:function(){return Q_(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return tw(this._rawValidators)}},{key:"asyncValidator",get:function(){return ew(this._rawAsyncValidators)}},{key:"_checkParentType",value:function(){!(this._parent instanceof Cw)&&this._parent instanceof vw?B_.ngModelGroupException():this._parent instanceof Cw||this._parent instanceof _w||this._parent instanceof Sw||B_.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(p_)).\u0275fac=function(t){return new(t||Aw)(r.Kb(c_,13),r.Kb(b_,10),r.Kb(__,10),r.Kb(n_,10),r.Kb(mw,8))},Aw.\u0275dir=r.Fb({type:Aw,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([xw]),r.xb,r.yb]}),Aw._ngModelWarningSentOnce=!1,Aw),Dw=((Ow=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ib({type:Ow}),Ow.\u0275inj=r.Hb({factory:function(t){return new(t||Ow)}}),Ow),Rw=((Tw=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new dw(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new fw(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new pw(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof fw||t instanceof dw||t instanceof pw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||Tw)},Tw.\u0275prov=r.Gb({token:Tw,factory:Tw.\u0275fac}),Tw),Pw=((Iw=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:mw,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=r.Ib({type:Iw}),Iw.\u0275inj=r.Hb({factory:function(t){return new(t||Iw)},providers:[Rw,L_],imports:[Dw]}),Iw),jw=n("D5Hz"),Mw=n.n(jw);function Lw(t,e){1&t&&(r.Nb(0,"div",5),r.Nb(1,"div",6),r.Nb(2,"span",7),r.gc(3,"Loading..."),r.Mb(),r.Mb(),r.Mb())}function Fw(t,e){if(1&t){var n=r.Ob();r.Nb(0,"form",8),r.Vb("submit",(function(t){return r.cc(n),r.Xb().onSubmit(t)})),r.Nb(1,"div",9),r.Nb(2,"label",10),r.gc(3,"Name"),r.Mb(),r.Lb(4,"input",11),r.Mb(),r.Nb(5,"div",9),r.Nb(6,"label",12),r.gc(7,"Email address"),r.Mb(),r.Lb(8,"input",13),r.Mb(),r.Nb(9,"div",9),r.Nb(10,"label",14),r.gc(11,"Message"),r.Mb(),r.Lb(12,"textarea",15),r.Mb(),r.Nb(13,"button",16),r.Nb(14,"span"),r.gc(15,"Submit"),r.Mb(),r.Mb(),r.Mb()}if(2&t){var i=r.Xb();r.Yb("formGroup",i.contactForm),r.Ab(13),r.Yb("disabled",i.contactForm.invalid)}}var Vw,Uw,qw,Hw,Bw,zw,Gw=((zw=function(){function t(){_classCallCheck(this,t),this.showForm=!0,this.contactForm=new dw({name:new fw("",C_.required),email:new fw("",[C_.required,C_.email]),message:new fw("",C_.required)})}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(t){var e=this;t.preventDefault(),this.showForm=!1,Mw.a.send("service_t2tpb5b","template_epsesbd",this.contactForm.value,"user_qeWZKXOCNYZDm9LLVKxMt").then((function(){e.showForm=!0,e.contactForm.reset()}),(function(t){console.log(t.text)}))}}]),t}()).\u0275fac=function(t){return new(t||zw)},zw.\u0275cmp=r.Eb({type:zw,selectors:[["contact-form"]],decls:9,vars:2,consts:[[1,"contact"],["contact",""],[1,"header"],["class","spinner",4,"ngIf"],[3,"formGroup","submit",4,"ngIf"],[1,"spinner"],["role","status",1,"spinner-grow"],[1,"sr-only"],[3,"formGroup","submit"],[1,"form-group"],["for","name"],["type","text","name","user_name","formControlName","name","id","name","placeholder","Name",1,"form-control"],["for","email"],["type","email","name","user_email","id","email","formControlName","email","aria-describedby","Email","placeholder","Enter email",1,"form-control"],["for","description"],["formControlName","message","name","message","id","description","rows","3",1,"form-control"],["type","submit",1,"float-right",3,"disabled"]],template:function(t,e){1&t&&(r.Nb(0,"div",0,1),r.Nb(2,"div",2),r.Nb(3,"h4"),r.gc(4,"Looking for .NET Developer"),r.Mb(),r.Nb(5,"h6"),r.gc(6,"Send me details"),r.Mb(),r.Mb(),r.fc(7,Lw,4,0,"div",3),r.fc(8,Fw,16,2,"form",4),r.Mb()),2&t&&(r.Ab(7),r.Yb("ngIf",!e.showForm),r.Ab(1),r.Yb("ngIf",e.showForm))},directives:[q,gw,g_,_w,s_,y_,Nw],styles:[".contact[_ngcontent-%COMP%]{max-width:840px;width:100%;height:480px;background:#f9f9f9;border-radius:4px;margin:auto}.contact[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:15px}.contact[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#444}.contact[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{text-align:center}.contact[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:15px}.contact[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{outline:none;border:none;background:#f9f9f9;border-bottom:#444}.contact[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px solid #444}"]}),zw),Kw=((Bw=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Bw)},Bw.\u0275cmp=r.Eb({type:Bw,selectors:[["app-footer"]],decls:16,vars:0,consts:[[1,"footer"],["id","contact"],[1,"icons"],["target","_blank","href","https://github.com/OleksandrRapiy"],["aria-hidden","true",1,"fa","fa-github"],["target","_blank","href",""],["aria-hidden","true",1,"fa","fa-instagram"],["aria-hidden","true",1,"fa","fa-twitter"],["aria-hidden","true",1,"fa","fa-linkedin"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Lb(2,"contact-form"),r.Mb(),r.Nb(3,"div",2),r.Nb(4,"a",3),r.Lb(5,"i",4),r.gc(6," GitHub"),r.Mb(),r.Nb(7,"a",5),r.Lb(8,"i",6),r.gc(9," Instagram"),r.Mb(),r.Nb(10,"a",5),r.Lb(11,"i",7),r.gc(12," Twitter"),r.Mb(),r.Nb(13,"a",5),r.Lb(14,"i",8),r.gc(15," LinekedIn"),r.Mb(),r.Mb(),r.Mb())},directives:[Gw],styles:[".footer[_ngcontent-%COMP%]{width:100%;min-height:50px;border-radius:4px;margin:auto}.footer[_ngcontent-%COMP%]   #contact[_ngcontent-%COMP%]{margin-top:12%}.footer[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{text-align:center;background:#f9f9f9}.footer[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:15px}.footer[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}"]}),Bw),Ww=((Hw=function t(){_classCallCheck(this,t),this.title="portfolio"}).\u0275fac=function(t){return new(t||Hw)},Hw.\u0275cmp=r.Eb({type:Hw,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Lb(1,"router-outlet"),r.Lb(2,"app-footer"),r.Mb())},directives:[di,Kw],styles:[""]}),Hw),Qw=((qw=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ib({type:qw}),qw.\u0275inj=r.Hb({factory:function(t){return new(t||qw)},imports:[[Z,Yb,Pw]]}),qw),Yw=((Uw=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ib({type:Uw}),Uw.\u0275inj=r.Hb({factory:function(t){return new(t||Uw)},imports:[[Z,Yb,Qw]]}),Uw),Zw=((Vw=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ib({type:Vw,bootstrap:[Ww]}),Vw.\u0275inj=r.Hb({factory:function(t){return new(t||Vw)},providers:[],imports:[[xt,Yw,Qw,Yb,qi.a.initializeApp(i),Sb]]}),Vw);Object(r.S)(),Ot().bootstrapModule(Zw).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);