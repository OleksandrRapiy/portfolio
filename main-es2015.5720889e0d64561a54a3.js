(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return l}));var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function s(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var a=n("qOnz"),u=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),c=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new a.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(h){}try{for(var r=i(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var a=o(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(s(s([],o(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),o(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,u=this.normalizeInstanceIdentifier(void 0===r?"[DEFAULT]":r);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=i(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=o(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new c(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(s.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new o.a(this,e,n),s=this.destination;s.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&s.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},D5Hz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmailJSResponseStatus=e.sendForm=e.send=e.init=void 0;var r=n("MkV5");Object.defineProperty(e,"EmailJSResponseStatus",{enumerable:!0,get:function(){return r.EmailJSResponseStatus}});var i=n("USkh"),o=null,s="https://api.emailjs.com";function a(t,e,n){return void 0===n&&(n={}),new Promise((function(i,o){var s=new XMLHttpRequest;for(var a in s.addEventListener("load",(function(t){var e=new r.EmailJSResponseStatus(t.target);200===e.status||"OK"===e.text?i(e):o(e)})),s.addEventListener("error",(function(t){o(new r.EmailJSResponseStatus(t.target))})),s.open("POST",t,!0),n)s.setRequestHeader(a,n[a]);s.send(e)}))}function u(t){var e=document&&document.getElementById("g-recaptcha-response");return e&&e.value&&(t["g-recaptcha-response"]=e.value),e=null,t}function c(t,e){o=t,s=e||"https://api.emailjs.com"}function l(t,e,n,r){var i={lib_version:"2.6.4",user_id:r||o,service_id:t,template_id:e,template_params:u(n)};return a(s+"/api/v1.0/email/send",JSON.stringify(i),{"Content-type":"application/json"})}function h(t,e,n,r){var u;if("string"==typeof n&&(n=document.querySelector("#"!==(u=n)[0]&&"."!==u[0]?"#"+u:u)),!n||"FORM"!==n.nodeName)throw"Expected the HTML form element or the style selector of form";i.UI.progressState(n);var c=new FormData(n);return c.append("lib_version","2.6.4"),c.append("service_id",t),c.append("template_id",e),c.append("user_id",r||o),a(s+"/api/v1.0/email/send-form",c).then((function(t){return i.UI.successState(n),t}),(function(t){return i.UI.errorState(n),Promise.reject(t)}))}e.init=c,e.send=l,e.sendForm=h,e.default={init:c,send:l,sendForm:h}},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.4.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},MkV5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmailJSResponseStatus=void 0,e.EmailJSResponseStatus=function(t){this.status=t.status,this.text=t.responseText}},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},USkh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UI=void 0;var r=function(){function t(){}return t.clearAll=function(t){t.classList.remove(this.PROGRESS),t.classList.remove(this.DONE),t.classList.remove(this.ERROR)},t.progressState=function(t){this.clearAll(t),t.classList.add(this.PROGRESS)},t.successState=function(t){t.classList.remove(this.PROGRESS),t.classList.add(this.DONE)},t.errorState=function(t){t.classList.remove(this.PROGRESS),t.classList.add(this.ERROR)},t.PROGRESS="emailjs-sending",t.DONE="emailjs-success",t.ERROR="emailjs-error",t}();e.UI=r},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(t,e,n,s,a=new r.a(t,n,s)){if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return yo})),n.d(e,"b",(function(){return Ka})),n.d(e,"c",(function(){return qa})),n.d(e,"d",(function(){return Va})),n.d(e,"e",(function(){return Ua})),n.d(e,"f",(function(){return Fu})),n.d(e,"g",(function(){return xu})),n.d(e,"h",(function(){return Ji})),n.d(e,"i",(function(){return ru})),n.d(e,"j",(function(){return xs})),n.d(e,"k",(function(){return Qa})),n.d(e,"l",(function(){return As})),n.d(e,"m",(function(){return bn})),n.d(e,"n",(function(){return Ca})),n.d(e,"o",(function(){return J})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return X})),n.d(e,"r",(function(){return mo})),n.d(e,"s",(function(){return Ws})),n.d(e,"t",(function(){return Qs})),n.d(e,"u",(function(){return Wa})),n.d(e,"v",(function(){return dt})),n.d(e,"w",(function(){return Nu})),n.d(e,"x",(function(){return ft})),n.d(e,"y",(function(){return Cu})),n.d(e,"z",(function(){return au})),n.d(e,"A",(function(){return v})),n.d(e,"B",(function(){return Ga})),n.d(e,"C",(function(){return za})),n.d(e,"D",(function(){return Rs})),n.d(e,"E",(function(){return ks})),n.d(e,"F",(function(){return Ds})),n.d(e,"G",(function(){return js})),n.d(e,"H",(function(){return sr})),n.d(e,"I",(function(){return w})),n.d(e,"J",(function(){return Ru})),n.d(e,"K",(function(){return Js})),n.d(e,"L",(function(){return gu})),n.d(e,"M",(function(){return Ls})),n.d(e,"N",(function(){return Ms})),n.d(e,"O",(function(){return ea})),n.d(e,"P",(function(){return _t})),n.d(e,"Q",(function(){return Io})),n.d(e,"R",(function(){return Su})),n.d(e,"S",(function(){return Ln})),n.d(e,"T",(function(){return L})),n.d(e,"U",(function(){return Mn})),n.d(e,"V",(function(){return Mu})),n.d(e,"W",(function(){return vu})),n.d(e,"X",(function(){return $a})),n.d(e,"Y",(function(){return eo})),n.d(e,"Z",(function(){return ya})),n.d(e,"ab",(function(){return ir})),n.d(e,"bb",(function(){return cr})),n.d(e,"cb",(function(){return qn})),n.d(e,"db",(function(){return On})),n.d(e,"eb",(function(){return An})),n.d(e,"fb",(function(){return Rn})),n.d(e,"gb",(function(){return kn})),n.d(e,"hb",(function(){return Nn})),n.d(e,"ib",(function(){return Dn})),n.d(e,"jb",(function(){return da})),n.d(e,"kb",(function(){return ju})),n.d(e,"lb",(function(){return pa})),n.d(e,"mb",(function(){return ga})),n.d(e,"nb",(function(){return xn})),n.d(e,"ob",(function(){return z})),n.d(e,"pb",(function(){return To})),n.d(e,"qb",(function(){return Ho})),n.d(e,"rb",(function(){return qo})),n.d(e,"sb",(function(){return So})),n.d(e,"tb",(function(){return fa})),n.d(e,"ub",(function(){return Gt})),n.d(e,"vb",(function(){return P})),n.d(e,"wb",(function(){return Tn})),n.d(e,"xb",(function(){return cs})),n.d(e,"yb",(function(){return gs})),n.d(e,"zb",(function(){return Is})),n.d(e,"Ab",(function(){return Ar})),n.d(e,"Bb",(function(){return Ao})),n.d(e,"Cb",(function(){return Xo})),n.d(e,"Db",(function(){return ja})),n.d(e,"Eb",(function(){return It})),n.d(e,"Fb",(function(){return Dt})),n.d(e,"Gb",(function(){return S})),n.d(e,"Hb",(function(){return I})),n.d(e,"Ib",(function(){return At})),n.d(e,"Jb",(function(){return Rt})),n.d(e,"Kb",(function(){return Do})),n.d(e,"Lb",(function(){return Vo})),n.d(e,"Mb",(function(){return Fo})),n.d(e,"Nb",(function(){return Lo})),n.d(e,"Ob",(function(){return Uo})),n.d(e,"Pb",(function(){return gn})),n.d(e,"Qb",(function(){return as})),n.d(e,"Rb",(function(){return ut})),n.d(e,"Sb",(function(){return Ro})),n.d(e,"Tb",(function(){return Fa})),n.d(e,"Ub",(function(){return Po})),n.d(e,"Vb",(function(){return Bo})),n.d(e,"Wb",(function(){return Ma})),n.d(e,"Xb",(function(){return Ko})),n.d(e,"Yb",(function(){return jo})),n.d(e,"Zb",(function(){return $o})),n.d(e,"ac",(function(){return Wo})),n.d(e,"bc",(function(){return Pa})),n.d(e,"cc",(function(){return ce})),n.d(e,"dc",(function(){return lr})),n.d(e,"ec",(function(){return Nt})),n.d(e,"fc",(function(){return ko})),n.d(e,"gc",(function(){return rs})),n.d(e,"hc",(function(){return is})),n.d(e,"ic",(function(){return os})),n.d(e,"jc",(function(){return ss}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){return{toString:t}.toString()}function m(t,e,n){return g(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const y=m("Inject",t=>({token:t})),v=m("Optional"),b=m("Self"),w=m("SkipSelf");var _=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function E(t){for(let e in t)if(t[e]===E)return e;throw Error("Could not find renamed property on target object.")}function C(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function T(t){return O(t,t[A])||O(t,t[D])}function O(t,e){return e&&e.token===t?e:null}function x(t){return t&&(t.hasOwnProperty(N)||t.hasOwnProperty(R))?t[N]:null}const A=E({"\u0275prov":E}),N=E({"\u0275inj":E}),k=E({"\u0275provFallback":E}),D=E({ngInjectableDef:E}),R=E({ngInjectorDef:E});function P(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(P).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function j(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const M=E({__forward_ref__:E});function L(t){return t.__forward_ref__=L,t.toString=function(){return P(this())},t}function F(t){return V(t)?t():t}function V(t){return"function"==typeof t&&t.hasOwnProperty(M)&&t.__forward_ref__===L}const U="undefined"!=typeof globalThis&&globalThis,q="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,z=U||B||q||H,G=E({"\u0275cmp":E}),K=E({"\u0275dir":E}),$=E({"\u0275pipe":E}),W=E({"\u0275mod":E}),Q=E({"\u0275loc":E}),Y=E({"\u0275fac":E}),Z=E({__NG_ELEMENT_ID__:E});class X{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const J=new X("INJECTOR",-1),tt={},et=/\n/gm,nt=E({provide:String,useValue:E});let rt,it=void 0;function ot(t){const e=it;return it=t,e}function st(t){const e=rt;return rt=t,e}function at(t,e=_.Default){if(void 0===it)throw new Error("inject() must be called from an injection context");return null===it?ct(t,void 0,e):it.get(t,e&_.Optional?null:void 0,e)}function ut(t,e=_.Default){return(rt||at)(F(t),e)}function ct(t,e,n){const r=T(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&_.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${P(t)}]`)}function lt(t){const e=[];for(let n=0;n<t.length;n++){const r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=_.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof v||"Optional"===i.ngMetadataName||i===v?n|=_.Optional:i instanceof w||"SkipSelf"===i.ngMetadataName||i===w?n|=_.SkipSelf:i instanceof b||"Self"===i.ngMetadataName||i===b?n|=_.Self:t=i instanceof y||i===y?i.token:i}e.push(ut(t,n))}else e.push(ut(r))}return e}class ht{get(t,e=tt){if(e===tt){const e=new Error(`NullInjectorError: No provider for ${P(t)}!`);throw e.name="NullInjectorError",e}return e}}class ft{}class dt{}function pt(t,e){t.forEach(t=>Array.isArray(t)?pt(t,e):e(t))}function gt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yt(t,e,n){let r=bt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function vt(t,e){const n=bt(t,e);if(n>=0)return t[1|n]}function bt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const wt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),_t=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Et={},Ct=[];let St=0;function It(t){return g(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ct,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||_t.Emulated,id:"c",styles:t.styles||Ct,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,s=t.features,a=t.pipes;return i.id+=St++,i.inputs=kt(t.inputs,r),i.outputs=kt(t.outputs),s&&s.forEach(t=>t(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Tt):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Ot):null,i})}function Tt(t){return Pt(t)||function(t){return t[K]||null}(t)}function Ot(t){return function(t){return t[$]||null}(t)}const xt={};function At(t){const e={type:t.type,bootstrap:t.bootstrap||Ct,declarations:t.declarations||Ct,imports:t.imports||Ct,exports:t.exports||Ct,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g(()=>{xt[t.id]=t.type}),e}function Nt(t,e){return g(()=>{const n=Mt(t,!0);n.declarations=e.declarations||Ct,n.imports=e.imports||Ct,n.exports=e.exports||Ct})}function kt(t,e){if(null==t)return Et;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Dt=It;function Rt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pt(t){return t[G]||null}function jt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}function Mt(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${P(t)} does not have '\u0275mod' property.`);return n}function Lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ft(t){return Array.isArray(t)&&!0===t[1]}function Vt(t){return 0!=(8&t.flags)}function Ut(t){return 2==(2&t.flags)}function qt(t){return 1==(1&t.flags)}function Ht(t){return null!==t.template}function Bt(t){return 0!=(512&t[2])}let zt=void 0;function Gt(t){zt=t}function Kt(t){return!!t.listen}const $t={createRenderer:(t,e)=>void 0!==zt?zt:"undefined"!=typeof document?document:void 0};function Wt(t){for(;Array.isArray(t);)t=t[0];return t}function Qt(t,e){return Wt(e[t+20])}function Yt(t,e){return Wt(e[t.index])}function Zt(t,e){return t.data[e+20]}function Xt(t,e){const n=e[t];return Lt(n)?n:n[0]}function Jt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function te(t){return 4==(4&t[2])}function ee(t){return 128==(128&t[2])}function ne(t,e){return null===t||null==e?null:t[e]}function re(t){t[18]=0}function ie(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const oe={lFrame:Se(null),bindingsEnabled:!0,checkNoChangesMode:!1};function se(){return oe.bindingsEnabled}function ae(){return oe.lFrame.lView}function ue(){return oe.lFrame.tView}function ce(t){oe.lFrame.contextLView=t}function le(){return oe.lFrame.previousOrParentTNode}function he(t,e){oe.lFrame.previousOrParentTNode=t,oe.lFrame.isParent=e}function fe(){return oe.lFrame.isParent}function de(){return oe.checkNoChangesMode}function pe(t){oe.checkNoChangesMode=t}function ge(){return oe.lFrame.bindingIndex++}function me(t){const e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ye(t,e){const n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,ve(e)}function ve(t){oe.lFrame.currentDirectiveIndex=t}function be(){return oe.lFrame.currentQueryIndex}function we(t){oe.lFrame.currentQueryIndex=t}function _e(t,e){const n=Ce();oe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Ee(t,e){const n=Ce(),r=t[1];oe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ce(){const t=oe.lFrame,e=null===t?null:t.child;return null===e?Se(t):e}function Se(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ie(){const t=oe.lFrame;return oe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Te=Ie;function Oe(){const t=Ie();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xe(){return oe.lFrame.selectedIndex}function Ae(t){oe.lFrame.selectedIndex=t}function Ne(){const t=oe.lFrame;return Zt(t.tView,t.selectedIndex)}function ke(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function De(t,e,n){je(t,e,3,n)}function Re(t,e,n,r){(3&t[2])===n&&je(t,e,n,r)}function Pe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function je(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Me(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Me(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class Le{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Fe(t,e,n){const r=Kt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ue(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ve(t){return 3===t||4===t||6===t}function Ue(t){return 64===t.charCodeAt(0)}function qe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||He(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function He(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Be(t){return-1!==t}function ze(t){return 32767&t}function Ge(t){return t>>16}function Ke(t,e){let n=Ge(t),r=e;for(;n>0;)r=r[15],n--;return r}function $e(t){return"string"==typeof t?t:null==t?"":""+t}function We(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$e(t)}const Qe=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Ye(t){return t instanceof Function?t():t}let Ze=!0;function Xe(t){const e=Ze;return Ze=t,e}let Je=0;function tn(t,e){const n=nn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,en(r.data,t),en(e,null),en(r.blueprint,null));const i=rn(t,e),o=t.injectorIndex;if(Be(i)){const t=ze(i),n=Ke(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function en(t,e){t.push(0,0,0,0,0,0,0,0,e)}function nn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function rn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function on(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Z]:n.charCodeAt(0)||0;null==r&&(r=n[Z]=Je++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function sn(t,e,n,r=_.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Z];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){_e(e,t);try{const t=i();if(null!=t||r&_.Optional)return t;throw new Error(`No provider for ${We(n)}!`)}finally{Te()}}else if("number"==typeof i){if(-1===i)return new dn(t,e);let o=null,s=nn(t,e),a=-1,u=r&_.Host?e[16][6]:null;for((-1===s||r&_.SkipSelf)&&(a=-1===s?rn(t,e):e[s+8],fn(r,!1)?(o=e[1],s=ze(a),e=Ke(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(hn(i,s,t.data)){const t=un(s,e,n,o,r,u);if(t!==an)return t}fn(r,e[1].data[s+8]===u)&&hn(i,s,e)?(o=t,s=ze(a),e=Ke(a,e)):s=-1}}}if(r&_.Optional&&void 0===i&&(i=null),0==(r&(_.Self|_.Host))){const t=e[9],o=st(void 0);try{return t?t.get(n,i,r&_.Optional):ct(n,i,r&_.Optional)}finally{st(o)}}if(r&_.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${We(n)}]`)}const an={};function un(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=cn(a,s,n,null==r?Ut(a)&&Ze:r!=s&&3===a.type,i&_.Host&&o===a);return null!==u?ln(e,s,u,a):an}function cn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=65535&o,u=t.directiveStart,c=o>>16,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Ht(t)&&t.type===n)return u}return null}function ln(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Le){const s=i;if(s.resolving)throw new Error("Circular dep for "+We(o[n]));const a=Xe(s.canSeeViewProviders);let u;s.resolving=!0,s.injectImpl&&(u=st(s.injectImpl)),_e(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:o}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&st(u),Xe(a),s.resolving=!1,Te()}}return i}function hn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function fn(t,e){return!(t&_.Self||t&_.Host&&e)}class dn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return sn(this._tNode,this._lView,t,void 0,e)}}function pn(t){const e=t;if(V(t))return()=>{const t=pn(F(e));return t?t():null};let n=jt(e);if(null===n){const t=x(e);n=t&&t.factory}return n||null}function gn(t){return g(()=>{const e=t.prototype.constructor,n=e[Y]||pn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||pn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function mn(t){return t.ngDebugContext}function yn(t){return t.ngOriginalError}function vn(t,...e){t.error(...e)}class bn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||vn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?mn(t)?mn(t):this._findContext(yn(t)):null}_findOriginalError(t){let e=yn(t);for(;e&&yn(e);)e=yn(e);return e}}class wn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class _n extends wn{getTypeName(){return"HTML"}}class En extends wn{getTypeName(){return"Style"}}class Cn extends wn{getTypeName(){return"Script"}}class Sn extends wn{getTypeName(){return"URL"}}class In extends wn{getTypeName(){return"ResourceURL"}}function Tn(t){return t instanceof wn?t.changingThisBreaksApplicationSecurity:t}function On(t,e){const n=xn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function xn(t){return t instanceof wn&&t.getTypeName()||null}function An(t){return new _n(t)}function Nn(t){return new En(t)}function kn(t){return new Cn(t)}function Dn(t){return new Sn(t)}function Rn(t){return new In(t)}let Pn=!0,jn=!1;function Mn(){return jn=!0,Pn}function Ln(){if(jn)throw new Error("Cannot enable prod mode after platform setup.");Pn=!1}class Fn{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Vn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Un=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qn(t){return(t=String(t)).match(Vn)||t.match(Un)?t:(Mn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Hn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Bn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const zn=Hn("area,br,col,hr,img,wbr"),Gn=Hn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kn=Hn("rp,rt"),$n=Bn(Kn,Gn),Wn=Bn(zn,Bn(Gn,Hn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bn(Kn,Hn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$n),Qn=Hn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yn=Hn("srcset"),Zn=Bn(Qn,Yn,Hn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xn=Hn("script,style,template");class Jn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Wn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Xn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Zn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Qn[o]&&(s=qn(s)),Yn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>qn(t.trim())).join(", ")),this.buf.push(" ",e,'="',nr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Wn.hasOwnProperty(e)&&!zn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(nr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const tr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,er=/([^\#-~ |!])/g;function nr(t){return t.replace(/&/g,"&amp;").replace(tr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(er,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rr;function ir(t,e){let n=null;try{rr=rr||new Fn(t);let r=e?String(e):"";n=rr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=rr.getInertBodyElement(r)}while(r!==o);const s=new Jn,a=s.sanitizeChildren(or(n)||n);return Mn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=or(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function or(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const sr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),ar=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ur=/^url\(([^)]+)\)$/;function cr(t){if(!(t=String(t).trim()))return"";const e=t.match(ur);return e&&qn(e[1])===e[1]||t.match(ar)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Mn()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function lr(t){const e=function(){const t=ae();return t&&t[12]}();return e?e.sanitize(sr.URL,t)||"":On(t,"URL")?Tn(t):qn($e(t))}function hr(t,e){t.__ngContext__=e}function fr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function dr(){throw new Error("Cannot mix multi providers and regular providers")}function pr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function gr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==pr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function mr(t){return 0===t.type&&"ng-template"!==t.tagName}function yr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function vr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ve(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!yr(t,u,n)||""===u&&1===e.length){if(br(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!gr(t.attrs,c,n)){if(br(r))return!1;s=!0}continue}const l=wr(8&r?"class":u,i,mr(t),n);if(-1===l){if(br(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==pr(e,c,0)||2&r&&c!==t){if(br(r))return!1;s=!0}}}}else{if(!s&&!br(r)&&!br(u))return!1;if(s&&br(u))continue;s=!1,r=u|1&r}}return br(r)||s}function br(t){return 0==(1&t)}function wr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function _r(t,e,n=!1){for(let r=0;r<e.length;r++)if(vr(t,e[r],n))return!0;return!1}function Er(t,e){return t?":not("+e.trim()+")":e}function Cr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||br(s)||(e+=Er(o,i),i=""),r=s,o=o||!br(r);n++}return""!==i&&(e+=Er(o,i)),e}const Sr={};function Ir(t){const e=t[3];return Ft(e)?e[3]:e}function Tr(t){return xr(t[13])}function Or(t){return xr(t[4])}function xr(t){for(;null!==t&&!Ft(t);)t=t[4];return t}function Ar(t){Nr(ue(),ae(),xe()+t,de())}function Nr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&De(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Re(e,r,0,n)}Ae(n)}function kr(t,e){return t<<17|e<<2}function Dr(t){return t>>17&32767}function Rr(t){return 2|t}function Pr(t){return(131068&t)>>2}function jr(t,e){return-131069&t|e<<2}function Mr(t){return 1|t}function Lr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];we(i),n.contentQueries(2,e[o],o)}}}function Fr(t,e,n){return Kt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Vr(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,re(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ur(t,e,n,r,i,o){const s=n+20,a=t.data[s]||function(t,e,n,r,i,o){const s=le(),a=fe(),u=a?s:s&&s.parent,c=t.data[n]=Qr(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return he(a,!0),a}function qr(t,e,n){Ee(e,e[6]);try{const r=t.viewQuery;null!==r&&yi(1,r,n);const i=t.template;null!==i&&zr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Lr(t,e),t.staticViewQueries&&yi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)fi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Oe()}}function Hr(t,e,n,r){const i=e[2];if(256==(256&i))return;Ee(e,e[6]);const o=de();try{re(e),oe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&zr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&De(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Re(e,n,0,null),Pe(e,0)}if(function(t){for(let e=Tr(t);null!==e;e=Or(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ie(r,1),n[2]|=1024}}}(e),function(t){for(let e=Tr(t);null!==e;e=Or(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];ee(n)&&Hr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Lr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&De(e,n)}else{const n=t.contentHooks;null!==n&&Re(e,n,1),Pe(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Ae(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(ye(r,i),s(2,e[i])),i++)}}}finally{Ae(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)hi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&yi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&De(e,n)}else{const n=t.viewHooks;null!==n&&Re(e,n,2),Pe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ie(e[3],-1))}finally{Oe()}}function Br(t,e,n,r){const i=e[10],o=!de(),s=te(e);try{o&&!s&&i.begin&&i.begin(),s&&qr(t,e,r),Hr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function zr(t,e,n,r,i){const o=xe();try{Ae(-1),2&r&&e.length>20&&Nr(t,e,0,de()),n(r,i)}finally{Ae(o)}}function Gr(t,e,n){se()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||tn(n,e),hr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Ht(r);o&&ai(e,n,r);const u=ln(e,t,a,n);hr(u,e),null!==s&&ui(0,a-i,u,r,0,s),o&&(Xt(n.index,e)[8]=u)}}(t,e,n,Yt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,u=oe.lFrame.currentDirectiveIndex;try{Ae(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ve(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ei(r,i):s&&o.push(null)}}finally{Ae(-1),ve(u)}}(t,e,n))}function Kr(t,e,n=Yt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function $r(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Wr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Wr(t,e,n,r,i,o,s,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Sr);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Qr(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Yr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Zr(t,e,n,r,i,o,s,a){const u=Yt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Ei(t,n,c,r,i),Ut(e)&&function(t,e){const n=Xt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.tagName||"",r):i,Kt(o)?o.setProperty(u,r,i):Ue(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Xr(t,e,n,r){let i=!1;if(se()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];_r(n,s.selectors,!1)&&(i||(i=[]),on(tn(n,e),t,s.type),Ht(s)?(2&n.flags&&fr(n),ri(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,oi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}ni(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=qe(n.mergedAttrs,c.hostAttrs),si(t,e,c),ii(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),Jr(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||mr(e)?null:ci(n,i);o.push(c),s=Yr(n,u,s),a=Yr(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),ti(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=qe(n.mergedAttrs,n.attrs),i}function Jr(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ti(t,e,n){for(let r=0;r<n;r++)e.push(Sr),t.blueprint.push(Sr),t.data.push(null)}function ei(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ni(t,e,n){const r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ri(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ii(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function oi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function si(t,e,n){t.data.push(n);const r=n.factory||(n.factory=jt(n.type)),i=new Le(r,Ht(n),null);t.blueprint.push(i),e.push(i)}function ai(t,e,n){const r=Yt(e,t),i=$r(n),o=t[10],s=di(t,Vr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function ui(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function ci(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function li(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function hi(t,e){const n=Xt(e,t);if(ee(n)){const t=n[1];80&n[2]?Hr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Tr(e);null!==r;r=Or(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Hr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Xt(n[r],e);ee(i)&&i[5]>0&&t(i)}}(n)}}function fi(t,e){const n=Xt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),qr(r,n,n[8])}function di(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function pi(t){for(;t;){t[2]|=64;const e=Ir(t);if(Bt(t)&&!e)return t;t=e}return null}function gi(t,e,n){const r=e[10];r.begin&&r.begin();try{Hr(t,e,t.template,n)}catch(i){throw _i(e,i),i}finally{r.end&&r.end()}}function mi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Jt(n),i=r[1];Br(i,r,i.template,n)}}(t[8])}function yi(t,e,n){we(0),e(t,n)}const vi=(()=>Promise.resolve(null))();function bi(t){return t[7]||(t[7]=[])}function wi(t){return t.cleanup||(t.cleanup=[])}function _i(t,e){const n=t[9],r=n?n.get(bn,null):null;r&&r.handleError(e)}function Ei(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ci(t,e,n){const r=Qt(e,t),i=t[11];Kt(i)?i.setValue(r,n):r.textContent=n}function Si(t,e){const n=e[3];return-1===t.index?Ft(n)?n:null:n}function Ii(t,e){const n=Si(t,e);return n?Mi(e[11],n[7]):null}function Ti(t,e,n,r,i){if(null!=r){let o,s=!1;Ft(r)?o=r:Lt(r)&&(s=!0,r=r[0]);const a=Wt(r);0===t&&null!==n?null==i?Pi(e,n,a):Ri(e,n,a,i||null):1===t&&null!==n?Ri(e,n,a,i||null):2===t?function(t,e,n){const r=Mi(t,e);r&&function(t,e,n,r){Kt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Wt(n)&&Ti(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];Ui(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Oi(t,e,n,r){const i=Ii(t.node,e);i&&Ui(t,e,e[11],n?1:2,i,r)}function xi(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&ie(e[3],-1),n.splice(r,1)}function Ai(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&xi(i,r),e>0&&(t[n-1][4]=r[4]);const o=mt(t,10+e);Oi(r[1],r,!1,null);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Ni(t,e){if(!(256&e[2])){const n=e[11];Kt(n)&&n.destroyNode&&Ui(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Di(t[1],t);for(;e;){let n=null;if(Lt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Lt(e)&&Di(e[1],e),e=ki(e,t);null===e&&(e=t),Lt(e)&&Di(e[1],e),n=e&&e[4]}e=n}}(e)}}function ki(t,e){let n;return Lt(t)&&(n=t[6])&&2===n.type?Si(n,t):t[3]===e?null:t[3]}function Di(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Le)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Wt(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Kt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Ft(e[3])){r!==e[3]&&xi(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Ri(t,e,n,r){Kt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Pi(t,e,n){Kt(t)?t.appendChild(e,n):e.appendChild(n)}function ji(t,e,n,r){null!==r?Ri(t,e,n,r):Pi(t,e,n)}function Mi(t,e){return Kt(t)?t.parentNode(e):e.parentNode}function Li(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Ii(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Yt(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==_t.ShadowDom&&n!==_t.Native)return null}return Yt(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){if(2===t.type){const n=Si(t,e);return null===n?null:Fi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Yt(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)ji(t,i,n[e],o);else ji(t,i,n,o)}}function Fi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Yt(n,e);if(0===r)return Fi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Ft(t)?Fi(-1,t):Wt(t)}}{const r=e[16],i=r[6],o=Ir(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function Vi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&hr(Wt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Vi(t,e,n.child,r,i,o,!1),Ti(e,t,i,a,o)):1===u?qi(t,e,r,n,i,o):Ti(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Ui(t,e,n,r,i,o){Vi(n,r,t.node.child,e,i,o,!1)}function qi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ti(e,t,i,a[u],o);else Vi(t,e,a,s[3],i,o,!0)}function Hi(t,e,n){Kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Bi(t,e,n){Kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class zi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Wt(s)),Ft(s))for(let e=10;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Ir(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ni(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,bi(n=this._lView).push(r),e.firstCreatePass&&wi(e).push(n[7].length-1,null)}markForCheck(){pi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){gi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){pe(!0);try{gi(t,e,n)}finally{pe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ui(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Gi extends zi{constructor(t){super(t),this._view=t}detectChanges(){mi(this._view)}checkNoChanges(){!function(t){pe(!0);try{mi(t)}finally{pe(!1)}}(this._view)}get context(){return null}}let Ki,$i,Wi;function Qi(t,e,n){return Ki||(Ki=class extends t{}),new Ki(Yt(e,n))}function Yi(t,e,n,r){return $i||($i=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Vr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),qr(e,n,t),new zi(n)}}),0===n.type?new $i(r,n,Qi(e,n,r)):null}function Zi(t,e,n,r){let i;Wi||(Wi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Qi(e,this._hostTNode,this._hostView)}get injector(){return new dn(this._hostTNode,this._hostView)}get parentInjector(){const t=rn(this._hostTNode,this._hostView),e=Ke(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Ge(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return Be(t)&&null!=n?new dn(n,e):new dn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ft,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Wi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],gt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Oi(r,n,!0,Fi(i,this._lContainer)),t.attachToViewContainerRef(this),gt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=Ai(t,e);n&&Ni(n[1],n)}(this._lContainer,e),mt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ai(this._lContainer,e);return n&&null!=mt(this._lContainer[8],e)?new zi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Ft(o))i=o;else{let t;if(4===n.type)t=Wt(o);else if(t=r[11].createComment(""),Bt(r)){const e=r[11],i=Yt(n,r);Ri(e,Mi(e,i),t,function(t,e){return Kt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Li(r[1],r,t,n);r[n.index]=i=li(o,r,t,n),di(r,i)}return new Wi(i,n,r)}function Xi(t=!1){return function(t,e,n){if(!n&&Ut(t)){const n=Xt(t.index,e);return new zi(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new zi(e[16],e):null}(le(),ae(),t)}let Ji=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>to(),t})();const to=Xi,eo=new X("Set Injector scope."),no={},ro={},io=[];let oo=void 0;function so(){return void 0===oo&&(oo=new ht),oo}function ao(t,e=null,n=null,r){return new uo(t,n,e||so(),r)}class uo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&pt(e,n=>this.processProvider(n,t,e)),pt([t],t=>this.processInjectorType(t,[],i)),this.records.set(J,ho(void 0,this));const o=this.records.get(eo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:P(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=tt,n=_.Default){this.assertNotDestroyed();const r=ot(this);try{if(!(n&_.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof X)&&T(t);e=n&&this.injectableDefInScope(n)?ho(co(t),no):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&_.Self?so():this.parent).get(t,e=n&_.Optional&&e===tt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(P(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=P(e);if(Array.isArray(e))i=e.map(P).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):P(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(et,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{ot(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(P(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=F(t)))return!1;let r=x(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=x(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{pt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];pt(r,t=>this.processProvider(t,n,r||io))}}this.injectorDefTypes.add(o),this.records.set(o,ho(r.factory,no));const a=r.providers;if(null!=a&&!s){const e=t;pt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=po(t=F(t))?t:F(t&&t.provide);const i=function(t,e,n){return fo(t)?ho(void 0,t.useValue):ho(lo(t,e,n),no)}(t,e,n);if(po(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&dr()}else{let e=this.records.get(r);e?void 0===e.multi&&dr():(e=ho(void 0,no,!0),e.factory=()=>lt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ro?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(P(t)):e.value===no&&(e.value=ro,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function co(t){const e=T(t),n=null!==e?e.factory:jt(t);if(null!==n)return n;const r=x(t);if(null!==r)return r.factory;if(t instanceof X)throw new Error(`Token ${P(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${P(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[A]||t[D]||t[k]&&t[k]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function lo(t,e,n){let r=void 0;if(po(t)){const e=F(t);return jt(e)||co(e)}if(fo(t))r=()=>F(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...lt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ut(F(t.useExisting));else{const i=F(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${P(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return jt(i)||co(i);r=()=>new i(...lt(t.deps))}var i;return r}function ho(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fo(t){return null!==t&&"object"==typeof t&&nt in t}function po(t){return"function"==typeof t}const go=function(t,e,n){return function(t,e=null,n=null,r){const i=ao(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let mo=(()=>{class t{static create(t,e){return Array.isArray(t)?go(t,e,""):go(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=tt,t.NULL=new ht,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>ut(J)}),t.__NG_ELEMENT_ID__=-1,t})();const yo=new X("AnalyzeForEntryComponents");let vo=new Map;const bo=new Set;function wo(t){return"string"==typeof t?t:t.text()}function _o(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=j(i,t):2==o&&(r=j(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let Eo=null;function Co(){if(!Eo){const t=z.Symbol;if(t&&t.iterator)Eo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Eo=n)}}}return Eo}function So(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class Io{constructor(t){this.wrapped=t}static wrap(t){return new Io(t)}static unwrap(t){return Io.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Io}}function To(t){return!!Oo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Co()in t)}function Oo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function xo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ao(t,e,n,r){const i=ae();return xo(i,ge(),e)&&(ue(),function(t,e,n,r,i,o){const s=Yt(t,e),a=e[11];if(null==r)Kt(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?$e(r):i(r,t.tagName||"",n);Kt(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(Ne(),i,t,e,n,r)),Ao}function No(t,e,n,r){return xo(t,ge(),n)?e+$e(n)+r:Sr}function ko(t,e,n,r,i,o,s,a){const u=ae(),c=ue(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Ur(e,n[6],t,0,s||null,ne(c,a));Xr(e,n,l,ne(c,u)),ke(e,l);const h=l.tViews=Wr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Qr(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];he(h,!1);const f=u[11].createComment("");Li(c,u,f,h),hr(f,u),di(u,u[l]=li(f,u,f,h)),qt(h)&&Gr(c,u,h),null!=s&&Kr(u,h,a)}function Do(t,e=_.Default){const n=ae();return null==n?ut(t,e):sn(le(),n,F(t),e)}function Ro(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ve(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(le(),t)}function Po(){throw new Error("invalid")}function jo(t,e,n){const r=ae();return xo(r,ge(),e)&&Zr(ue(),Ne(),r,t,e,r[11],n,!1),jo}function Mo(t,e,n,r,i){const o=i?"class":"style";Ei(t,n,e.inputs[o],o,r)}function Lo(t,e,n,r){const i=ae(),o=ue(),s=20+t,a=i[11],u=i[s]=Fr(e,a,oe.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=ne(a,o),c=Ur(e,n[6],t,3,i,u);return Xr(e,n,c,ne(a,s)),null!==c.attrs&&_o(c,c.attrs,!1),null!==c.mergedAttrs&&_o(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];he(c,!0);const l=c.mergedAttrs;null!==l&&Fe(a,u,l);const h=c.classes;null!==h&&Bi(a,u,h);const f=c.styles;null!==f&&Hi(a,u,f),Li(o,i,u,c),0===oe.lFrame.elementDepthCount&&hr(u,i),oe.lFrame.elementDepthCount++,qt(c)&&(Gr(o,i,c),function(t,e,n){if(Vt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Kr(i,c)}function Fo(){let t=le();fe()?oe.lFrame.isParent=!1:(t=t.parent,he(t,!1));const e=t;oe.lFrame.elementDepthCount--;const n=ue();n.firstCreatePass&&(ke(n,t),Vt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Mo(n,e,ae(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Mo(n,e,ae(),e.stylesWithoutHost,!1)}function Vo(t,e,n,r){Lo(t,e,n,r),Fo()}function Uo(){return ae()}function qo(t){return!!t&&"function"==typeof t.then}function Ho(t){return!!t&&"function"==typeof t.subscribe}function Bo(t,e,n=!1,r){const i=ae(),o=ue(),s=le();return function(t,e,n,r,i,o,s=!1,a){const u=qt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=bi(e);let h=!0;if(3===r.type){const f=Yt(r,e),d=a?a(f):Et,p=d.target||f,g=l.length,m=a?t=>a(Wt(t[r.index])).target:r.index;if(Kt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Go(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Go(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Bo}function zo(t,e,n){try{return!1!==e(n)}catch(r){return _i(t,r),!1}}function Go(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Xt(t.index,e):e;0==(32&e[2])&&pi(s);let a=zo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=zo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ko(t=1){return function(t){return(oe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,oe.lFrame.contextLView))[8]}(t)}function $o(t,e,n){return Wo(t,"",e,"",n),$o}function Wo(t,e,n,r,i){const o=ae(),s=No(o,e,n,r);return s!==Sr&&Zr(ue(),Ne(),o,t,s,o[11],i,!1),Wo}const Qo=[];function Yo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Dr(o):Pr(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Zo(t[a],e)&&(u=!0,t[a+1]=r?Mr(n):Rr(n)),a=r?Dr(n):Pr(n)}u&&(t[n+1]=r?Rr(o):Mr(o))}function Zo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bt(t,e)>=0}function Xo(t,e){return function(t,e,n,r){const i=ae(),o=ue(),s=me(2);if(o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const r=i[xe()+20],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=oe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=ts(n=Jo(null,t,e,n,!0),e.attrs,!0),o=null);else{const r=e.directiveStylingLast;if(-1===r||t[r]!==i)if(n=Jo(i,t,e,n,!0),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==Pr(r))return t[Dr(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Jo(null,t,e,n[1],!0),n=ts(n,e.attrs,!0),function(t,e,n,r){t[Dr(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ts(r,t[o].hostAttrs,!0);return ts(r,e.attrs,!0)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,r,e),function(t,e,n,r,i,o){let s=e.classBindings,a=Dr(s),u=Pr(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||bt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Dr(t[a+1]);t[r+1]=kr(e,a),0!==e&&(t[e+1]=jr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=kr(a,0),0!==a&&(t[a+1]=jr(t[a+1],r)),a=r;else t[r+1]=kr(u,0),0===a?a=r:t[u+1]=jr(t[u+1],r),u=r;l&&(t[r+1]=Rr(t[r+1])),Yo(t,c,r,!0),Yo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&bt(o,e)>=0&&(n[r+1]=Mr(n[r+1]))}(e,c,t,r),s=kr(a,u),e.classBindings=s}(i,r,e,n,o)}}(o,t,s),e!==Sr&&xo(i,s,e)){let r;null==n&&(r=function(){const t=oe.lFrame;return null===t?null:t.currentSanitizer}())&&(n=r),function(t,e,n,r,i,o,s,a){if(3!==e.type)return;const u=t.data,c=u[a+1];ns(1==(1&c)?es(u,e,n,i,Pr(c),!0):void 0)||(ns(o)||function(t){return 2==(2&t)}(c)&&(o=es(u,null,n,i,a,!0)),function(t,e,n,r,i){const o=Kt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Qt(xe(),n),i,o))}(o,o.data[xe()+20],i,i[11],t,i[s+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=P(Tn(t)))),t}(e,n),0,s)}}(t,e,null),Xo}function Jo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ts(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ts(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yt(t,s,!!n||e[++o]))}return void 0===t?null:t}function es(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Sr&&(l=c?Qo:void 0);let h=c?vt(l,r):u===r?l:void 0;if(o&&!ns(h)&&(h=vt(e,r)),ns(h)&&(a=h,s))return a;const f=t[i+1];i=s?Dr(f):Pr(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=vt(t,r))}return a}function ns(t){return void 0!==t}function rs(t,e=""){const n=ae(),r=ue(),i=t+20,o=r.firstCreatePass?Ur(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return Kt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Li(r,n,s,o),he(o,!1)}function is(t){return os("",t,""),is}function os(t,e,n){const r=ae(),i=No(r,t,e,n);return i!==Sr&&Ci(r,xe(),i),os}function ss(t,e,n,r,i){const o=ae(),s=function(t,e,n,r,i,o){const s=function(t,e,n,r){const i=xo(t,e,n);return xo(t,e+1,r)||i}(t,oe.lFrame.bindingIndex,n,i);return me(2),s?e+$e(n)+r+$e(i)+o:Sr}(o,t,e,n,r,i);return s!==Sr&&Ci(o,xe(),s),ss}function as(t,e,n){const r=ae();return xo(r,ge(),e)&&Zr(ue(),Ne(),r,t,e,r[11],n,!0),as}function us(t,e){const n=Jt(t)[1],r=n.data.length-1;ke(n,{directiveStart:r,directiveEnd:r+1})}function cs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ls(t.inputs),e.declaredInputs=ls(t.declaredInputs),e.outputs=ls(t.outputs);const n=i.hostBindings;n&&ds(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&hs(t,o),s&&fs(t,s),C(t.inputs,i.inputs),C(t.declaredInputs,i.declaredInputs),C(t.outputs,i.outputs),Ht(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===cs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qe(i.hostAttrs,n=qe(n,i.hostAttrs))}}(r)}function ls(t){return t===Et?{}:t===Ct?[]:t}function hs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function fs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ds(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class ps{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function gs(t){t.type.prototype.ngOnChanges&&(t.setInput=ms,t.onChanges=function(){const t=ys(this),e=t&&t.current;if(e){const n=t.previous;if(n===Et)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function ms(t,e,n,r){const i=ys(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Et,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new ps(u&&u.currentValue,e,s===Et),t[r]=e}function ys(t){return t.__ngSimpleChanges__||null}function vs(t,e,n,r,i){if(t=F(t),Array.isArray(t))for(let o=0;o<t.length;o++)vs(t[o],e,n,r,i);else{const o=ue(),s=ae();let a=po(t)?t:F(t.provide),u=lo(t);const c=le(),l=65535&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>16;if(po(t)||!t.multi){const r=new Le(u,i,Do),d=_s(a,e,i?l:l+f,h);-1===d?(on(tn(c,s),o,a),bs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=_s(a,e,l+f,h),p=_s(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){on(tn(c,s),o,a);const l=function(t,e,n,r,i){const o=new Le(t,n,Do);return o.multi=[],o.index=e,o.componentProviders=0,ws(o,i,r&&!n),o}(i?Cs:Es,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),bs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(l),s.push(l)}else bs(o,t,d>-1?d:p,ws(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function bs(t,e,n,r){const i=po(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ws(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _s(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Es(t,e,n,r){return Ss(this.multi,[])}function Cs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=ln(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ss(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ss(i,o);return o}function Ss(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Is(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=ue();if(r.firstCreatePass){const i=Ht(t);vs(n,r.data,r.blueprint,i,!0),vs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}gs.ngInherit=!0;class Ts{}class Os{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${P(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let xs=(()=>{class t{}return t.NULL=new Os,t})(),As=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Ns(t),t})();const Ns=function(t){return Qi(t,le(),ae())};class ks{}const Ds=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Rs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ps(),t})();const Ps=function(){const t=ae(),e=Xt(le().index,t);return function(t){const e=t[11];if(Kt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Lt(e)?e:t)};let js=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class Ms{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ls=new Ms("9.1.13");class Fs{constructor(){}supports(t){return To(t)}create(t){return new Us(t)}}const Vs=(t,e)=>e;class Us{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Vs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<zs(n,r,i)?e:n,s=zs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!To(t))throw new Error(`Error trying to diff '${P(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&So(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),So(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Co()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&So(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),So(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(So(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(So(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new qs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Bs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class qs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&So(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Bs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Hs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Gs{constructor(){}supports(t){return t instanceof Map||Oo(t)}create(){return new Ks}}class Ks{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Oo(t)))throw new Error(`Error trying to diff '${P(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new $s(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){So(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class $s{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ws=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new Fs])}),t})(),Qs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new Gs])}),t})();const Ys=[new Gs],Zs=new Ws([new Fs]),Xs=new Qs(Ys);let Js=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ta(t,As),t})();const ta=function(t,e){return Yi(t,e,le(),ae())};let ea=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>na(t,As),t})();const na=function(t,e){return Zi(t,e,le(),ae())},ra={};class ia extends xs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Pt(t);return new aa(e,this.ngModule)}}function oa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const sa=new X("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Qe});class aa extends Ts{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Cr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return oa(this.componentDef.inputs)}get outputs(){return oa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ra,i);return o!==ra||r===ra?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(ks,$t),s=i.get(js,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Kt(t))return t.selectRootElement(e,n===_t.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Fr(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),f={components:[],scheduler:Qe,clean:vi,playerHandler:null,flags:0},d=Wr(0,-1,null,1,0,null,null,null,null,null),p=Vr(null,d,f,l,null,null,o,a,s,i);let g,m;Ee(p,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Ur(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(_o(a,u,!0),null!==t&&(Fe(i,t,u),null!==a.classes&&Bi(i,t,a.classes),null!==a.styles&&Hi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Vr(n,$r(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return s.firstCreatePass&&(on(tn(a,n),s,e.type),ri(s,a),oi(a,n.length,1)),di(n,l),n[20]=l}(c,this.componentDef,p,o,a);if(c)if(n)Fe(a,c,["ng-version",Ls.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!br(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Fe(a,c,t),e&&e.length>0&&Bi(a,c,e.join(" "))}if(m=Zt(d,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}g=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=le();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ni(t,r,1),si(t,e,n));const i=ln(e,t,e.length-1,r);hr(i,e);const o=Yt(r,e);return o&&hr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=le();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ae(a.index-20);const t=n[1];Jr(t,e),ti(t,n,e.hostVars),ei(e,s)}return s}(t,this.componentDef,p,f,[us]),qr(d,p,null)}finally{Oe()}const y=new ua(this.componentType,g,Qi(As,m,p),p,m);return n&&!h||(d.node.child=m),y}}class ua extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Gi(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=Qr(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new dn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const ca=void 0;var la=["en",[["a","p"],["AM","PM"],ca],[["AM","PM"],ca,ca],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ca,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ca,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ca,"{1} 'at' {0}",ca],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ha={};function fa(t,e,n){"string"!=typeof e&&(n=e,e=t[ya.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ha[e]=t,n&&(ha[e][ya.ExtraData]=n)}function da(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ma(e);if(n)return n;const r=e.split("-")[0];if(n=ma(r),n)return n;if("en"===r)return la;throw new Error(`Missing locale data for the locale "${t}".`)}function pa(t){return da(t)[ya.CurrencyCode]||null}function ga(t){return da(t)[ya.PluralCase]}function ma(t){return t in ha||(ha[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),ha[t]}const ya=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let va="en-US";function ba(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(va=t.toLowerCase().replace(/_/g,"-"))}const wa=new Map;class _a extends ft{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ia(this);const n=Mt(t),r=t[Q]||null;r&&ba(r),this._bootstrapComponents=Ye(n.bootstrap),this._r3Injector=ao(t,e,[{provide:ft,useValue:this},{provide:xs,useValue:this.componentFactoryResolver}],P(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=mo.THROW_IF_NOT_FOUND,n=_.Default){return t===mo||t===ft||t===J?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ea extends dt{constructor(t){super(),this.moduleType=t,null!==Mt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${P(e)} vs ${P(e.name)}`)})(t,wa.get(t),e),wa.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new _a(this.moduleType,t)}}class Ca extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}}function Sa(){return this._results[Co()]()}class Ia{constructor(){this.dirty=!0,this._results=[],this.changes=new Ca,this.length=0;const t=Co(),e=Ia.prototype;e[t]||(e[t]=Sa)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ta{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ta(this.queryList)}setDirty(){this.queryList.setDirty()}}class Oa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Oa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==La(t,e).matches&&this.queries[e].setDirty()}}class xa{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Aa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Aa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Na{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Na(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,ka(e,n[r]))}else{const n=this.metadata.predicate;n===Js?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,cn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===As||r===ea||r===Js&&0===e.type)this.addMatch(e.index,-2);else{const n=cn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function ka(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Da(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Qi(As,t,e):0===t.type?Yi(Js,As,t,e):null}(e,t):-2===n?function(t,e,n){return n===As?Qi(As,e,t):n===Js?Yi(Js,As,e,t):n===ea?Zi(ea,As,e,t):void 0}(t,e,r):ln(t,t[1],n,e)}function Ra(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Da(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Pa(t){const e=ae(),n=ue(),r=be();we(r+1);const i=La(n,r);if(t.dirty&&te(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Ra(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Ra(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function ja(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Aa),t.queries.track(new Na(e,n))}(t,new xa(n,r,!1,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Ia;!function(t,e,n,r){const i=bi(e);i.push(n),t.firstCreatePass&&wi(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new Oa),e[19].queries.push(new Ta(n))}(t,e)}(ue(),ae(),e,n,r,0,le(),t)}function Ma(){return t=ae(),e=be(),t[19].queries[e].queryList;var t,e}function La(t,e){return t.queries.getByIndex(e)}function Fa(t=_.Default){const e=Xi(!0);if(null!=e||t&_.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Va=new X("Application Initializer");let Ua=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();qo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ut(Va,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const qa=new X("AppId"),Ha={provide:qa,useFactory:function(){return`${Ba()}${Ba()}${Ba()}`},deps:[]};function Ba(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const za=new X("Platform Initializer"),Ga=new X("Platform ID"),Ka=new X("appBootstrapListener");let $a=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Wa=new X("LocaleId"),Qa=new X("DefaultCurrencyCode");class Ya{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Za=function(t){return new Ea(t)},Xa=Za,Ja=function(t){return Promise.resolve(Za(t))},tu=function(t){const e=Za(t),n=Ye(Mt(t).declarations).reduce((t,e)=>{const n=Pt(e);return n&&t.push(new aa(n)),t},[]);return new Ya(e,n)},eu=tu,nu=function(t){return Promise.resolve(tu(t))};let ru=(()=>{class t{constructor(){this.compileModuleSync=Xa,this.compileModuleAsync=Ja,this.compileModuleAndAllComponentsSync=eu,this.compileModuleAndAllComponentsAsync=nu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const iu=new X("compilerOptions"),ou=(()=>Promise.resolve(0))();function su(t){"undefined"==typeof Zone?ou.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class au{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ca(!1),this.onMicrotaskEmpty=new Ca(!1),this.onStable=new Ca(!1),this.onError=new Ca(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.lastRequestAnimationFrameId=-1,hu(t),lu(t)}),hu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return fu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),du(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return fu(t),e.invoke(r,i,o,s,a)}finally{du(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,hu(t),lu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!au.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(au.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,cu,uu,uu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function uu(){}const cu={};function lu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function fu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function du(t){t._nesting--,lu(t)}class pu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ca,this.onMicrotaskEmpty=new Ca,this.onStable=new Ca,this.onError=new Ca}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let gu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{au.assertNotInAngularZone(),su(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())su(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ut(au))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),mu=(()=>{class t{constructor(){this._applications=new Map,wu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return wu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class yu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function vu(t){wu=t}let bu,wu=new yu,_u=function(t,e,n){const r=t.get(iu,[]).concat(e),i=new Ea(n);if(0===vo.size)return Promise.resolve(i);const o=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(r.map(t=>t.providers));if(0===o.length)return Promise.resolve(i);const s=function(){const t=z.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=mo.create({providers:o}).get(s.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=r.then(wo))}return e}return vo.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((e,n)=>{s.push(""),i.push(r(e).then(r=>{s[a+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(t){bo.delete(t)}(n));e.push(u)}),vo=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const Eu=new X("AllowMultipleToken");class Cu{constructor(t,e){this.name=t,this.token=e}}function Su(t,e,n=[]){const r="Platform: "+e,i=new X(r);return(e=[])=>{let o=Iu();if(!o||o.injector.get(Eu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:eo,useValue:"platform"});!function(t){if(bu&&!bu.destroyed&&!bu.injector.get(Eu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");bu=t.get(Tu);const e=t.get(za,null);e&&e.forEach(t=>t())}(mo.create({providers:t,name:r}))}return function(t){const e=Iu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Iu(){return bu&&!bu.destroyed?bu:null}let Tu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new pu:("zone.js"===t?void 0:t)||new au({enableLongStackTrace:Mn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:au,useValue:n}];return n.run(()=>{const e=mo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(bn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Au(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return qo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ua);return t.runInitializers(),t.donePromise.then(()=>(ba(i.injector.get(Wa,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ou({},e);return _u(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(xu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${P(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ut(mo))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Ou(t,e){return Array.isArray(e)?e.reduce(Ou,t):Object.assign(Object.assign({},t),e)}let xu=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Mn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{au.assertNotInAngularZone(),su(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{au.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ts?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ft),i=n.create(mo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(gu,null);return o&&i.injector.get(mu).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Mn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Au(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ka,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Au(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ut(au),ut($a),ut(mo),ut(bn),ut(xs),ut(Ua))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Au(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Nu{}class ku{}const Du={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ru=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Du}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Pu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Pu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ut(ru),ut(ku,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Pu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const ju=function(t){return null},Mu=Su(null,"core",[{provide:Ga,useValue:"unknown"},{provide:Tu,deps:[mo]},{provide:mu,deps:[]},{provide:$a,deps:[]}]),Lu=[{provide:xu,useClass:xu,deps:[au,$a,mo,bn,xs,Ua]},{provide:sa,deps:[au],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ua,useClass:Ua,deps:[[new v,Va]]},{provide:ru,useClass:ru,deps:[]},Ha,{provide:Ws,useFactory:function(){return Zs},deps:[]},{provide:Qs,useFactory:function(){return Xs},deps:[]},{provide:Wa,useFactory:function(t){return ba(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new y(Wa),new v,new w]]},{provide:Qa,useValue:"USD"}];let Fu=(()=>{class t{constructor(t){}}return t.\u0275mod=At({type:t}),t.\u0275inj=I({factory:function(e){return new(e||t)(ut(xu))},providers:Lu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(...t){return o(t)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return d})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return u})),n.d(e,"n",(function(){return c})),n.d(e,"o",(function(){return f})),n.d(e,"p",(function(){return g}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}function S(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(l){e=l instanceof s?u(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof s?e=e.concat(u(l.errors)):e.push(l)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return S})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),w=new u.N("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const I={provide:class{},useFactory:_,deps:[v,u.z,[new u.A,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.M.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)(u.Rb(u.B))},providers:[I]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return f.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.f)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=o(o({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var v,b=p;(v=b).INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new g(t)}),"PRIVATE")),v.registerVersion("@firebase/app","0.6.20",void 0),v.registerVersion("fire-js",""),e.a=b},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyDhUNwxWidQEzxjcuID6UK1cAqnSU72-dw",authDomain:"portfolio-b7046.firebaseapp.com",projectId:"portfolio-b7046",storageBucket:"portfolio-b7046.appspot.com",messagingSenderId:"831940443930",appId:"1:831940443930:web:2079bde7b6c4f8780a76a3",measurementId:"G-2SNFBGYNRY"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Rb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=Object(r.Gb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Rb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Rb)(a).location;return new w(Object(r.Rb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u),r.Rb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u),r.Rb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(y),r.Rb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Gb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new E(Object(r.Rb)(y),Object(r.Rb)(u))}function S(t){return t.replace(/\/index.html$/,"")}const I=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),T=r.mb;class O{}let x=(()=>{class t extends O{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let N=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(py){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new k(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new k(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.O),r.Kb(r.K),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class k{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){P("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){P("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.O),r.Kb(r.K))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class R{constructor(){this.$implicit=null,this.ngIf=null}}function P(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}let j=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:O,useClass:x}]}),t})(),M=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new L(Object(r.Rb)(a),window,Object(r.Rb)(r.m))}),t})();class L{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(Ov){this.errorHandler.handleError(Ov)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(py){return!1}}}class F extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new F,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=U||(U=document.querySelector("base"),U)?U.getAttribute("href"):null;return null==e?null:(n=e,V||(V=document.createElement("a")),V.setAttribute("href",n),"/"===V.pathname.charAt(0)?V.pathname:"/"+V.pathname);var n}resetBaseElement(){U=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let V,U=null;const q=new r.q("TRANSITION_ID"),H=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[q,a,r.r],multi:!0}];class B{static init(){Object(r.W)(new B)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const z=new r.q("EventManagerPlugins");let G=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(z),r.Rb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class K{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let $=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),W=(()=>{class t extends ${constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Q={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Y=/%COMP%/g;function Z(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Z(t,i,n):(i=i.replace(Y,t),n.push(i))}return n}function X(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let J=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new tt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.P.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new et(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.P.Native:case r.P.ShadowDom:return new nt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Z(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(G),r.Rb(W),r.Rb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class tt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Q[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Q[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Q[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,X(n)):this.eventManager.addEventListener(t,e,X(n))}}class et extends tt{constructor(t,e,n,r){super(t),this.component=n;const i=Z(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Y,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Y,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class nt extends tt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.P.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=Z(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let rt=(()=>{class t extends K{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const it=["alt","control","meta","shift"],ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},st={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},at={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ut=(()=>{class t extends K{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(it.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&st.hasOwnProperty(e)&&(e=st[e]))}return ot[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),it.forEach(r=>{r!=n&&(0,at[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const ct=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){F.makeCurrent(),B.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],lt=Object(r.R)(r.V,"browser",ct),ht=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:z,useClass:rt,multi:!0,deps:[a,r.z,r.B]},{provide:z,useClass:ut,multi:!0,deps:[a]},[],{provide:J,useClass:J,deps:[G,W,r.c]},{provide:r.E,useExisting:J},{provide:$,useExisting:W},{provide:W,useClass:W,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:G,useClass:G,deps:[z,r.z]},[]];let ft=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:q,useExisting:r.c},H]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(t,12))},providers:ht,imports:[j,r.f]}),t})();"undefined"!=typeof window&&window;var dt=n("LRne"),pt=n("Cfvw"),gt=n("XNiG"),mt=n("9ppp");class yt extends gt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new mt.a;return this._value}next(t){super.next(this._value=t)}}var vt=n("HDdC");const bt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var wt=n("z+Ro"),_t=n("DH7j"),Et=n("l7GE"),Ct=n("ZUHj"),St=n("yCtX");const It={};class Tt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ot(t,this.resultSelector))}}class Ot extends Et.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(It),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(Ct.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===It?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var xt=n("EY2u");function At(t){return new vt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(pt.a)(n):Object(xt.b)()).subscribe(e)})}var Nt=n("lJxs"),kt=n("bHdf");function Dt(){return Object(kt.a)(1)}var Rt=n("7o/Q");function Pt(t,e){return function(n){return n.lift(new jt(t,e))}}class jt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Mt(t,this.predicate,this.thisArg))}}class Mt extends Rt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Lt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ft(t){return function(e){return 0===t?Object(xt.b)():e.lift(new Vt(t))}}class Vt{constructor(t){if(this.total=t,this.total<0)throw new Lt}call(t,e){return e.subscribe(new Ut(t,this.total))}}class Ut extends Rt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function qt(t=zt){return e=>e.lift(new Ht(t))}class Ht{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Bt(t,this.errorFactory))}}class Bt extends Rt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Ov){t=Ov}this.destination.error(t)}}}function zt(){return new bt}function Gt(t=null){return e=>e.lift(new Kt(t))}class Kt{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new $t(t,this.defaultValue))}}class $t extends Rt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Wt=n("SpAZ");function Qt(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Pt((e,n)=>t(e,n,r)):Wt.a,Ft(1),n?Gt(e):qt(()=>new bt))}var Yt=n("51Dv");function Zt(t){return function(e){const n=new Xt(t),r=e.lift(n);return n.caught=r}}class Xt{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Jt(t,this.selector,this.caught))}}class Jt extends Et.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Yt.a(this,void 0,void 0);this.add(r);const i=Object(Ct.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function te(t){return e=>0===t?Object(xt.b)():e.lift(new ee(t))}class ee{constructor(t){if(this.total=t,this.total<0)throw new Lt}call(t,e){return e.subscribe(new ne(t,this.total))}}class ne extends Rt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function re(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Pt((e,n)=>t(e,n,r)):Wt.a,te(1),n?Gt(e):qt(()=>new bt))}var ie=n("5+tZ");class oe{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new se(t,this.predicate,this.thisArg,this.source))}}class se extends Rt.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function ae(t,e){return"function"==typeof e?n=>n.pipe(ae((n,r)=>Object(pt.a)(t(n,r)).pipe(Object(Nt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new ue(t))}class ue{constructor(t){this.project=t}call(t,e){return e.subscribe(new ce(t,this.project))}}class ce extends Et.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new Yt.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Ct.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function le(...t){return Dt()(Object(dt.a)(...t))}function he(...t){const e=t[t.length-1];return Object(wt.a)(e)?(t.pop(),n=>le(t,n,e)):e=>le(t,e)}function fe(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new de(t,e,n))}}class de{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new pe(t,this.accumulator,this.seed,this.hasSeed))}}class pe extends Rt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ge(t,e){return Object(ie.a)(t,e,1)}var me=n("mCNh"),ye=n("vkgz"),ve=n("quSY");class be{constructor(t){this.callback=t}call(t,e){return e.subscribe(new we(t,this.callback))}}class we extends Rt.a{constructor(t,e){super(t),this.add(new ve.a(e))}}class _e{constructor(t,e){this.id=t,this.url=e}}class Ee extends _e{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ce extends _e{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Se extends _e{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ie extends _e{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Te extends _e{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oe extends _e{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xe extends _e{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ae extends _e{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ne extends _e{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class De{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Re{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class je{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Me{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Le{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Fe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[Br]},encapsulation:2}),t})();class Ve{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ue(t){return new Ve(t)}function qe(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function He(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Be{constructor(t,e){this.routes=t,this.module=e}}function ze(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ge(r,Ke(e,r))}}function Ge(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&ze(t.children,e)}function Ke(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function $e(t){const e=t.children&&t.children.map($e),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Fe),n}function We(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Qe(t[i],e[i]))return!1;return!0}function Qe(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Ye(t){return Array.prototype.concat.apply([],t)}function Ze(t){return t.length>0?t[t.length-1]:null}function Xe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Je(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(pt.a)(Promise.resolve(t)):Object(dt.a)(t)}function tn(t,e,n){return n?function(t,e){return We(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!on(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Qe(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!on(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!on(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!on(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class en{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ue(this.queryParams)),this._queryParamMap}toString(){return cn.serialize(this)}}class nn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Xe(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ln(this)}}class rn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ue(this.parameters)),this._parameterMap}toString(){return mn(this)}}function on(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function sn(t,e){let n=[];return Xe(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Xe(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class an{}class un{parse(t){const e=new _n(t);return new en(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return ln(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Xe(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=sn(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${ln(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${fn(e)}=${fn(t)}`).join("&"):`${fn(e)}=${fn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const cn=new un;function ln(t){return t.segments.map(t=>mn(t)).join("/")}function hn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fn(t){return hn(t).replace(/%3B/gi,";")}function dn(t){return hn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pn(t){return decodeURIComponent(t)}function gn(t){return pn(t.replace(/\+/g,"%20"))}function mn(t){return`${dn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${dn(t)}=${dn(e[t])}`).join("")}`;var e}const yn=/^[^\/()?;=#]+/;function vn(t){const e=t.match(yn);return e?e[0]:""}const bn=/^[^=?&#]+/,wn=/^[^?&#]+/;class _n{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new nn(t,e)),n}parseSegment(){const t=vn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new rn(pn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=vn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=vn(this.remaining);t&&(n=t,this.capture(n))}t[pn(e)]=pn(n)}parseQueryParam(t){const e=function(t){const e=t.match(bn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(wn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=gn(e),i=gn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=vn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new nn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class En{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Cn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Cn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Sn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Sn(t,this._root).map(t=>t.value)}}function Cn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Cn(t,n);if(e)return e}return null}function Sn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Sn(t,n);if(r.length)return r.unshift(e),r}return[]}class In{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Tn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class On extends En{constructor(t,e){super(t),this.snapshot=e,Rn(this,t)}toString(){return this.snapshot.toString()}}function xn(t,e){const n=function(t,e){const n=new kn([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Dn("",new In(n,[]))}(t,e),r=new yt([new rn("",{})]),i=new yt({}),o=new yt({}),s=new yt({}),a=new yt(""),u=new An(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new On(new In(u,[]),n)}class An{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Nt.a)(t=>Ue(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Nt.a)(t=>Ue(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Nn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class kn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ue(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ue(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dn extends En{constructor(t,e){super(e),this.url=t,Rn(this,e)}toString(){return Pn(this._root)}}function Rn(t,e){e.value._routerState=t,e.children.forEach(e=>Rn(t,e))}function Pn(t){const e=t.children.length>0?` { ${t.children.map(Pn).join(", ")} } `:"";return`${t.value}${e}`}function jn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,We(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),We(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!We(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),We(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Mn(t,e){return We(t.params,e.params)&&function(t,e){return on(t,e)&&t.every((t,n)=>We(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Mn(t.parent,e.parent))}function Ln(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Fn(t,e,n,r,i){let o={};return r&&Xe(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new en(n.root===t?e:function t(e,n,r){const i={};return Xe(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new nn(e.segments,i)}(n.root,t,e),o,i)}class Vn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ln(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Ze(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Un{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function qn(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Hn(t,e,n){if(t||(t=new nn([],{})),0===t.segments.length&&t.hasChildren())return Bn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=qn(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!$n(s,a,e))return o;r+=2}else{if(!$n(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new nn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new nn(t.segments.slice(r.pathIndex),t.children),Bn(e,0,i)}return r.match&&0===i.length?new nn(t.segments,{}):r.match&&!t.hasChildren()?zn(t,e,n):r.match?Bn(t,0,i):zn(t,e,n)}function Bn(t,e,n){if(0===n.length)return new nn(t.segments,{});{const r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return Xe(r,(n,r)=>{null!==n&&(i[r]=Hn(t.children[r],e,n))}),Xe(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new nn(t.segments,i)}}function zn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Gn(n[i].outlets);return new nn(r,t)}if(0===i&&Ln(n[0])){r.push(new rn(t.segments[e].path,n[0])),i++;continue}const o=qn(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Ln(s)?(r.push(new rn(o,Kn(s))),i+=2):(r.push(new rn(o,{})),i++)}return new nn(r,{})}function Gn(t){const e={};return Xe(t,(t,n)=>{null!==t&&(e[n]=zn(new nn([],{}),0,t))}),e}function Kn(t){const e={};return Xe(t,(t,n)=>e[n]=""+t),e}function $n(t,e,n){return t==n.path&&We(e,n.parameters)}class Wn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),jn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Tn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Xe(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Tn(t),i=t.value.component?n.children:e;Xe(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Tn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Me(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Pe(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(jn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Qn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Qn(t){jn(t.value),t.children.forEach(Qn)}function Yn(t){return"function"==typeof t}function Zn(t){return t instanceof en}class Xn{constructor(t){this.segmentGroup=t||null}}class Jn{constructor(t){this.urlTree=t}}function tr(t){return new vt.a(e=>e.error(new Xn(t)))}function er(t){return new vt.a(e=>e.error(new Jn(t)))}function nr(t){return new vt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class rr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Nt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zt(t=>{if(t instanceof Jn)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Xn)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Nt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Zt(t=>{if(t instanceof Xn)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new nn([],{primary:t}):t;return new en(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Nt.a)(t=>new nn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(dt.a)({});const n=[],r=[],i={};return Xe(t,(t,o)=>{const s=e(o,t).pipe(Object(Nt.a)(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),dt.a.apply(null,n.concat(r)).pipe(Dt(),Qt(),Object(Nt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(dt.a)(...n).pipe(Object(Nt.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Zt(t=>{if(t instanceof Xn)return Object(dt.a)(null);throw t}))),Dt(),re(t=>!!t),Zt((t,n)=>{if(t instanceof bt||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(dt.a)(new nn([],{}));throw new Xn(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ar(r)!==o?tr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):tr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?er(i):this.lineralizeSegments(n,i).pipe(Object(ie.a)(n=>{const i=new nn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=ir(e,r,i);if(!s)return tr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?er(l):this.lineralizeSegments(r,l).pipe(Object(ie.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Nt.a)(t=>(n._loadedConfig=t,new nn(r,{})))):Object(dt.a)(new nn(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=ir(e,n,r);if(!i)return tr(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(ie.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>sr(t,e,n)&&"primary"!==ar(n))}(t,n,r)?{segmentGroup:or(new nn(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==ar(r)&&(n[ar(r)]=new nn([],{}));return n}(r,new nn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>sr(t,e,n))}(t,n,r)?{segmentGroup:or(new nn(t.segments,function(t,e,n,r){const i={};for(const o of n)sr(t,e,o)&&!r[ar(o)]&&(i[ar(o)]=new nn([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Nt.a)(t=>new nn(o,t))):0===r.length&&0===s.length?Object(dt.a)(new nn(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(Object(Nt.a)(t=>new nn(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(dt.a)(new Be(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(dt.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(pt.a)(r).pipe(Object(Nt.a)(r=>{const i=t.get(r);let o;if(function(t){return t&&Yn(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Yn(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Je(o)})).pipe(Dt(),(i=t=>!0===t,t=>t.lift(new oe(i,void 0,t)))):Object(dt.a)(!0);var i}(t.injector,e,n).pipe(Object(ie.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Nt.a)(t=>(e._loadedConfig=t,t))):function(t){return new vt.a(e=>e.error(qe(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(dt.a)(new Be([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(dt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return nr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new en(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Xe(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Xe(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new nn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function ir(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||He)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function or(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new nn(t.segments.concat(e.segments),e.children)}return t}function sr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function ar(t){return t.outlet||"primary"}class ur{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class cr{constructor(t,e){this.component=t,this.route=e}}function lr(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Tn(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!on(t.url,e.url);case"pathParamsOrQueryParamsChange":return!on(t.url,e.url)||!We(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mn(t,e)||!We(t.queryParams,e.queryParams);case"paramsChange":default:return!Mn(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new ur(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new cr(u&&u.outlet&&u.outlet.component||null,a))}else a&&fr(n,u,o),o.canActivateChecks.push(new ur(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Xe(s,(t,e)=>fr(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function hr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function fr(t,e,n){const r=Tn(t),i=t.value;Xe(r,(t,r)=>{fr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new cr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const dr=Symbol("INITIAL_VALUE");function pr(){return ae(t=>function(...t){let e=null,n=null;return Object(wt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(_t.a)(t[0])&&(t=t[0]),Object(St.a)(t,n).lift(new Tt(e))}(...t.map(t=>t.pipe(te(1),he(dr)))).pipe(fe((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==dr)return t;if(r===dr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Zn(r))return r}return t},t)},dr),Pt(t=>t!==dr),Object(Nt.a)(t=>Zn(t)?t:!0===t),te(1)))}function gr(t,e){return null!==t&&e&&e(new je(t)),Object(dt.a)(!0)}function mr(t,e){return null!==t&&e&&e(new Re(t)),Object(dt.a)(!0)}function yr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(dt.a)(!0);const i=r.map(r=>At(()=>{const i=hr(r,e,n);let o;if(function(t){return t&&Yn(t.canActivate)}(i))o=Je(i.canActivate(e,t));else{if(!Yn(i))throw new Error("Invalid CanActivate guard");o=Je(i(e,t))}return o.pipe(re())}));return Object(dt.a)(i).pipe(pr())}function vr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>At(()=>{const i=e.guards.map(i=>{const o=hr(i,e.node,n);let s;if(function(t){return t&&Yn(t.canActivateChild)}(o))s=Je(o.canActivateChild(r,t));else{if(!Yn(o))throw new Error("Invalid CanActivateChild guard");s=Je(o(r,t))}return s.pipe(re())});return Object(dt.a)(i).pipe(pr())}));return Object(dt.a)(i).pipe(pr())}class br{}class wr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Cr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new kn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new In(n,e),i=new Dn(this.url,r);return this.inheritParamsAndData(i._root),Object(dt.a)(i)}catch(Ov){return new vt.a(e=>e.error(Ov))}}inheritParamsAndData(t){const e=t.value,n=Nn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=sn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(Ov){if(!(Ov instanceof br))throw Ov}if(this.noLeftoversInUrl(e,n,r))return[];throw new br}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new br;if((t.outlet||"primary")!==r)throw new br;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Ze(n).parameters:{};i=new kn(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tr(t),r,t.component,t,_r(e),Er(e)+n.length,Or(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new br;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||He)(n,t,e);if(!r)throw new br;const i={};Xe(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new kn(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tr(t),r,t.component,t,_r(e),Er(e)+o.length,Or(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Cr(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new In(i,t)]}if(0===a.length&&0===c.length)return[new In(i,[])];const l=this.processSegment(a,u,c,"primary");return[new In(i,l)]}}function _r(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Er(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Cr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Sr(t,e,n)&&"primary"!==Ir(n))}(t,n,r)){const i=new nn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Ir(o)){const n=new nn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ir(o)]=n}return i}(t,e,r,new nn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Sr(t,e,n))}(t,n,r)){const o=new nn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Sr(t,n,a)&&!i[Ir(a)]){const n=new nn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ir(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new nn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Sr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ir(t){return t.outlet||"primary"}function Tr(t){return t.data||{}}function Or(t){return t.resolve||{}}function xr(t,e,n,r){const i=hr(t,e,r);return Je(i.resolve?i.resolve(e,n):i(e,n))}function Ar(t){return function(e){return e.pipe(ae(e=>{const n=t(e);return n?Object(pt.a)(n).pipe(Object(Nt.a)(()=>e)):Object(pt.a)([e])}))}}class Nr{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const kr=new r.q("ROUTES");class Dr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Nt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Be(Ye(r.injector.get(kr)).map($e),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(pt.a)(this.loader.load(t)):Je(t()).pipe(Object(ie.a)(t=>t instanceof r.v?Object(dt.a)(t):Object(pt.a)(this.compiler.compileModuleAsync(t))))}}class Rr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Pr(t){throw t}function jr(t,e,n){return e.parse("/")}function Mr(t,e){return Object(dt.a)(null)}let Lr=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new gt.a,this.errorHandler=Pr,this.malformedUriErrorHandler=jr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Mr,afterPreactivation:Mr},this.urlHandlingStrategy=new Rr,this.routeReuseStrategy=new Nr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new en(new nn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Dr(s,a,t=>this.triggerEvent(new ke(t)),t=>this.triggerEvent(new De(t))),this.routerState=xn(this.currentUrlTree,this.rootComponentType),this.transitions=new yt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Pt(t=>0!==t.id),Object(Nt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ae(t=>{let n=!1,r=!1;return Object(dt.a)(t).pipe(Object(ye.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ae(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(dt.a)(t).pipe(ae(t=>{const n=this.transitions.getValue();return e.next(new Ee(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?xt.a:[t]}),ae(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(ae(t=>function(t,e,n,r,i){return new rr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Nt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(ye.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(ie.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new wr(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Nt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(ye.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(ye.a)(t=>{const n=new Te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Ee(n,this.serializeUrl(r),i,o);e.next(a);const u=xn(r,this.rootComponentType).snapshot;return Object(dt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),xt.a}),Ar(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ye.a)(t=>{const e=new Oe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Nt.a)(t=>Object.assign(Object.assign({},t),{guards:lr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(ie.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(dt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(pt.a)(t).pipe(Object(ie.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(dt.a)(!0);const s=o.map(o=>{const s=hr(o,e,i);let a;if(function(t){return t&&Yn(t.canDeactivate)}(s))a=Je(s.canDeactivate(t,e,n,r));else{if(!Yn(s))throw new Error("Invalid CanDeactivate guard");a=Je(s(t,e,n,r))}return a.pipe(re())});return Object(dt.a)(s).pipe(pr())}(t.component,t.route,n,e,r)),re(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(ie.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(pt.a)(e).pipe(ge(e=>Object(pt.a)([mr(e.route.parent,r),gr(e.route,r),vr(t,e.path,n),yr(t,e.route,n)]).pipe(Dt(),re(t=>!0!==t,!0))),re(t=>!0!==t,!0))}(r,o,t,e):Object(dt.a)(n)),Object(Nt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(ye.a)(t=>{if(Zn(t.guardsResult)){const e=qe(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(ye.a)(t=>{const e=new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Pt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Se(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ar(t=>{if(t.guards.canActivateChecks.length)return Object(dt.a)(t).pipe(Object(ye.a)(t=>{const e=new Ae(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(ie.a)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?Object(pt.a)(i).pipe(ge(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(dt.a)({});if(1===i.length){const o=i[0];return xr(t[o],e,n,r).pipe(Object(Nt.a)(t=>({[o]:t})))}const o={};return Object(pt.a)(i).pipe(Object(ie.a)(i=>xr(t[i],e,n,r).pipe(Object(Nt.a)(t=>(o[i]=t,t))))).pipe(Qt(),Object(Nt.a)(()=>o))}(t._resolve,t,e,r).pipe(Object(Nt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Nn(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(me.a)(fe(t,e),Ft(1),Gt(e))(n)}:function(e){return Object(me.a)(fe((e,n,r)=>t(e,n,r+1)),Ft(1))(e)}}((t,e)=>t),Object(Nt.a)(e=>t)):Object(dt.a)(t)}))}),Object(ye.a)(t=>{const e=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Ar(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Nt.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new In(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new An(new yt((i=n.value).url),new yt(i.params),new yt(i.queryParams),new yt(i.fragment),new yt(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new In(r,o)}}var i}(t,e._root,n?n._root:void 0);return new On(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(ye.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Nt.a)(t=>(new Wn(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(ye.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Se(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new be(i))),Zt(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Zn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Se(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ie(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(nl){t.reject(nl)}}var i;return xt.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ze(t),this.config=t.map($e),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(r.U)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Fn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Vn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Xe(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Vn(n,e,r)}(n);if(o.toRoot())return Fn(e.root,new nn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Un(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Un(n.snapshot._urlSegment,!0,0);const r=Ln(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Un(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Bn(s.segmentGroup,s.index,o.commands):Hn(s.segmentGroup,s.index,o.commands);return Fn(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Zn(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Ov){e=this.malformedUriErrorHandler(Ov,this.urlSerializer,t)}return e}isActive(t,e){if(Zn(t))return tn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return tn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ce(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,u;i?(s=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{s=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){r.Ub()},t.\u0275dir=r.Fb({type:t}),t})(),Fr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Ur(this.skipLocationChange),replaceUrl:Ur(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ur(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ur(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Lr),r.Kb(An),r.Sb("tabindex"),r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Vb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),Vr=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof Ce&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Ur(this.skipLocationChange),replaceUrl:Ur(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ur(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ur(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Lr),r.Kb(An),r.Kb(y))},t.\u0275dir=r.Fb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Vb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(r.Qb("href",e.href,r.dc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),t})();function Ur(t){return""===t||!!t}class qr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hr,this.attachRef=null}}class Hr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new qr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Br=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new zr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Hr),r.Kb(r.O),r.Kb(r.j),r.Sb("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class zr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===An?this.route:t===Hr?this.childContexts:this.parent.get(t,e)}}class Gr{}class Kr{preload(t,e){return Object(dt.a)(null)}}let $r=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Dr(e,n,e=>t.triggerEvent(new ke(e)),e=>t.triggerEvent(new De(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pt(t=>t instanceof Ce),ge(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(pt.a)(n).pipe(Object(kt.a)(),Object(Nt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ie.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Lr),r.Rb(r.w),r.Rb(r.i),r.Rb(r.r),r.Rb(Gr))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Wr=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ee?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ce&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Le&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Le(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){r.Ub()},t.\u0275dir=r.Fb({type:t}),t})();const Qr=new r.q("ROUTER_CONFIGURATION"),Yr=new r.q("ROUTER_FORROOT_GUARD"),Zr=[E,{provide:an,useClass:un},{provide:Lr,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Lr(null,t,e,n,r,i,o,Ye(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[an,Hr,E,r.r,r.w,r.i,kr,Qr,[class{},new r.A],[class{},new r.A]]},Hr,{provide:An,useFactory:function(t){return t.routerState.root},deps:[Lr]},{provide:r.w,useClass:r.J},$r,Kr,class{preload(t,e){return e().pipe(Zt(()=>Object(dt.a)(null)))}},{provide:Qr,useValue:{enableTracing:!1}}];function Xr(){return new r.y("Router",Lr)}let Jr=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Zr,ri(e),{provide:Yr,useFactory:ni,deps:[[Lr,new r.A,new r.I]]},{provide:Qr,useValue:n||{}},{provide:y,useFactory:ei,deps:[u,[new r.p(b),new r.A],Qr]},{provide:Wr,useFactory:ti,deps:[Lr,M,Qr]},{provide:Gr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Kr},{provide:r.y,multi:!0,useFactory:Xr},[ii,{provide:r.d,multi:!0,useFactory:oi,deps:[ii]},{provide:ai,useFactory:si,deps:[ii]},{provide:r.b,multi:!0,useExisting:ai}]]}}static forChild(e){return{ngModule:t,providers:[ri(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(Yr,8),r.Rb(Lr,8))}}),t})();function ti(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Wr(t,e,n)}function ei(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function ni(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ri(t){return[{provide:r.a,multi:!0,useValue:t},{provide:kr,multi:!0,useValue:t}]}let ii=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new gt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Lr),r=this.injector.get(Qr);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(dt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Qr),n=this.injector.get($r),i=this.injector.get(Wr),o=this.injector.get(Lr),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function oi(t){return t.appInitializer.bind(t)}function si(t){return t.bootstrapListener.bind(t)}const ai=new r.q("Router Initializer");var ui=n("D0XW");function ci(){return t=>t.lift(new li)}class li{call(t,e){return e.subscribe(new hi(t))}}class hi extends Rt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class fi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new di(t,this.compare,this.keySelector))}}class di extends Rt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var pi=n("pxpQ"),gi=n("spgP"),mi=n("Jgta"),yi=n("zIRd"),vi=n("qOnz"),bi=n("q/0M"),wi=function(t,e){return(wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function _i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ei,Ci="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Si=Si||{},Ii=Ci||self;function Ti(){}function Oi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function xi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ai="closure_uid_"+(1e9*Math.random()>>>0),Ni=0;function ki(t,e,n){return t.call.apply(t.bind,arguments)}function Di(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ri(t,e,n){return(Ri=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ki:Di).apply(null,arguments)}function Pi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ji(){return Date.now()}function Mi(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Li(){this.j=this.j,this.i=this.i}Li.prototype.j=!1,Li.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ai)&&t[Ai]||(t[Ai]=++Ni)}(this)},Li.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Fi=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Vi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ui(t){return Array.prototype.concat.apply([],arguments)}function qi(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Hi(t){return/^[\s\xa0]*$/.test(t)}var Bi,zi=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Gi(t,e){return-1!=t.indexOf(e)}function Ki(t,e){return t<e?-1:t>e?1:0}t:{var $i=Ii.navigator;if($i){var Wi=$i.userAgent;if(Wi){Bi=Wi;break t}}Bi=""}function Qi(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Yi(t){var e={};for(var n in t)e[n]=t[n];return e}var Zi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xi(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Zi.length;o++)n=Zi[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ji(t){return Ji[" "](t),t}Ji[" "]=Ti;var to,eo,no=Gi(Bi,"Opera"),ro=Gi(Bi,"Trident")||Gi(Bi,"MSIE"),io=Gi(Bi,"Edge"),oo=io||ro,so=Gi(Bi,"Gecko")&&!(Gi(Bi.toLowerCase(),"webkit")&&!Gi(Bi,"Edge"))&&!(Gi(Bi,"Trident")||Gi(Bi,"MSIE"))&&!Gi(Bi,"Edge"),ao=Gi(Bi.toLowerCase(),"webkit")&&!Gi(Bi,"Edge");function uo(){var t=Ii.document;return t?t.documentMode:void 0}t:{var co="",lo=(eo=Bi,so?/rv:([^\);]+)(\)|;)/.exec(eo):io?/Edge\/([\d\.]+)/.exec(eo):ro?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(eo):ao?/WebKit\/(\S+)/.exec(eo):no?/(?:Version)[ \/]?(\S+)/.exec(eo):void 0);if(lo&&(co=lo?lo[1]:""),ro){var ho=uo();if(null!=ho&&ho>parseFloat(co)){to=String(ho);break t}}to=co}var fo={};function po(t){return function(t,e){var n=fo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=zi(String(to)).split("."),r=zi(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Ki(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Ki(0==s[2].length,0==a[2].length)||Ki(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var go=Ii.document&&ro&&(uo()||parseInt(to,10))||void 0,mo=!ro||9<=Number(go),yo=ro&&!po("9"),vo=function(){if(!Ii.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ii.addEventListener("test",Ti,e),Ii.removeEventListener("test",Ti,e)}catch(n){}return t}();function bo(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function wo(t,e){if(bo.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(so){t:{try{Ji(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:_o[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}bo.prototype.b=function(){this.defaultPrevented=!0},Mi(wo,bo);var _o={2:"touch",3:"pen",4:"mouse"};wo.prototype.b=function(){wo.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,yo)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Eo="closure_listenable_"+(1e6*Math.random()|0),Co=0;function So(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Co,this.Y=this.Z=!1}function Io(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function To(t){this.src=t,this.a={},this.b=0}function Oo(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Fi(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Io(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function xo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}To.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=xo(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new So(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ao="closure_lm_"+(1e6*Math.random()|0),No={};function ko(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Vo(r),e&&e[Eo]?e.wa(n,r,xi(i)?!!i.capture:!!i,o):Do(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ko(t,e[o],n,r,i);return null}return n=Vo(n),t&&t[Eo]?t.va(e,n,xi(r)?!!r.capture:!!r,i):Do(t,e,n,!1,r,i)}function Do(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=xi(i)?!!i.capture:!!i;if(s&&!mo)return null;var a=Lo(t);if(a||(t[Ao]=a=new To(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Mo,e=mo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vo||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Po(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ro(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Eo])Oo(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Po(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Lo(e))?(Oo(n,t),0==n.b&&(n.src=null,e[Ao]=null)):Io(t)}}}function Po(t){return t in No?No[t]:No[t]="on"+t}function jo(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ro(t),n.call(r,e)}function Mo(t,e){if(t.Y)return!0;if(!mo){if(!e)t:{e=["window","event"];for(var n=Ii,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return jo(t,e=new wo(e,this))}return jo(t,new wo(e,this))}function Lo(t){return(t=t[Ao])instanceof To?t:null}var Fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vo(t){return"function"==typeof t?t:(t[Fo]||(t[Fo]=function(e){return t.handleEvent(e)}),t[Fo])}function Uo(){Li.call(this),this.c=new To(this),this.J=this,this.C=null}function qo(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new bo(e,t);else if(e instanceof bo)e.target=e.target||t;else{var i=e;Xi(e=new bo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Ho(s,r,!0,e)&&i}if(i=Ho(s=e.a=t,r,!0,e)&&i,i=Ho(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ho(s=e.a=n[o],r,!1,e)&&i}function Ho(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Oo(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Mi(Uo,Li),Uo.prototype[Eo]=!0,(Ei=Uo.prototype).addEventListener=function(t,e,n,r){ko(this,t,e,n,r)},Ei.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=xi(i)?!!i.capture:!!i,r=Vo(r),e&&e[Eo]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=xo(s=e.a[n],r,i,o))&&(Io(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Lo(e))&&(n=e.a[n.toString()],e=-1,n&&(e=xo(n,r,i,o)),(r=-1<e?n[e]:null)&&Ro(r))}(this,t,e,n,r)},Ei.G=function(){if(Uo.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Io(n[r]);delete e.a[t],e.b--}}this.C=null},Ei.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ei.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Bo=Ii.JSON.stringify;function zo(){this.b=this.a=null}var Go,Ko=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Wo}),(function(t){t.reset()}));function $o(){var t=Xo,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Wo(){this.next=this.b=this.a=null}function Qo(t){Ii.setTimeout((function(){throw t}),0)}function Yo(t,e){Go||function(){var t=Ii.Promise.resolve(void 0);Go=function(){t.then(Jo)}}(),Zo||(Go(),Zo=!0),Xo.add(t,e)}zo.prototype.add=function(t,e){var n=Ko.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Wo.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Wo.prototype.reset=function(){this.next=this.b=this.a=null};var Zo=!1,Xo=new zo;function Jo(){for(var t;t=$o();){try{t.a.call(t.b)}catch(n){Qo(n)}var e=Ko;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Zo=!1}function ts(t,e){Uo.call(this),this.b=t||1,this.a=e||Ii,this.f=Ri(this.Za,this),this.g=ji()}function es(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ns(t,e,n){if("function"==typeof t)n&&(t=Ri(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ri(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ii.setTimeout(t,e||0)}function rs(t){t.a=ns((function(){t.a=null,t.c&&(t.c=!1,rs(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Mi(ts,Uo),(Ei=ts.prototype).aa=!1,Ei.M=null,Ei.Za=function(){if(this.aa){var t=ji()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),qo(this,"tick"),this.aa&&(es(this),this.start()))}},Ei.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ji())},Ei.G=function(){ts.X.G.call(this),es(this),delete this.a};var is=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}wi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:rs(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ii.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Li);function os(t){Li.call(this),this.b=t,this.a={}}Mi(os,Li);var ss=[];function as(t,e,n,r){Array.isArray(n)||(n&&(ss[0]=n.toString()),n=ss);for(var i=0;i<n.length;i++){var o=ko(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function us(t){Qi(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ro(t)}),t),t.a={}}function cs(){this.a=!0}function ls(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Bo(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}os.prototype.G=function(){os.X.G.call(this),us(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cs.prototype.info=function(){};var hs={},fs=null;function ds(){return fs=fs||new Uo}function ps(t){bo.call(this,hs.Fa,t)}function gs(t){var e=ds();qo(e,new ps(e,t))}function ms(t,e){bo.call(this,hs.STAT_EVENT,t),this.stat=e}function ys(t){var e=ds();qo(e,new ms(e,t))}function vs(t){bo.call(this,hs.Ga,t)}function bs(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ii.setTimeout((function(){t()}),e)}hs.Fa="serverreachability",Mi(ps,bo),hs.STAT_EVENT="statevent",Mi(ms,bo),hs.Ga="timingevent",Mi(vs,bo);var ws={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},_s={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Es(){}function Cs(){}Es.prototype.a=null;var Ss,Is={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ts(){bo.call(this,"d")}function Os(){bo.call(this,"c")}function xs(){}function As(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new os(this),this.P=Ns,this.R=new ts(t=oo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Mi(Ts,bo),Mi(Os,bo),Mi(xs,Es),Ss=new xs;var Ns=45e3,ks={},Ds={};function Rs(t,e,n){t.H=1,t.i=ea(Qs(e)),t.j=n,t.I=!0,Ps(t,null)}function Ps(t,e){t.u=ji(),Ls(t),t.l=Qs(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),pa(n.b,"t",r),t.D=0,t.a=uu(t.g,t.g.C?e:null),0<t.O&&(t.F=new is(Ri(t.Ca,t,t.a),t.O)),as(t.J,t.a,"readystatechange",t.Xa),e=t.B?Yi(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),gs(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function js(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ms(t,n);if(i==Ds){4==e&&(t.h=4,ys(14),r=!1),ls(t.c,t.f,null,"[Incomplete Response]");break}if(i==ks){t.h=4,ys(15),ls(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ls(t.c,t.f,i,null),Hs(t,i)}4==e&&0==n.length&&(t.h=1,ys(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),tu(e),e.F=!0,ys(11))):(ls(t.c,t.f,n,"[Invalid Chunked Response]"),qs(t),Us(t))}function Ms(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Ds:(n=Number(e.substring(n,r)),isNaN(n)?ks:(r+=1)+n>e.length?Ds:(e=e.substr(r,n),t.D=r+n,e))}function Ls(t){t.T=ji()+t.P,Fs(t,t.P)}function Fs(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=bs(Ri(t.Va,t),e)}function Vs(t){t.o&&(Ii.clearTimeout(t.o),t.o=null)}function Us(t){0==t.g.v||t.A||ru(t.g,t)}function qs(t){Vs(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,es(t.R),us(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Hs(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||_a(n.b,t)))if(n.I=t.N,!t.C&&_a(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Ky){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;nu(n),Ga(n)}Ja(n),ys(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=bs(Ri(n.Sa,n),6e3));if(1>=wa(n.b)&&n.ea){try{n.ea()}catch(Ky){}n.ea=void 0}}else ou(n,11)}else if((t.C||n.a==t)&&nu(n),!Hi(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Gi(l,"spdy")||Gi(l,"quic")||Gi(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ea(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,ta(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ji()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=au(u,u.C?u.ga:null,u.fa),d.C){Ca(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Vs(p),Ls(p)),u.a=d}else Xa(u);0<n.g.length&&Wa(n)}else"stop"!=i[0]&&"close"!=i[0]||ou(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ou(n,7):za(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);gs(4)}catch(Ky){}}function Bs(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Oi(t)||"string"==typeof t)Vi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Oi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Oi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function zs(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof zs)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Gs(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ks(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ks(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ks(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ei=As.prototype).setTimeout=function(t){this.P=t},Ei.Xa=function(t){t=t.target;var e=this.F;e&&3==Ua(t)?e.f():this.Ca(t)},Ei.Ca=function(t){try{if(t==this.a)t:{var e=Ua(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!oo&&!this.a.$())){this.A||4!=e||7==n||gs(8==n||0>=r?3:2),Vs(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hi(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ys(12),qs(this),Us(this);break t}ls(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Hs(this,u)}this.I?(js(this,e,o),oo&&this.b&&3==e&&(as(this.J,this.R,"tick",this.Wa),this.R.start())):(ls(this.c,this.f,o,null),Hs(this,o)),4==e&&qs(this),this.b&&!this.A&&(4==e?ru(this.g,this):(this.b=!1,Ls(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ys(12)):(this.h=0,ys(13)),qs(this),Us(this)}}}catch(c){}},Ei.Wa=function(){if(this.a){var t=Ua(this.a),e=this.a.$();this.D<e.length&&(Vs(this),js(this,t,e),this.b&&4!=t&&Ls(this))}},Ei.cancel=function(){this.A=!0,qs(this)},Ei.Va=function(){this.o=null;var t=ji();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(gs(3),ys(17)),qs(this),this.h=2,Us(this)):Fs(this,this.T-t)},(Ei=zs.prototype).K=function(){Gs(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ei.L=function(){return Gs(this),this.a.concat()},Ei.get=function(t,e){return Ks(this.b,t)?this.b[t]:e},Ei.set=function(t,e){Ks(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ei.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var $s=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ws(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ws){this.a=void 0!==e?e:t.a,Ys(this,t.f),this.j=t.j,Zs(this,t.c),Xs(this,t.h),this.g=t.g,e=t.b;var n=new la;n.c=e.c,e.a&&(n.a=new zs(e.a),n.b=e.b),Js(this,n),this.i=t.i}else t&&(n=String(t).match($s))?(this.a=!!e,Ys(this,n[1]||"",!0),this.j=na(n[2]||""),Zs(this,n[3]||"",!0),Xs(this,n[4]),this.g=na(n[5]||"",!0),Js(this,n[6]||"",!0),this.i=na(n[7]||"")):(this.a=!!e,this.b=new la(null,this.a))}function Qs(t){return new Ws(t)}function Ys(t,e,n){t.f=n?na(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Zs(t,e,n){t.c=n?na(e,!0):e}function Xs(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Js(t,e,n){e instanceof la?(t.b=e,function(t,e){e&&!t.f&&(ha(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(fa(this,e),pa(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=ra(e,ua)),t.b=new la(e,t.a))}function ta(t,e,n){t.b.set(e,n)}function ea(t){return ta(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ji()).toString(36)),t}function na(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ra(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ia),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ia(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ws.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ra(e,oa,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ra(e,oa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ra(n,"/"==n.charAt(0)?aa:sa,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ra(n,ca)),t.join("")};var oa=/[#\/\?@]/g,sa=/[#\?:]/g,aa=/[#\?]/g,ua=/[#\?@]/g,ca=/#/g;function la(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ha(t){t.a||(t.a=new zs,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function fa(t,e){ha(t),e=ga(t,e),Ks(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ks((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Gs(t)))}function da(t,e){return ha(t),e=ga(t,e),Ks(t.a.b,e)}function pa(t,e,n){fa(t,e),0<n.length&&(t.c=null,t.a.set(ga(t,e),qi(n)),t.b+=n.length)}function ga(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ei=la.prototype).add=function(t,e){ha(this),this.c=null,t=ga(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ei.forEach=function(t,e){ha(this),this.a.forEach((function(n,r){Vi(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Ei.L=function(){ha(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ei.K=function(t){ha(this);var e=[];if("string"==typeof t)da(this,t)&&(e=Ui(e,this.a.get(ga(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ui(e,t[n])}return e},Ei.set=function(t,e){return ha(this),this.c=null,da(this,t=ga(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ei.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ei.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ma=function(){return function(t,e){this.b=t,this.a=e}}();function ya(t){this.g=t||va,t=Ii.PerformanceNavigationTiming?0<(t=Ii.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ii.ia&&Ii.ia.ya&&Ii.ia.ya()&&Ii.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var va=10;function ba(t){return!!t.b||!!t.a&&t.a.size>=t.f}function wa(t){return t.b?1:t.a?t.a.size:0}function _a(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ea(t,e){t.a?t.a.add(e):t.b=e}function Ca(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Sa(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=_i(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return qi(t.c)}function Ia(){}function Ta(){this.a=new Ia}function Oa(t,e,n){var r=n||"";try{Bs(t,(function(t,n){var i=t;xi(t)&&(i=Bo(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Ov){throw e.push(r+"type="+encodeURIComponent("_badmap")),Ov}}function xa(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}ya.prototype.cancel=function(){var t,e;if(this.c=Sa(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=_i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ia.prototype.stringify=function(t){return Ii.JSON.stringify(t,void 0)},Ia.prototype.parse=function(t){return Ii.JSON.parse(t,void 0)};var Aa=Ii.JSON.parse;function Na(t){Uo.call(this),this.headers=new zs,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ka,this.D=this.F=!1}Mi(Na,Uo);var ka="",Da=/^https?$/i,Ra=["POST","PUT"];function Pa(t){return"content-type"==t.toLowerCase()}function ja(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ma(t),Fa(t)}function Ma(t){t.u||(t.u=!0,qo(t,"complete"),qo(t,"error"))}function La(t){if(t.b&&void 0!==Si&&(!t.s[1]||4!=Ua(t)||2!=t.W()))if(t.l&&4==Ua(t))ns(t.za,0,t);else if(qo(t,"readystatechange"),4==Ua(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match($s)[1]||null;if(!o&&Ii.self&&Ii.self.location){var s=Ii.self.location.protocol;o=s.substr(0,s.length-1)}i=!Da.test(o?o.toLowerCase():"")}e=i}if(e)qo(t,"complete"),qo(t,"success");else{t.h=6;try{var a=2<Ua(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ma(t)}}finally{Fa(t)}}}function Fa(t,e){if(t.a){Va(t);var n=t.a,r=t.s[0]?Ti:null;t.a=null,t.s=null,e||qo(t,"ready");try{n.onreadystatechange=r}catch(Ov){}}}function Va(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ii.clearTimeout(t.m),t.m=null)}function Ua(t){return t.a?t.a.readyState:0}function qa(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Qi(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ta(t,e,n))}function Ha(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ba(t){this.pa=0,this.g=[],this.c=new cs,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ha("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ha("baseRetryDelayMs",5e3,t),this.Ra=Ha("retryDelaySeedMs",1e4,t),this.Ma=Ha("forwardChannelMaxRetries",2,t),this.ma=Ha("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ya(t&&t.concurrentRequestLimit),this.ka=new Ta,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function za(t){if(Ka(t),3==t.v){var e=t.R++,n=Qs(t.B);ta(n,"SID",t.J),ta(n,"RID",e),ta(n,"TYPE","terminate"),Ya(t,n),(e=new As(t,t.c,e,void 0)).H=2,e.i=ea(Qs(n)),n=!1,Ii.navigator&&Ii.navigator.sendBeacon&&(n=Ii.navigator.sendBeacon(e.i.toString(),"")),!n&&Ii.Image&&((new Image).src=e.i,n=!0),n||(e.a=uu(e.g,null),e.a.ba(e.i)),e.u=ji(),Ls(e)}su(t)}function Ga(t){t.a&&(tu(t),t.a.cancel(),t.a=null)}function Ka(t){Ga(t),t.j&&(Ii.clearTimeout(t.j),t.j=null),nu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ii.clearTimeout(t.h),t.h=null)}function $a(t,e){t.g.push(new ma(t.Oa++,e)),3==t.v&&Wa(t)}function Wa(t){ba(t.b)||t.h||(t.h=!0,Yo(t.Ba,t),t.u=0)}function Qa(t,e){var n;n=e?e.f:t.R++;var r=Qs(t.B);ta(r,"SID",t.J),ta(r,"RID",n),ta(r,"AID",t.P),Ya(t,r),t.i&&t.l&&qa(r,t.i,t.l),n=new As(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Za(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ea(t.b,n),Rs(n,r,e)}function Ya(t,e){t.f&&Bs({},(function(t,n){ta(e,n,t)}))}function Za(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ri(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Oa(l,s,"req"+c+"_")}catch(zu){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Xa(t){t.a||t.j||(t.T=1,Yo(t.Aa,t),t.o=0)}function Ja(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=bs(Ri(t.Aa,t),iu(t,t.o)),t.o++,0))}function tu(t){null!=t.s&&(Ii.clearTimeout(t.s),t.s=null)}function eu(t){t.a=new As(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Qs(t.la);ta(e,"RID","rpc"),ta(e,"SID",t.J),ta(e,"CI",t.H?"0":"1"),ta(e,"AID",t.P),Ya(t,e),ta(e,"TYPE","xmlhttp"),t.i&&t.l&&qa(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ea(Qs(e)),n.j=null,n.I=!0,Ps(n,t)}function nu(t){null!=t.m&&(Ii.clearTimeout(t.m),t.m=null)}function ru(t,e){var n=null;if(t.a==e){nu(t),tu(t),t.a=null;var r=2}else{if(!_a(t.b,e))return;n=e.s,Ca(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ji()-e.u;var i=t.u;qo(r=ds(),new vs(r,n,e,i)),Wa(t)}else Xa(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(wa(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=bs(Ri(t.Ba,t,e),iu(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ja(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ou(t,5);break;case 4:ou(t,10);break;case 3:ou(t,6);break;default:ou(t,2)}}function iu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ou(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ri(t.Ya,t);n||(n=new Ws("//www.google.com/images/cleardot.gif"),Ii.location&&"http"==Ii.location.protocol||Ys(n,"https"),ea(n)),function(t,e){var n=new cs;if(Ii.Image){var r=new Image;r.onload=Pi(xa,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Pi(xa,n,r,"TestLoadImage: error",!1,e),r.onabort=Pi(xa,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pi(xa,n,r,"TestLoadImage: timeout",!1,e),Ii.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ys(2);t.v=0,t.f&&t.f.ra(e),su(t),Ka(t)}function su(t){t.v=0,t.I=-1,t.f&&(0==Sa(t.b).length&&0==t.g.length||(t.b.c.length=0,qi(t.g),t.g.length=0),t.f.qa())}function au(t,e,n){var r=function(t){return t instanceof Ws?Qs(t):new Ws(t,void 0)}(n);if(""!=r.c)e&&Zs(r,e+"."+r.c),Xs(r,r.h);else{var i=Ii.location;r=function(t,e,n,r){var i=new Ws(null,void 0);return t&&Ys(i,t),e&&Zs(i,e),n&&Xs(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Qi(t.V,(function(t,e){ta(r,e,t)})),n=t.na,(e=t.A)&&n&&ta(r,e,n),ta(r,"VER",t.ha),Ya(t,r),r}function uu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Na(t.Na)).F=t.C,e}function cu(){}function lu(){if(ro&&!(10<=Number(go)))throw Error("Environmental error: no available transport.")}function hu(t,e){Uo.call(this),this.a=new Ba(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Hi(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hi(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new pu(this)}function fu(t){Ts.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function du(){Os.call(this),this.status=1}function pu(t){this.a=t}(Ei=Na.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ss),this.a.onreadystatechange=Ri(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void ja(this,o)}t=n||"";var i=new zs(this.headers);r&&Bs(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Pa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ii.FormData&&t instanceof Ii.FormData,!(0<=Fi(Ra,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Va(this),0<this.o&&((this.D=function(t){return ro&&po(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ri(this.xa,this)):this.m=ns(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){ja(this,o)}},Ei.xa=function(){void 0!==Si&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,qo(this,"timeout"),this.abort(8))},Ei.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,qo(this,"complete"),qo(this,"abort"),Fa(this))},Ei.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Fa(this,!0)),Na.X.G.call(this)},Ei.za=function(){this.j||(this.A||this.l||this.g?La(this):this.Ua())},Ei.Ua=function(){La(this)},Ei.W=function(){try{return 2<Ua(this)?this.a.status:-1}catch(eo){return-1}},Ei.$=function(){try{return this.a?this.a.responseText:""}catch(eo){return""}},Ei.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Aa(e)}},Ei.ua=function(){return this.h},Ei.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ei=Ba.prototype).ha=8,Ei.v=1,Ei.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new As(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Xi(r=Yi(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Za(this,n,e),ta(i=Qs(this.B),"RID",t),ta(i,"CVER",22),this.A&&ta(i,"X-HTTP-Session-Id",this.A),Ya(this,i),this.i&&r&&qa(i,this.i,r),Ea(this.b,n),this.Ia&&ta(i,"TYPE","init"),this.da?(ta(i,"$req",e),ta(i,"SID","null"),n.U=!0,Rs(n,i,null)):Rs(n,i,e),this.v=2}}else 3==this.v&&(t?Qa(this,t):0==this.g.length||ba(this.b)||Qa(this))},Ei.Aa=function(){if(this.j=null,eu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=bs(Ri(this.Ta,this),t)}},Ei.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ys(10),Ga(this),eu(this))},Ei.Sa=function(){null!=this.m&&(this.m=null,Ga(this),Ja(this),ys(19))},Ei.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ys(2)):(this.c.info("Failed to ping google.com"),ys(1))},(Ei=cu.prototype).ta=function(){},Ei.sa=function(){},Ei.ra=function(){},Ei.qa=function(){},Ei.Ja=function(){},lu.prototype.a=function(t,e){return new hu(t,e)},Mi(hu,Uo),hu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ys(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=au(t,null,t.fa),Wa(t)},hu.prototype.close=function(){za(this.a)},hu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,$a(this.a,e)}else this.l?((e={}).__data__=Bo(t),$a(this.a,e)):$a(this.a,t)},hu.prototype.G=function(){this.a.f=null,delete this.f,za(this.a),delete this.a,hu.X.G.call(this)},Mi(fu,Ts),Mi(du,Os),Mi(pu,cu),pu.prototype.ta=function(){qo(this.a,"a")},pu.prototype.sa=function(t){qo(this.a,new fu(t))},pu.prototype.ra=function(t){qo(this.a,new du(t))},pu.prototype.qa=function(){qo(this.a,"b")},lu.prototype.createWebChannel=lu.prototype.a,hu.prototype.send=hu.prototype.h,hu.prototype.open=hu.prototype.g,hu.prototype.close=hu.prototype.close,ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,_s.COMPLETE="complete",Cs.EventType=Is,Is.OPEN="a",Is.CLOSE="b",Is.ERROR="c",Is.MESSAGE="d",Uo.prototype.listen=Uo.prototype.va,Na.prototype.listenOnce=Na.prototype.wa,Na.prototype.getLastError=Na.prototype.Qa,Na.prototype.getLastErrorCode=Na.prototype.ua,Na.prototype.getStatus=Na.prototype.W,Na.prototype.getResponseJson=Na.prototype.Pa,Na.prototype.getResponseText=Na.prototype.$,Na.prototype.send=Na.prototype.ba;var gu=ws,mu=_s,yu=hs,vu=Cs,bu=Na,wu=function(t,e){return(wu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function _u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}wu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Eu(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(Ov){o(Ov)}}function a(t){try{u(r.throw(t))}catch(Ov){o(Ov)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function Cu(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(Ov){o=[6,Ov],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Su(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var Iu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Iu.o=-1;var Tu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ou=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return _u(e,t),e}(Error),xu=new bi.b("@firebase/firestore");function Au(){return xu.logLevel}function Nu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(xu.logLevel<=bi.a.DEBUG){var r=e.map(Ru);xu.debug.apply(xu,Su(["Firestore (8.4.0): "+t],r))}}function ku(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(xu.logLevel<=bi.a.ERROR){var r=e.map(Ru);xu.error.apply(xu,Su(["Firestore (8.4.0): "+t],r))}}function Du(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(xu.logLevel<=bi.a.WARN){var r=e.map(Ru);xu.warn.apply(xu,Su(["Firestore (8.4.0): "+t],r))}}function Ru(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Ov){return t}}function Pu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+t;throw ku(e),new Error(e)}function ju(t,e){t||Pu()}function Mu(t,e){return t}function Lu(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Fu=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Lu(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Vu(t,e){return t<e?-1:t>e?1:0}function Uu(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function qu(t){return t+"\0"}var Hu=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ou(Tu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ou(Tu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ou(Tu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ou(Tu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Vu(this.nanoseconds,t.nanoseconds):Vu(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Bu=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Hu(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function zu(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gu(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ku(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var $u=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Pu(),void 0===n?n=t.length-e:n>t.length-e&&Pu(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _u(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Ou(Tu.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}($u),Qu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _u(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Qu.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ou(Tu.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ou(Tu.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ou(Tu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ou(Tu.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}($u),Zu=function(){function t(t){this.fields=t,t.sort(Yu.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Uu(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Xu=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Vu(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Xu.EMPTY_BYTE_STRING=new Xu("");var Ju=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tc(t){if(ju(!!t),"string"==typeof t){var e=0,n=Ju.exec(t);if(ju(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ec(t.seconds),nanos:ec(t.nanos)}}function ec(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function nc(t){return"string"==typeof t?Xu.fromBase64String(t):Xu.fromUint8Array(t)}function rc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ic(t){var e=tc(t.mapValue.fields.__local_write_time__.timestampValue);return new Hu(e.seconds,e.nanos)}function oc(t){return null==t}function sc(t){return 0===t&&1/t==-1/0}function ac(t){return"number"==typeof t&&Number.isInteger(t)&&!sc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var uc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Wu.fromString(e))},t.fromName=function(e){return new t(Wu.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Wu.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Wu.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Wu(e.slice()))},t}();function cc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rc(t)?4:10:Pu()}function lc(t,e){var n=cc(t);if(n!==cc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ic(t).isEqual(ic(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=tc(t.timestampValue),r=tc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return nc(t.bytesValue).isEqual(nc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ec(t.geoPointValue.latitude)===ec(e.geoPointValue.latitude)&&ec(t.geoPointValue.longitude)===ec(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ec(t.integerValue)===ec(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ec(t.doubleValue),r=ec(e.doubleValue);return n===r?sc(n)===sc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Uu(t.arrayValue.values||[],e.arrayValue.values||[],lc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(zu(n)!==zu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!lc(n[i],r[i])))return!1;return!0}(t,e);default:return Pu()}}function hc(t,e){return void 0!==(t.values||[]).find((function(t){return lc(t,e)}))}function fc(t,e){var n=cc(t),r=cc(e);if(n!==r)return Vu(n,r);switch(n){case 0:return 0;case 1:return Vu(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ec(t.integerValue||t.doubleValue),r=ec(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return dc(t.timestampValue,e.timestampValue);case 4:return dc(ic(t),ic(e));case 5:return Vu(t.stringValue,e.stringValue);case 6:return function(t,e){var n=nc(t),r=nc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Vu(n[i],r[i]);if(0!==o)return o}return Vu(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Vu(ec(t.latitude),ec(e.latitude));return 0!==n?n:Vu(ec(t.longitude),ec(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=fc(n[i],r[i]);if(o)return o}return Vu(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Vu(r[s],o[s]);if(0!==a)return a;var u=fc(n[r[s]],i[o[s]]);if(0!==u)return u}return Vu(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Pu()}}function dc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Vu(t,e);var n=tc(t),r=tc(e),i=Vu(n.seconds,r.seconds);return 0!==i?i:Vu(n.nanos,r.nanos)}function pc(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=tc(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?nc(e.bytesValue).toBase64():"referenceValue"in e?uc.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Pu();var n}(t)}function gc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function mc(t){return!!t&&"integerValue"in t}function yc(t){return!!t&&"arrayValue"in t}function vc(t){return!!t&&"nullValue"in t}function bc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wc(t){return!!t&&"mapValue"in t}var _c=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Yu.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return lc(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===cc(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=wc(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)})),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Yu.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!wc(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Ec(t){var e=[];return Gu(t.fields||{},(function(t,n){var r=new Yu([t]);if(wc(n)){var i=Ec(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Zu(e)}var Cc=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Bu.min(),_c.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,_c.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,_c.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=_c.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=_c.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Sc=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Ic(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Sc(t,e,n,r,i,o,s)}function Tc(t){var e=Mu(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+pc(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),oc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Vc(e.startAt)),e.endAt&&(n+="|ub:",n+=Vc(e.endAt)),e.h=n}return e.h}function Oc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!qc(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!lc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bc(t.startAt,e.startAt)&&Bc(t.endAt,e.endAt)}function xc(t){return uc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ac=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return _u(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Nc(t,n,r):"array-contains"===n?new Pc(t,r):"in"===n?new jc(t,r):"not-in"===n?new Mc(t,r):"array-contains-any"===n?new Lc(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new kc(t,n):new Dc(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(fc(e,this.value)):null!==e&&cc(this.value)===cc(e)&&this.m(fc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Pu()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Nc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=uc.fromName(r.referenceValue),i}return _u(e,t),e.prototype.matches=function(t){var e=uc.comparator(t.key,this.key);return this.m(e)},e}(Ac),kc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Rc(0,n),r}return _u(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ac),Dc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Rc(0,n),r}return _u(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ac);function Rc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return uc.fromName(t.referenceValue)}))}var Pc=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return _u(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return yc(e)&&hc(e.arrayValue,this.value)},e}(Ac),jc=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return _u(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&hc(this.value.arrayValue,e)},e}(Ac),Mc=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return _u(e,t),e.prototype.matches=function(t){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!hc(this.value.arrayValue,e)},e}(Ac),Lc=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return _u(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!yc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return hc(e.value.arrayValue,t)}))},e}(Ac),Fc=function(t,e){this.position=t,this.before=e};function Vc(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return pc(t)})).join(",")}var Uc=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function qc(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Hc(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?uc.comparator(uc.fromName(s.referenceValue),n.key):fc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Bc(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!lc(t.position[n],e.position[n]))return!1;return!0}var zc=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Gc(t,e,n,r,i,o,s,a){return new zc(t,e,n,r,i,o,s,a)}function Kc(t){return new zc(t)}function $c(t){return!oc(t.limit)&&"F"===t.limitType}function Wc(t){return!oc(t.limit)&&"L"===t.limitType}function Qc(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Yc(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Zc(t){return null!==t.collectionGroup}function Xc(t){var e=Mu(t);if(null===e.p){e.p=[];var n=Yc(e),r=Qc(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Uc(n)),e.p.push(new Uc(Yu.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Uc(Yu.keyField(),u))}}}return e.p}function Jc(t){var e=Mu(t);if(!e.T)if("F"===e.limitType)e.T=Ic(e.path,e.collectionGroup,Xc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Xc(e);r<i.length;r++){var o=i[r];n.push(new Uc(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Fc(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Fc(e.startAt.position,!e.startAt.before):null;e.T=Ic(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function tl(t,e,n){return new zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function el(t,e){return Oc(Jc(t),Jc(e))&&t.limitType===e.limitType}function nl(t){return Tc(Jc(t))+"|lt:"+t.limitType}function rl(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+pc(e.value);var e})).join(", ")+"]"),oc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Vc(t.startAt)),t.endAt&&(e+=", endAt: "+Vc(t.endAt)),"Target("+e+")"}(Jc(t))+"; limitType="+t.limitType+")"}function il(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):uc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Hc(t.startAt,Xc(t),e)||t.endAt&&Hc(t.endAt,Xc(t),e))}(t,e)}function ol(t){return function(e,n){for(var r=!1,i=0,o=Xc(t);i<o.length;i++){var s=o[i],a=sl(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function sl(t,e,n){var r=t.field.isKeyField()?uc.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?fc(r,i):Pu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pu()}}function al(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(e)?"-0":e}}function ul(t){return{integerValue:""+t}}function cl(t,e){return ac(e)?ul(e):al(t,e)}var ll=function(){this._=void 0};function hl(t,e,n){return t instanceof pl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof gl?ml(t,e):t instanceof yl?vl(t,e):function(t,e){var n=dl(t,e),r=wl(n)+wl(t.A);return mc(n)&&mc(t.A)?ul(r):al(t.R,r)}(t,e)}function fl(t,e,n){return t instanceof gl?ml(t,e):t instanceof yl?vl(t,e):n}function dl(t,e){return t instanceof bl?mc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var pl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _u(e,t),e}(ll),gl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return _u(e,t),e}(ll);function ml(t,e){for(var n=_l(e),r=function(t){n.some((function(e){return lc(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var yl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return _u(e,t),e}(ll);function vl(t,e){for(var n=_l(e),r=function(t){n=n.filter((function(e){return!lc(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var bl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return _u(e,t),e}(ll);function wl(t){return ec(t.integerValue||t.doubleValue)}function _l(t){return yc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var El=function(t,e){this.field=t,this.transform=e},Cl=function(t,e){this.version=t,this.transformResults=e},Sl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Il(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Tl=function(){};function Ol(t,e,n){t instanceof Dl?function(t,e,n){var r=t.value.clone(),i=jl(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Rl?function(t,e,n){if(Il(t.precondition,e)){var r=jl(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Pl(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function xl(t,e,n){t instanceof Dl?function(t,e,n){if(Il(t.precondition,e)){var r=t.value.clone(),i=Ml(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(kl(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Rl?function(t,e,n){if(Il(t.precondition,e)){var r=Ml(t.fieldTransforms,n,e),i=e.data;i.setAll(Pl(t)),i.setAll(r),e.convertToFoundDocument(kl(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Il(t.precondition,e)&&e.convertToNoDocument(Bu.min())}(t,e)}function Al(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=dl(o.transform,s||null);null!=a&&(null==n&&(n=_c.empty()),n.set(o.field,a))}return n||null}function Nl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Uu(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof gl&&e instanceof gl||t instanceof yl&&e instanceof yl?Uu(t.elements,e.elements,lc):t instanceof bl&&e instanceof bl?lc(t.A,e.A):t instanceof pl&&e instanceof pl}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function kl(t){return t.isFoundDocument()?t.version:Bu.min()}var Dl=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return _u(e,t),e}(Tl),Rl=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return _u(e,t),e}(Tl);function Pl(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function jl(t,e,n){var r=new Map;ju(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,fl(s,a,n[i]))}return r}function Ml(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,hl(a,u,e))}return r}var Ll,Fl,Vl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return _u(e,t),e}(Tl),Ul=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return _u(e,t),e}(Tl),ql=function(t){this.count=t};function Hl(t){switch(t){case Tu.OK:return Pu();case Tu.CANCELLED:case Tu.UNKNOWN:case Tu.DEADLINE_EXCEEDED:case Tu.RESOURCE_EXHAUSTED:case Tu.INTERNAL:case Tu.UNAVAILABLE:case Tu.UNAUTHENTICATED:return!1;case Tu.INVALID_ARGUMENT:case Tu.NOT_FOUND:case Tu.ALREADY_EXISTS:case Tu.PERMISSION_DENIED:case Tu.FAILED_PRECONDITION:case Tu.ABORTED:case Tu.OUT_OF_RANGE:case Tu.UNIMPLEMENTED:case Tu.DATA_LOSS:return!0;default:return Pu()}}function Bl(t){if(void 0===t)return ku("GRPC error has no .code"),Tu.UNKNOWN;switch(t){case Ll.OK:return Tu.OK;case Ll.CANCELLED:return Tu.CANCELLED;case Ll.UNKNOWN:return Tu.UNKNOWN;case Ll.DEADLINE_EXCEEDED:return Tu.DEADLINE_EXCEEDED;case Ll.RESOURCE_EXHAUSTED:return Tu.RESOURCE_EXHAUSTED;case Ll.INTERNAL:return Tu.INTERNAL;case Ll.UNAVAILABLE:return Tu.UNAVAILABLE;case Ll.UNAUTHENTICATED:return Tu.UNAUTHENTICATED;case Ll.INVALID_ARGUMENT:return Tu.INVALID_ARGUMENT;case Ll.NOT_FOUND:return Tu.NOT_FOUND;case Ll.ALREADY_EXISTS:return Tu.ALREADY_EXISTS;case Ll.PERMISSION_DENIED:return Tu.PERMISSION_DENIED;case Ll.FAILED_PRECONDITION:return Tu.FAILED_PRECONDITION;case Ll.ABORTED:return Tu.ABORTED;case Ll.OUT_OF_RANGE:return Tu.OUT_OF_RANGE;case Ll.UNIMPLEMENTED:return Tu.UNIMPLEMENTED;case Ll.DATA_LOSS:return Tu.DATA_LOSS;default:return Pu()}}(Fl=Ll||(Ll={}))[Fl.OK=0]="OK",Fl[Fl.CANCELLED=1]="CANCELLED",Fl[Fl.UNKNOWN=2]="UNKNOWN",Fl[Fl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fl[Fl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fl[Fl.NOT_FOUND=5]="NOT_FOUND",Fl[Fl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fl[Fl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fl[Fl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fl[Fl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fl[Fl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fl[Fl.ABORTED=10]="ABORTED",Fl[Fl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fl[Fl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fl[Fl.INTERNAL=13]="INTERNAL",Fl[Fl.UNAVAILABLE=14]="UNAVAILABLE",Fl[Fl.DATA_LOSS=15]="DATA_LOSS";var zl=function(){function t(t,e){this.comparator=t,this.root=e||Kl.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kl.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kl.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Gl(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Gl(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Gl(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Gl(this.root,t,this.comparator,!0)},t}(),Gl=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Kl=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Pu();if(this.right.isRed())throw Pu();var t=this.left.check();if(t!==this.right.check())throw Pu();return t+(this.isRed()?0:1)},t}();Kl.EMPTY=null,Kl.RED=!0,Kl.BLACK=!1,Kl.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Pu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Pu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Pu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Pu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Pu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Kl(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var $l=function(){function t(t){this.comparator=t,this.data=new zl(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Wl(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Wl(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Wl=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ql=new zl(uc.comparator);function Yl(){return Ql}var Zl=new zl(uc.comparator);function Xl(){return Zl}var Jl=new zl(uc.comparator);function th(){return Jl}var eh=new $l(uc.comparator);function nh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=eh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var rh=new $l(Vu);function ih(){return rh}var oh=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,sh.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Bu.min(),r,ih(),Yl(),nh())},t}(),sh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Xu.EMPTY_BYTE_STRING,n,nh(),nh(),nh())},t}(),ah=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},uh=function(t,e){this.targetId=t,this.V=e},ch=function(t,e,n,r){void 0===n&&(n=Xu.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},lh=function(){function t(){this.S=0,this.D=dh(),this.C=Xu.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=nh(),e=nh(),n=nh();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Pu()}})),new sh(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=dh()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),hh=function(){function t(t){this.W=t,this.G=new Map,this.H=Yl(),this.J=fh(),this.Y=new $l(Vu)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Pu()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(xc(i))if(0===n){var o=new uc(i.path);this.tt(e,o,Cc.newNoDocument(o,Bu.min()))}else ju(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&xc(o.target)){var s=new uc(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Cc.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=nh();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new oh(t,n,this.Y,this.H,r);return this.H=Yl(),this.J=fh(),this.Y=new $l(Vu),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new lh,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new $l(Vu),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Nu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new lh),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function fh(){return new zl(uc.comparator)}function dh(){return new zl(uc.comparator)}var ph={asc:"ASCENDING",desc:"DESCENDING"},gh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mh=function(t,e){this.databaseId=t,this.I=e};function yh(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function vh(t,e){return t.I?e.toBase64():e.toUint8Array()}function bh(t,e){return yh(t,e.toTimestamp())}function wh(t){return ju(!!t),Bu.fromTimestamp(function(t){var e=tc(t);return new Hu(e.seconds,e.nanos)}(t))}function _h(t,e){return function(t){return new Wu(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Eh(t){var e=Wu.fromString(t);return ju(Gh(e)),e}function Ch(t,e){return _h(t.databaseId,e.path)}function Sh(t,e){var n=Eh(e);if(n.get(1)!==t.databaseId.projectId)throw new Ou(Tu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ou(Tu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new uc(xh(n))}function Ih(t,e){return _h(t.databaseId,e)}function Th(t){var e=Eh(t);return 4===e.length?Wu.emptyPath():xh(e)}function Oh(t){return new Wu(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xh(t){return ju(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ah(t,e,n){return{name:Ch(t,e),fields:n.toProto().mapValue.fields}}function Nh(t,e,n){var r=Sh(t,e.name),i=wh(e.updateTime),o=new _c({mapValue:{fields:e.fields}}),s=Cc.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function kh(t,e){var n;if(e instanceof Dl)n={update:Ah(t,e.key,e.value)};else if(e instanceof Vl)n={delete:Ch(t,e.key)};else if(e instanceof Rl)n={update:Ah(t,e.key,e.data),updateMask:zh(e.fieldMask)};else{if(!(e instanceof Ul))return Pu();n={verify:Ch(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof pl)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof gl)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bl)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Pu()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:bh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Pu()}(t,e.precondition)),n}function Dh(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Sl.updateTime(wh(t.updateTime)):void 0!==t.exists?Sl.exists(t.exists):Sl.none()}(e.currentDocument):Sl.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(ju("REQUEST_TIME"===e.setToServerValue),n=new pl):"appendMissingElements"in e?n=new gl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new yl(e.removeAllFromArray.values||[]):"increment"in e?n=new bl(t,e.increment):Pu();var r=Yu.fromServerFormat(e.fieldPath);return new El(r,n)}(t,e)})):[];if(e.update){var i=Sh(t,e.update.name),o=new _c({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Zu((t.fieldPaths||[]).map((function(t){return Yu.fromServerFormat(t)})))}(e.updateMask);return new Rl(i,o,s,n,r)}return new Dl(i,o,n,r)}if(e.delete){var a=Sh(t,e.delete);return new Vl(a,n)}if(e.verify){var u=Sh(t,e.verify);return new Ul(u,n)}return Pu()}function Rh(t,e){return{documents:[Ih(t,e.path)]}}function Ph(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ih(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ih(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(bc(t.value))return{unaryFilter:{field:Uh(t.field),op:"IS_NAN"}};if(vc(t.value))return{unaryFilter:{field:Uh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(bc(t.value))return{unaryFilter:{field:Uh(t.field),op:"IS_NOT_NAN"}};if(vc(t.value))return{unaryFilter:{field:Uh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uh(t.field),op:Vh(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Uh(t.field),direction:Fh(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||oc(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Mh(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Mh(e.endAt)),n}function jh(t){var e=Th(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ju(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Bh(e)]:void 0!==e.fieldFilter?[Hh(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Pu():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Uc(qh(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return oc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Lh(n.startAt));var l=null;return n.endAt&&(l=Lh(n.endAt)),Gc(e,i,a,s,u,"F",c,l)}function Mh(t){return{before:t.before,values:t.position}}function Lh(t){return new Fc(t.values||[],!!t.before)}function Fh(t){return ph[t]}function Vh(t){return gh[t]}function Uh(t){return{fieldPath:t.canonicalString()}}function qh(t){return Yu.fromServerFormat(t.fieldPath)}function Hh(t){return Ac.create(qh(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Pu()}}(t.fieldFilter.op),t.fieldFilter.value)}function Bh(t){switch(t.unaryFilter.op){case"IS_NAN":var e=qh(t.unaryFilter.field);return Ac.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=qh(t.unaryFilter.field);return Ac.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=qh(t.unaryFilter.field);return Ac.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=qh(t.unaryFilter.field);return Ac.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Pu()}}function zh(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Gh(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Kh(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Wh(e)),e=$h(t.get(n),e);return Wh(e)}function $h(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Wh(t){return t+"\x01\x01"}function Qh(t){var e=t.length;if(ju(e>=2),2===e)return ju("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Wu.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Pu(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Pu()}o=s+2}return new Wu(r)}var Yh=function(t,e){this.seconds=t,this.nanoseconds=e},Zh=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Zh.store="owner",Zh.key="owner";var Xh=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Xh.store="mutationQueues",Xh.keyPath="userId";var Jh=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Jh.store="mutations",Jh.keyPath="batchId",Jh.userMutationsIndex="userMutationsIndex",Jh.userMutationsKeyPath=["userId","batchId"];var tf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Kh(e)]},t.key=function(t,e,n){return[t,Kh(e),n]},t}();tf.store="documentMutations",tf.PLACEHOLDER=new tf;var ef=function(t,e){this.path=t,this.readTime=e},nf=function(t,e){this.path=t,this.version=e},rf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};rf.store="remoteDocuments",rf.readTimeIndex="readTimeIndex",rf.readTimeIndexPath="readTime",rf.collectionReadTimeIndex="collectionReadTimeIndex",rf.collectionReadTimeIndexPath=["parentPath","readTime"];var of=function(t){this.byteSize=t};of.store="remoteDocumentGlobal",of.key="remoteDocumentGlobalKey";var sf=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};sf.store="targets",sf.keyPath="targetId",sf.queryTargetsIndexName="queryTargetsIndex",sf.queryTargetsKeyPath=["canonicalId","targetId"];var af=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};af.store="targetDocuments",af.keyPath=["targetId","path"],af.documentTargetsIndex="documentTargetsIndex",af.documentTargetsKeyPath=["path","targetId"];var uf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};uf.key="targetGlobalKey",uf.store="targetGlobal";var cf=function(t,e){this.collectionId=t,this.parent=e};cf.store="collectionParents",cf.keyPath=["collectionId","parent"];var lf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};lf.store="clientMetadata",lf.keyPath="clientId";var hf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};hf.store="bundles",hf.keyPath="bundleId";var ff=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ff.store="namedQueries",ff.keyPath="name";var df=Su(Su([],Su(Su([],Su(Su([],Su(Su([],[Xh.store,Jh.store,tf.store,rf.store,sf.store,Zh.store,uf.store,af.store]),[lf.store])),[of.store])),[cf.store])),[hf.store,ff.store]),pf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),mf=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},yf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Pu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),vf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new mf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new _f(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Tf(e.target.error);n.ft.reject(new _f(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new _f(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Nu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Cf(e)},t}(),bf=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(vi.h)())&&ku("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Nu("SimpleDb","Removing database:",t),Sf(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(vi.h)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Eu(this,void 0,void 0,(function(){var e,n=this;return Cu(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Nu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new _f(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ou(Tu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new _f(t,n))},i.onupgradeneeded=function(t){Nu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Nu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Eu(this,void 0,void 0,(function(){var i,o,s,a,u;return Cu(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Cu(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=vf.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),yf.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Nu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),wf=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Sf(this.Pt.delete())},t}(),_f=function(t){function e(e,n){var r=this;return(r=t.call(this,Tu.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return _u(e,t),e}(Ou);function Ef(t){return"IndexedDbTransactionError"===t.name}var Cf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Nu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Nu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Sf(n)},t.prototype.add=function(t){return Nu("SimpleDb","ADD",this.store.name,t,t),Sf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Sf(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Nu("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Nu("SimpleDb","DELETE",this.store.name,t),Sf(this.store.delete(t))},t.prototype.count=function(){return Nu("SimpleDb","COUNT",this.store.name),Sf(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Nu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new yf((function(n,r){e.onerror=function(t){var e=Tf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new yf((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new wf(i),s=e(i.primaryKey,i.value,o);if(s instanceof yf){var a=s.catch((function(t){return o.done(),yf.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return yf.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Sf(t){return new yf((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Tf(t.target.error);n(e)}}))}var If=!1;function Tf(t){var e=bf._t(Object(vi.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ou("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return If||(If=!0,setTimeout((function(){throw r}),0)),r}}return t}var Of=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return _u(e,t),e}(gf);function xf(t,e){var n=Mu(t);return bf.It(n.Mt,e)}var Af=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Ol(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&xl(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&xl(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Bu.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),nh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Uu(this.mutations,t.mutations,(function(t,e){return Nl(t,e)}))&&Uu(this.baseMutations,t.baseMutations,(function(t,e){return Nl(t,e)}))},t}(),Nf=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){ju(e.mutations.length===r.length);for(var i=th(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),kf=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Bu.min()),void 0===o&&(o=Bu.min()),void 0===s&&(s=Xu.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Df=function(t){this.Lt=t};function Rf(t,e){if(e.document)return Nh(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=uc.fromSegments(e.noDocument.path),r=Ff(e.noDocument.readTime),i=Cc.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=uc.fromSegments(e.unknownDocument.path);return r=Ff(e.unknownDocument.version),Cc.newUnknownDocument(o,r)}return Pu()}function Pf(t,e,n){var r=jf(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Ch(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:yh(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new rf(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Lf(e.version);return s=e.hasCommittedMutations,new rf(null,new ef(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Lf(e.version);return new rf(new nf(c,l),null,null,!0,r,i)}return Pu()}function jf(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Mf(t){var e=new Hu(t[0],t[1]);return Bu.fromTimestamp(e)}function Lf(t){var e=t.toTimestamp();return new Yh(e.seconds,e.nanoseconds)}function Ff(t){var e=new Hu(t.seconds,t.nanoseconds);return Bu.fromTimestamp(e)}function Vf(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Dh(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Dh(t.Lt,e)})),o=Hu.fromMillis(e.localWriteTimeMs);return new Af(e.batchId,o,n,i)}function Uf(t){var e,n,r=Ff(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ff(t.lastLimboFreeSnapshotVersion):Bu.min();return void 0!==t.query.documents?(ju(1===(n=t.query).documents.length),e=Jc(Kc(Th(n.documents[0])))):e=function(t){return Jc(jh(t))}(t.query),new kf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Xu.fromBase64String(t.resumeToken))}function qf(t,e){var n,r=Lf(e.snapshotVersion),i=Lf(e.lastLimboFreeSnapshotVersion);n=xc(e.target)?Rh(t.Lt,e.target):Ph(t.Lt,e.target);var o=e.resumeToken.toBase64();return new sf(e.targetId,Tc(e.target),r,o,e.sequenceNumber,i,n)}function Hf(t){var e=jh({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?tl(e,e.limit,"L"):e}var Bf=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return zf(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Ff(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return zf(t).put({bundleId:(n=e).id,createTime:Lf(wh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Gf(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Hf(e.bundledQuery),readTime:Ff(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Gf(t).put(function(t){return{name:t.name,readTime:Lf(wh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function zf(t){return xf(t,hf.store)}function Gf(t){return xf(t,ff.store)}var Kf=function(){function t(){this.Bt=new $f}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),yf.resolve()},t.prototype.getCollectionParents=function(t,e){return yf.resolve(this.Bt.getEntries(e))},t}(),$f=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new $l(Wu.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new $l(Wu.comparator)).toArray()},t}(),Wf=function(){function t(){this.qt=new $f}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Kh(i)};return Qf(t).put(o)}return yf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[qu(e),""],!1,!0);return Qf(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Qh(o.parent))}return n}))},t}();function Qf(t){return xf(t,cf.store)}var Yf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zf=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Xf(t,e,n){var r=t.store(Jh.store),i=t.store(tf.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){ju(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=tf.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return yf.waitFor(o).next((function(){return c}))}function Jf(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Pu();e=t.noDocument}return JSON.stringify(e).length}Zf.DEFAULT_COLLECTION_PERCENTILE=10,Zf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zf.DEFAULT=new Zf(41943040,Zf.DEFAULT_COLLECTION_PERCENTILE,Zf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zf.DISABLED=new Zf(-1,0,0);var td=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return ju(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nd(t).Ot({index:Jh.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=rd(t),s=nd(t);return s.add({}).next((function(a){ju("number"==typeof a);for(var u=new Af(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return kh(t.Lt,e)})),i=n.mutations.map((function(e){return kh(t.Lt,e)}));return new Jh(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new $l((function(t,e){return Vu(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],g=tf.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,tf.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[a]=u.keys()})),yf.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return nd(t).get(e).next((function(t){return t?(ju(t.userId===n.userId),Vf(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?yf.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return nd(t).Ot({index:Jh.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(ju(e.batchId>=r),o=Vf(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return nd(t).Ot({index:Jh.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nd(t).Nt(Jh.userMutationsIndex,n).next((function(t){return t.map((function(t){return Vf(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=tf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return rd(t).Ot({range:i},(function(r,i,s){var a=r[0],u=r[2],c=Qh(r[1]);if(a===n.userId&&e.path.isEqual(c))return nd(t).get(u).next((function(t){if(!t)throw Pu();ju(t.userId===n.userId),o.push(Vf(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new $l(Vu),i=[];return e.forEach((function(e){var o=tf.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=rd(t).Ot({range:s},(function(t,i,o){var s=t[0],a=t[2],u=Qh(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),yf.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=tf.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new $l(Vu);return rd(t).Ot({range:s},(function(t,e,o){var s=t[0],u=t[2],c=Qh(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(nd(t).get(e).next((function(t){if(null===t)throw Pu();ju(t.userId===n.userId),r.push(Vf(n.R,t))})))})),yf.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Xf(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),yf.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return yf.resolve();var r=IDBKeyRange.lowerBound(tf.prefixForUser(e.userId)),i=[];return rd(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Qh(t[1]);i.push(o)}else r.done()})).next((function(){ju(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return ed(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return id(t).get(this.userId).next((function(t){return t||new Xh(e.userId,-1,"")}))},t}();function ed(t,e,n){var r=tf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return rd(t).Ot({range:o,kt:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function nd(t){return xf(t,Jh.store)}function rd(t){return xf(t,tf.store)}function id(t){return xf(t,Xh.store)}var od=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),sd=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new od(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Bu.fromTimestamp(new Hu(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return ad(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return ju(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return ad(t).Ot((function(s,a){var u=Uf(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return yf.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return ad(t).Ot((function(t,n){var r=Uf(n);e(r)}))},t.prototype.Xt=function(t){return ud(t).get(uf.key).next((function(t){return ju(null!==t),t}))},t.prototype.Zt=function(t,e){return ud(t).put(uf.key,e)},t.prototype.te=function(t,e){return ad(t).put(qf(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Tc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ad(t).Ot({range:r,index:sf.queryTargetsIndexName},(function(t,n,r){var o=Uf(n);Oc(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=cd(t);return e.forEach((function(e){var s=Kh(e.path);i.push(o.put(new af(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),yf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=cd(t);return yf.forEach(e,(function(e){var o=Kh(e.path);return yf.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=cd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=cd(t),i=nh();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=Qh(t[1]),o=new uc(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Kh(e.path),r=IDBKeyRange.bound([n],[qu(n)],!1,!0),i=0;return cd(t).Ot({index:af.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return ad(t).get(e).next((function(t){return t?Uf(t):null}))},t}();function ad(t){return xf(t,sf.store)}function ud(t){return xf(t,uf.store)}function cd(t){return xf(t,af.store)}function ld(t){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(e){if(t.code!==Tu.FAILED_PRECONDITION||t.message!==pf)throw t;return Nu("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function hd(t,e){var n=t[1],r=e[1],i=Vu(t[0],e[0]);return 0===i?Vu(n,r):i}var fd=function(){function t(t){this.ne=t,this.buffer=new $l(hd),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();hd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),dd=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Nu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Eu(e,void 0,void 0,(function(){var e;return Cu(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ef(e=n.sent())?(Nu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ld(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),pd=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return yf.resolve(Iu.o);var r=new fd(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Nu("LruGarbageCollector","Garbage collection skipped; disabled"),yf.resolve(Yf)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Nu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Yf):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Nu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Au()<=bi.a.DEBUG&&Nu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),yf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),gd=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new pd(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return md(t,n)},t.prototype.removeReference=function(t,e,n){return md(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return md(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return id(t).$t((function(r){return ed(t,r,e).next((function(t){return t&&(n=!0),yf.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),cd(t).delete([0,Kh(s.path)])}))}));i.push(u)}})).next((function(){return yf.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return md(t,e)},t.prototype.we=function(t,e){var n,r=cd(t),i=Iu.o;return r.Ot({index:af.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Iu.o&&e(new uc(Qh(n)),i),i=s,n=o):i=Iu.o})).next((function(){i!==Iu.o&&e(new uc(Qh(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function md(t,e){return cd(t).put(function(t,e){return new af(0,Kh(t.path),e)}(e,t.currentSequenceNumber))}var yd=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Gu(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return Ku(this.inner)},t}(),vd=function(){function t(){this.changes=new yd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Bu.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Cc.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?yf.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),bd=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Ed(t).put(Cd(e),n)},t.prototype.removeEntry=function(t,e){var n=Ed(t),r=Cd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Ed(t).get(Cd(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Ed(t).get(Cd(e)).next((function(t){return{document:n.ye(e,t),size:Jf(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Yl();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Yl(),i=new zl(uc.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Jf(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return yf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Ed(t).Ot({range:r},(function(t,e,r){for(var s=uc.fromSegments(t);o&&uc.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Yl(),o=e.path.length+1,s={};if(n.isEqual(Bu.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=jf(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=rf.collectionReadTimeIndex}return Ed(t).Ot(s,(function(t,n,s){if(t.length===o){var a=Rf(r.R,n);e.path.isPrefixOf(a.key.path)?il(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new wd(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return _d(t).get(of.key).next((function(t){return ju(!!t),t}))},t.prototype.me=function(t,e){return _d(t).put(of.key,e)},t.prototype.ye=function(t,e){if(e){var n=Rf(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Bu.min()))return n}return Cc.newInvalidDocument(t)},t}(),wd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new yd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return _u(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new $l((function(t,e){return Vu(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Pf(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Jf(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Pf(e.Ie.R,Cc.newNoDocument(o,Bu.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),yf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(vd);function _d(t){return xf(t,of.store)}function Ed(t){return xf(t,rf.store)}function Cd(t){return t.path.toArray()}var Sd=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;ju(n<r&&n>=0&&r<=11);var o=new vf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Zh.store)}(t),function(t){t.createObjectStore(Xh.store,{keyPath:Xh.keyPath}),t.createObjectStore(Jh.store,{keyPath:Jh.keyPath,autoIncrement:!0}).createIndex(Jh.userMutationsIndex,Jh.userMutationsKeyPath,{unique:!0}),t.createObjectStore(tf.store)}(t),Id(t),function(t){t.createObjectStore(rf.store)}(t));var s=yf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(af.store),t.deleteObjectStore(sf.store),t.deleteObjectStore(uf.store)}(t),Id(t)),s=s.next((function(){return function(t){var e=t.store(uf.store),n=new uf(0,0,Bu.min().toTimestamp(),0);return e.put(uf.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Jh.store).Nt().next((function(n){t.deleteObjectStore(Jh.store),t.createObjectStore(Jh.store,{keyPath:Jh.keyPath,autoIncrement:!0}).createIndex(Jh.userMutationsIndex,Jh.userMutationsKeyPath,{unique:!0});var r=e.store(Jh.store),i=n.map((function(t){return r.put(t)}));return yf.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(lf.store,{keyPath:lf.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(of.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(rf.store);e.createIndex(rf.readTimeIndex,rf.readTimeIndexPath,{unique:!1}),e.createIndex(rf.collectionReadTimeIndex,rf.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(hf.store,{keyPath:hf.keyPath})}(t),function(t){t.createObjectStore(ff.store,{keyPath:ff.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(rf.store).Ot((function(t,n){e+=Jf(n)})).next((function(){var n=new of(e);return t.store(of.store).put(of.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Xh.store),r=t.store(Jh.store);return n.Nt().next((function(n){return yf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Jh.userMutationsIndex,i).next((function(r){return yf.forEach(r,(function(r){ju(r.userId===n.userId);var i=Vf(e.R,r);return Xf(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(af.store),n=t.store(rf.store);return t.store(uf.store).get(uf.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new Wu(n),s=function(t){return[0,Kh(t)]}(o);r.push(e.get(s).next((function(n){return n?yf.resolve():function(n){return e.put(new af(0,Kh(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return yf.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(cf.store,{keyPath:cf.keyPath});var n=e.store(cf.store),r=new $f,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Kh(i)})}};return e.store(rf.store).Ot({kt:!0},(function(t,e){var n=new Wu(t);return i(n.popLast())})).next((function(){return e.store(tf.store).Ot({kt:!0},(function(t,e){var n=Qh(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(sf.store);return n.Ot((function(t,r){var i=Uf(r),o=qf(e.R,i);return n.put(o)}))},t}();function Id(t){t.createObjectStore(af.store,{keyPath:af.keyPath}).createIndex(af.documentTargetsIndex,af.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(sf.store,{keyPath:sf.keyPath}).createIndex(sf.queryTargetsIndexName,sf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(uf.store)}var Td="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Od=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Ou(Tu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gd(this,i),this.Le=n+"main",this.R=new Df(u),this.Be=new bf(this.Le,11,new Sd(this.R)),this.qe=new sd(this.referenceDelegate,this.R),this.Ut=new Wf,this.Ue=function(t,e){return new bd(t,e)}(this.R,this.Ut),this.Qe=new Bf,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&ku("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ou(Tu.FAILED_PRECONDITION,Td);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Iu(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Eu(e,void 0,void 0,(function(){return Cu(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Eu(e,void 0,void 0,(function(){return Cu(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Eu(e,void 0,void 0,(function(){return Cu(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Ad(e).put(new lf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Ef(e))return Nu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Nu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return xd(t).get(Zh.key).next((function(t){return yf.resolve(e.tn(t))}))},t.prototype.en=function(t){return Ad(t).delete(this.clientId)},t.prototype.nn=function(){return Eu(this,void 0,void 0,(function(){var t,e,n,r=this;return Cu(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=xf(t,lf.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return yf.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?yf.resolve(!0):xd(t).get(Zh.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Ou(Tu.FAILED_PRECONDITION,Td);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ad(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Nu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Eu(this,void 0,void 0,(function(){var t=this;return Cu(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Zh.store,lf.store],(function(e){var n=new Of(e,Iu.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Ad(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return td.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Nu("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",df,(function(o){return r=new Of(o,i.Ne?i.Ne.next():Iu.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw ku("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new Ou(Tu.FAILED_PRECONDITION,pf);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return xd(t).get(Zh.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ou(Tu.FAILED_PRECONDITION,Td)}))},t.prototype.Ze=function(t){var e=new Zh(this.clientId,this.allowTabSynchronization,Date.now());return xd(t).put(Zh.key,e)},t.yt=function(){return bf.yt()},t.prototype.Xe=function(t){var e=this,n=xd(t);return n.get(Zh.key).next((function(t){return e.tn(t)?(Nu("IndexedDbPersistence","Releasing primary lease."),n.delete(Zh.key)):yf.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ku("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Nu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ku("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){ku("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function xd(t){return xf(t,Zh.store)}function Ad(t){return xf(t,lf.store)}function Nd(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var kd=function(t,e){this.progress=t,this.wn=e},Dd=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return uc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Zc(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new uc(e)).next((function(t){var e=Xl();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Xl();return this.Ut.getCollectionParents(t,i).next((function(s){return yf.forEach(s,(function(s){var a=function(t,e){return new zc(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Cc.newInvalidDocument(c),r=r.insert(c,l)),xl(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){il(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=nh(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Rl&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Rd=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=nh(),i=nh(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Pd=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Bu.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var s=i.Cn(e,o);return($c(e)||Wc(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Au()<=bi.a.DEBUG&&Nu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),rl(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new $l(ol(t));return e.forEach((function(e,r){il(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Au()<=bi.a.DEBUG&&Nu("QueryEngine","Using full collection scan to execute query:",rl(e)),this.Sn.getDocumentsMatchingQuery(t,e,Bu.min())},t}(),jd=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new zl(Vu),this.kn=new yd((function(t){return Tc(t)}),Oc),this.On=Bu.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Dd(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function Md(t,e,n,r){return new jd(t,e,n,r)}function Ld(t,e){return Eu(this,void 0,void 0,(function(){var n,r,i,o;return Cu(this,(function(s){switch(s.label){case 0:return n=Mu(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Dd(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=nh(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Fd(t,e){var n=Mu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=yf.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);ju(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Vd(t){var e=Mu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Ud(t,e){var n=Mu(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return ju(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}}));var a=Yl();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(qd(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Bu.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return yf.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function qd(t,e,n,r,i){var o=nh();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Yl();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Bu.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Nu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Hd(t,e){var n=Mu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Bd(t,e){var n=Mu(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?yf.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new kf(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function zd(t,e,n){return Eu(this,void 0,void 0,(function(){var r,i,o,s;return Cu(this,(function(a){switch(a.label){case 0:r=Mu(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ef(s=a.sent()))throw s;return Nu("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Gd(t,e,n){var r=Mu(t),i=Bu.min(),o=nh();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Mu(t),i=r.kn.get(n);return void 0!==i?yf.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Jc(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Bu.min(),n?o:nh())})).next((function(t){return{documents:t,Bn:o}}))}))}function Kd(t,e){var n=Mu(t),r=Mu(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function $d(t){var e=Mu(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Mu(t),i=Yl(),o=jf(n),s=Ed(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:rf.readTimeIndex,range:a},(function(t,e){var n=Rf(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Mf(o)}}))}(e.$n,t,e.On)})).then((function(t){var n=t.wn;return e.On=t.readTime,n}))}function Wd(t){return Eu(this,void 0,void 0,(function(){var e;return Cu(this,(function(n){return[2,(e=Mu(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Ed(t),n=Bu.min();return e.Ot({index:rf.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Mf(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.On=t}))]}))}))}function Qd(t,e,n,r){return Eu(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f,d;return Cu(this,(function(p){switch(p.label){case 0:for(i=Mu(t),o=nh(),s=Yl(),a=th(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Bd(i,function(t){return Jc(Kc(Wu.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return qd(t,f,s,Bu.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Yd(t,e,n){return void 0===n&&(n=nh()),Eu(this,void 0,void 0,(function(){var r,i;return Cu(this,(function(o){switch(o.label){case 0:return[4,Bd(t,Jc(Hf(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Mu(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=wh(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(Xu.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))}var Zd=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return yf.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:wh(n.createTime)}),yf.resolve()},t.prototype.getNamedQuery=function(t,e){return yf.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Hf(t.bundledQuery),readTime:wh(t.readTime)}}(e)),yf.resolve()},t}(),Xd=function(){function t(){this.Wn=new $l(Jd.Gn),this.zn=new $l(Jd.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Jd(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Jd(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new uc(new Wu([])),r=new Jd(n,t),i=new Jd(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new uc(new Wu([])),n=new Jd(e,t),r=new Jd(e,t+1),i=nh();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Jd(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Jd=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return uc.comparator(t.key,e.key)||Vu(t.ns,e.ns)},t.Hn=function(t,e){return Vu(t.ns,e.ns)||uc.comparator(t.key,e.key)},t}(),tp=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new $l(Jd.Gn)}return t.prototype.checkEmpty=function(t){return yf.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Af(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Jd(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return yf.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return yf.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return yf.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return yf.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return yf.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Jd(e,0),i=new Jd(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),yf.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new $l(Vu);return e.forEach((function(t){var e=new Jd(t,0),i=new Jd(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),yf.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;uc.isDocumentKey(i)||(i=i.child(""));var o=new Jd(new uc(i),0),s=new $l(Vu);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),yf.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ju(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return yf.forEach(e.mutations,(function(i){var o=new Jd(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Jd(e,0),r=this.rs.firstAfterOrEqual(n);return yf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return yf.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),ep=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new zl(uc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return yf.resolve(n?n.document.clone():Cc.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Yl();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Cc.newInvalidDocument(t))})),yf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Yl(),i=new uc(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||il(e,u)&&(r=r.insert(u.key,u.clone()))}return yf.resolve(r)},t.prototype.fs=function(t,e){return yf.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new np(this)},t.prototype.getSize=function(t){return yf.resolve(this.size)},t}(),np=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return _u(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),yf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(vd),rp=function(){function t(t){this.persistence=t,this.ds=new yd((function(t){return Tc(t)}),Oc),this.lastRemoteSnapshotVersion=Bu.min(),this.highestTargetId=0,this.ws=0,this._s=new Xd,this.targetCount=0,this.ys=od.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),yf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return yf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return yf.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),yf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),yf.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new od(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,yf.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),yf.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,yf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),yf.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return yf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return yf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),yf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),yf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),yf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return yf.resolve(n)},t.prototype.containsKey=function(t,e){return yf.resolve(this._s.containsKey(e))},t}(),ip=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Iu(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new rp(this),this.Ut=new Kf,this.Ue=function(t,e){return new ep(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Df(e),this.Qe=new Zd(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new tp(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Nu("MemoryPersistence","Starting transaction:",t);var i=new op(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return yf.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),op=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return _u(e,t),e}(gf),sp=function(){function t(t){this.persistence=t,this.As=new Xd,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Pu()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),yf.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),yf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),yf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yf.forEach(this.vs,(function(r){var i=uc.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return yf.or([function(){return yf.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),ap=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function up(t,e){return"firestore_clients_"+t+"_"+e}function cp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function lp(t,e){return"firestore_targets_"+t+"_"+e}ap.UNAUTHENTICATED=new ap(null),ap.GOOGLE_CREDENTIALS=new ap("google-credentials-uid"),ap.FIRST_PARTY=new ap("first-party-uid");var hp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ou(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(ku("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ou(i.error.code,i.error.message)),o?new t(e,i.state,r):(ku("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),dp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ih(),s=0;i&&s<r.activeTargetIds.length;++s)i=ac(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(ku("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),pp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ku("SharedClientState","Failed to parse online state: "+e),null)},t}(),gp=function(){function t(){this.activeTargetIds=ih()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),mp=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new zl(Vu),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=up(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new gp),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Eu(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Cu(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(up(this.persistenceKey,r)))&&(o=dp.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(lp(this.persistenceKey,t));if(n){var r=fp.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(lp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Nu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Nu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Nu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Nu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void ku("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Eu(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Cu(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Iu.o;if(null!=t)try{var n=JSON.parse(t);ju("number"==typeof n),e=n}catch(t){ku("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Iu.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new hp(this.currentUser,t,e,n),i=cp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=cp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=lp(this.persistenceKey,t),i=new fp(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return dp.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return hp.Vs(new ap(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return fp.Vs(r,e)},t.prototype.js=function(t){return pp.Vs(t)},t.prototype.ii=function(t){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Nu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=ih();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),yp=function(){function t(){this.li=new gp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new gp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),vp=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),bp=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Nu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Nu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),wp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},_p=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Ep=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return _u(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new bu;s.listenOnce(mu.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case gu.NO_ERROR:var e=s.getResponseJson();Nu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case gu.TIMEOUT:Nu("Connection",'RPC "'+t+'" timed out'),o(new Ou(Tu.DEADLINE_EXCEEDED,"Request time out"));break;case gu.HTTP_ERROR:var n=s.getStatus();if(Nu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Tu).indexOf(e)>=0?e:Tu.UNKNOWN}(r.status);o(new Ou(a,r.message))}else o(new Ou(Tu.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ou(Tu.UNAVAILABLE,"Connection failed."));break;default:Pu()}}finally{Nu("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new lu,i=ds(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(vi.m)()||Object(vi.o)()||Object(vi.k)()||Object(vi.l)()||Object(vi.p)()||Object(vi.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Nu("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new _p({Ei:function(t){c?Nu("Connection","Not sending because WebChannel is closed:",t):(u||(Nu("Connection","Opening WebChannel transport."),a.open(),u=!0),Nu("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,vu.EventType.OPEN,(function(){c||Nu("Connection","WebChannel transport opened.")})),h(a,vu.EventType.CLOSE,(function(){c||(c=!0,Nu("Connection","WebChannel transport closed"),l.Vi())})),h(a,vu.EventType.ERROR,(function(t){c||(c=!0,Du("Connection","WebChannel transport errored:",t),l.Vi(new Ou(Tu.UNAVAILABLE,"The operation could not be completed")))})),h(a,vu.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];ju(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Nu("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Ll[t];if(void 0!==e)return Bl(e)}(i),s=r.message;void 0===o&&(o=Tu.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Ou(o,s)),a.close()}else Nu("Connection","WebChannel received:",n),l.Si(n)}})),h(i,yu.STAT_EVENT,(function(t){10===t.stat?Nu("Connection","Detected buffering proxy"):11===t.stat&&Nu("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Nu("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Nu("RestConnection","Received: ",t),t}),(function(e){throw Du("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+wp[t]},t}());function Cp(){return"undefined"!=typeof window?window:null}function Sp(){return"undefined"!=typeof document?document:null}function Ip(t){return new mh(t,!0)}var Tp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Nu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Op=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Tp(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Tu.RESOURCE_EXHAUSTED?(ku(e.toString()),ku("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Tu.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Ou(Tu.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Eu(t,void 0,void 0,(function(){return Cu(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Nu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Nu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),xp=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return _u(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Pu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(ju(void 0===e||"string"==typeof e),Xu.fromBase64String(e||"")):(ju(void 0===e||e instanceof Uint8Array),Xu.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Tu.UNKNOWN:Bl(t.code);return new Ou(e,t.message||"")}(a);n=new ch(r,i,o,s||null)}else if("documentChange"in e){i=Sh(t,(r=e.documentChange).document.name),o=wh(r.document.updateTime);var a=new _c({mapValue:{fields:r.document.fields}}),u=(s=Cc.newFoundDocument(i,o,a),r.targetIds||[]);n=new ah(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Sh(t,(r=e.documentDelete).document),o=r.readTime?wh(r.readTime):Bu.min(),a=Cc.newNoDocument(i,o),n=new ah([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Sh(t,(r=e.documentRemove).document),n=new ah([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Pu();var c=e.filter;i=new ql(r=c.count||0),n=new uh(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Bu.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Bu.min():e.readTime?wh(e.readTime):Bu.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Oh(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=xc(r)?{documents:Rh(t,r)}:{query:Ph(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=vh(t,e.resumeToken):e.snapshotVersion.compareTo(Bu.min())>0&&(n.readTime=yh(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pu()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Oh(this.R),e.removeTarget=t,this.cr(e)},e}(Op),Ap=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return _u(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(ju(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(ju(void 0!==e),t.map((function(t){return function(t,e){var n=wh(t.updateTime?t.updateTime:e);return n.isEqual(Bu.min())&&(n=wh(e)),new Cl(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=wh(t.commitTime);return this.listener.Tr(n,e)}return ju(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Oh(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return kh(e.R,t)}))};this.cr(n)},e}(Op),Np=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return _u(e,t),e.prototype.br=function(){if(this.Rr)throw new Ou(Tu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw t.code===Tu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw t.code===Tu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.terminate=function(){this.Rr=!1},e}((function(){})),kp=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ku(e),this.Vr=!1):Nu("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Dp=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Eu(o,void 0,void 0,(function(){return Cu(this,(function(t){switch(t.label){case 0:return qp(this)?(Nu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Eu(this,void 0,void 0,(function(){var e;return Cu(this,(function(n){switch(n.label){case 0:return(e=Mu(t)).$r.add(4),[4,Pp(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Rp(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new kp(n,r)};function Rp(t){return Eu(this,void 0,void 0,(function(){var e,n;return Cu(this,(function(r){switch(r.label){case 0:if(!qp(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Pp(t){return Eu(this,void 0,void 0,(function(){var e,n;return Cu(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function jp(t,e){var n=Mu(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Up(n)?Vp(n):ng(n).er()&&Lp(n,e))}function Mp(t,e){var n=Mu(t),r=ng(n);n.Or.delete(e),r.er()&&Fp(n,e),0===n.Or.size&&(r.er()?r.ir():qp(n)&&n.Br.set("Unknown"))}function Lp(t,e){t.qr.U(e.targetId),ng(t).mr(e)}function Fp(t,e){t.qr.U(e),ng(t).yr(e)}function Vp(t){t.qr=new hh({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),ng(t).start(),t.Br.Sr()}function Up(t){return qp(t)&&!ng(t).tr()&&t.Or.size>0}function qp(t){return 0===Mu(t).$r.size}function Hp(t){t.qr=void 0}function Bp(t){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(e){return t.Or.forEach((function(e,n){Lp(t,e)})),[2]}))}))}function zp(t,e){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(n){return Hp(t),Up(t)?(t.Br.Nr(e),Vp(t)):t.Br.set("Unknown"),[2]}))}))}function Gp(t,e,n){return Eu(this,void 0,void 0,(function(){var r,i,o;return Cu(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof ch&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Eu(this,void 0,void 0,(function(){var n,r,i,o;return Cu(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Nu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Kp(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ah?t.qr.X(e):e instanceof uh?t.qr.rt(e):t.qr.et(e),n.isEqual(Bu.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Vd(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Xu.EMPTY_BYTE_STRING,n.snapshotVersion)),Fp(t,e);var r=new kf(n.target,e,1,n.sequenceNumber);Lp(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Nu("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Kp(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Kp(t,e,n){return Eu(this,void 0,void 0,(function(){var r=this;return Cu(this,(function(i){switch(i.label){case 0:if(!Ef(e))throw e;return t.$r.add(1),[4,Pp(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Vd(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Eu(r,void 0,void 0,(function(){return Cu(this,(function(e){switch(e.label){case 0:return Nu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Rp(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function $p(t,e){return e().catch((function(n){return Kp(t,n,e)}))}function Wp(t){return Eu(this,void 0,void 0,(function(){var e,n,r,i,o;return Cu(this,(function(s){switch(s.label){case 0:e=Mu(t),n=rg(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return qp(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Hd(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=rg(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Kp(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Qp(e)&&Yp(e),[2]}}))}))}function Qp(t){return qp(t)&&!rg(t).tr()&&t.kr.length>0}function Yp(t){rg(t).start()}function Zp(t){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(e){return rg(t).Ar(),[2]}))}))}function Xp(t){return Eu(this,void 0,void 0,(function(){var e,n,r;return Cu(this,(function(i){for(e=rg(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function Jp(t,e,n){return Eu(this,void 0,void 0,(function(){var r,i;return Cu(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Nf.from(r,e,n),[4,$p(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Wp(t)];case 2:return o.sent(),[2]}}))}))}function tg(t,e){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(n){switch(n.label){case 0:return e&&rg(t).pr?[4,function(t,e){return Eu(this,void 0,void 0,(function(){var n,r;return Cu(this,(function(i){switch(i.label){case 0:return Hl(r=e.code)&&r!==Tu.ABORTED?(n=t.kr.shift(),rg(t).sr(),[4,$p(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Wp(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Qp(t)&&Yp(t),[2]}}))}))}function eg(t,e){return Eu(this,void 0,void 0,(function(){var n;return Cu(this,(function(r){switch(r.label){case 0:return n=Mu(t),e?(n.$r.delete(2),[4,Rp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Pp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ng(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Mu(t);return r.br(),new xp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Bp.bind(null,t),Ri:zp.bind(null,t),_r:Gp.bind(null,t)}),t.Mr.push((function(n){return Eu(e,void 0,void 0,(function(){return Cu(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Up(t)?Vp(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Hp(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function rg(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Mu(t);return r.br(),new Ap(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Zp.bind(null,t),Ri:tg.bind(null,t),Ir:Xp.bind(null,t),Tr:Jp.bind(null,t)}),t.Mr.push((function(n){return Eu(e,void 0,void 0,(function(){return Cu(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Wp(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Nu("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr}var ig=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new mf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ou(Tu.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function og(t,e){if(ku("AsyncQueue",e+": "+t),Ef(t))return new Ou(Tu.UNAVAILABLE,e+": "+t);throw t}var sg=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||uc.comparator(e.key,n.key)}:function(t,e){return uc.comparator(t.key,e.key)},this.keyedMap=Xl(),this.sortedSet=new zl(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),ag=function(){function t(){this.Kr=new zl(uc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Pu():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),ug=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,sg.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&el(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),cg=function(){this.Wr=void 0,this.listeners=[]},lg=function(){this.queries=new yd((function(t){return nl(t)}),el),this.onlineState="Unknown",this.Gr=new Set};function hg(t,e){return Eu(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Cu(this,(function(c){switch(c.label){case 0:if(n=Mu(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new cg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=og(a,"Initialization of query '"+rl(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&gg(n),[2]}}))}))}function fg(t,e){return Eu(this,void 0,void 0,(function(){var n,r,i,o,s;return Cu(this,(function(a){return n=Mu(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function dg(t,e){for(var n=Mu(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&gg(n)}function pg(t,e,n){var r=Mu(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function gg(t){t.Gr.forEach((function(t){t.next()}))}var mg=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ug(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=ug.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),yg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),vg=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Sh(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Nh(this.R,t.document,!1):Cc.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return wh(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new vg(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||nh()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Eu(this,void 0,void 0,(function(){var t,e,n,r,i;return Cu(this,(function(o){switch(o.label){case 0:return[4,Qd(this.localStore,new vg(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Yd(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new kd(Object.assign({},this.progress),t))]}}))}))}}();var bg=function(t){this.key=t},wg=function(t){this.key=t},_g=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=nh(),this.mutatedKeys=nh(),this.lo=ol(t),this.fo=new sg(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new ag,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=$c(this.query)&&i.size===this.query.limit?i.last():null,c=Wc(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=il(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),$c(this.query)||Wc(this.query))for(;s.size>this.query.limit;){var l=$c(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pu()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new ug(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ag,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=nh(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new wg(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new bg(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=nh();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return ug.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Eg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Cg=function(t){this.key=t,this.bo=!1},Sg=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new yd((function(t){return nl(t)}),el),this.Vo=new Map,this.So=new Set,this.Do=new zl(uc.comparator),this.Co=new Map,this.No=new Xd,this.xo={},this.Fo=new Map,this.ko=od.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Ig(t,e){return Eu(this,void 0,void 0,(function(){var n,r,i,o,s;return Cu(this,(function(a){switch(a.label){case 0:return n=tm(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Bd(n.localStore,Jc(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Tg(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&jp(n.remoteStore,o),a.label=4;case 4:return[2,r]}}))}))}function Tg(t,e,n,r){return Eu(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Cu(this,(function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Eu(this,void 0,void 0,(function(){var i,o,s;return Cu(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Gd(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Vg(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,Gd(t.localStore,e,!0)];case 1:return i=l.sent(),o=new _g(e,i.Bn),s=o._o(i.documents),a=sh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Vg(t,n,u.To),c=new Eg(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Og(t,e){return Eu(this,void 0,void 0,(function(){var n,r,i;return Cu(this,(function(o){switch(o.label){case 0:return n=Mu(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!el(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,zd(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Mp(n.remoteStore,r.targetId),Lg(n,r.targetId)})).catch(ld)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Lg(n,r.targetId),[4,zd(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function xg(t,e,n){return Eu(this,void 0,void 0,(function(){var r,i,o,s;return Cu(this,(function(a){switch(a.label){case 0:r=em(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Mu(t),i=Hu.now(),o=e.reduce((function(t,e){return t.add(e.key)}),nh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Al(c,n.get(c.key));null!=l&&s.push(new Rl(c.key,l,Ec(l.toProto().mapValue),Sl.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new zl(Vu)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Hg(r,i.changes)];case 3:return a.sent(),[4,Wp(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=og(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Ag(t,e){return Eu(this,void 0,void 0,(function(){var n,r;return Cu(this,(function(i){switch(i.label){case 0:n=Mu(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ud(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(ju(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?ju(r.bo):t.removedDocuments.size>0&&(ju(r.bo),r.bo=!1))})),[4,Hg(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ld(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ng(t,e,n){var r=Mu(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Mu(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&gg(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kg(t,e,n){return Eu(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Cu(this,(function(c){switch(c.label){case 0:return(r=Mu(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new zl(uc.comparator)).insert(o,Cc.newNoDocument(o,Bu.min())),a=nh().add(o),u=new oh(Bu.min(),new Map,new $l(Vu),s,a),[4,Ag(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),qg(r),[3,4];case 2:return[4,zd(r.localStore,e,!1).then((function(){return Lg(r,e,n)})).catch(ld)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Dg(t,e){return Eu(this,void 0,void 0,(function(){var n,r,i;return Cu(this,(function(o){switch(o.label){case 0:n=Mu(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Fd(n.localStore,e)];case 2:return i=o.sent(),Mg(n,r,null),jg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Hg(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ld(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Rg(t,e,n){return Eu(this,void 0,void 0,(function(){var r,i;return Cu(this,(function(o){switch(o.label){case 0:r=Mu(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Mu(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return ju(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Mg(r,e,n),jg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Hg(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ld(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Pg(t,e){return Eu(this,void 0,void 0,(function(){var n,r,i,o,s;return Cu(this,(function(a){switch(a.label){case 0:qp((n=Mu(t)).remoteStore)||Nu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Mu(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=og(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function jg(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Mg(t,e,n){var r=Mu(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Lg(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Fg(t,e)}))}function Fg(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Mp(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),qg(t))}function Vg(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof bg?(t.No.addReference(o.key,e),Ug(t,o)):o instanceof wg?(Nu("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Fg(t,o.key)):Pu()}}function Ug(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Nu("SyncEngine","New document in limbo: "+n),t.So.add(r),qg(t))}function qg(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new uc(Wu.fromString(e)),r=t.ko.next();t.Co.set(r,new Cg(n)),t.Do=t.Do.insert(n,r),jp(t.remoteStore,new kf(Jc(Kc(n.path)),r,2,Iu.o))}}function Hg(t,e,n){return Eu(this,void 0,void 0,(function(){var r,i,o,s;return Cu(this,(function(a){switch(a.label){case 0:return r=Mu(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.$o(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Rd.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Eu(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Cu(this,(function(l){switch(l.label){case 0:n=Mu(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return yf.forEach(e,(function(e){return yf.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return yf.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Ef(r=l.sent()))throw r;return Nu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Bg(t,e){return Eu(this,void 0,void 0,(function(){var n,r;return Cu(this,(function(i){switch(i.label){case 0:return(n=Mu(t)).currentUser.isEqual(e)?[3,3]:(Nu("SyncEngine","User change. New user:",e.toKey()),[4,Ld(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new Ou(Tu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Hg(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function zg(t,e){var n=Mu(t),r=n.Co.get(e);if(r&&r.bo)return nh().add(r.key);var i=nh(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Gg(t,e){return Eu(this,void 0,void 0,(function(){var n,r,i;return Cu(this,(function(o){switch(o.label){case 0:return[4,Gd((n=Mu(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Vg(n,e.targetId,i.To),i)]}}))}))}function Kg(t){return Eu(this,void 0,void 0,(function(){var e;return Cu(this,(function(n){return[2,$d((e=Mu(t)).localStore).then((function(t){return Hg(e,t)}))]}))}))}function $g(t,e,n,r){return Eu(this,void 0,void 0,(function(){var i,o;return Cu(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Mu(t),r=Mu(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):yf.resolve(null)}))}))}((i=Mu(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Wp(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Mg(i,e,r||null),jg(i,e),function(t,e){Mu(Mu(t)._n).Gt(e)}(i.localStore,e)):Pu(),s.label=4;case 4:return[4,Hg(i,o)];case 5:return s.sent(),[3,7];case 6:Nu("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Wg(t,e){return Eu(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Cu(this,(function(c){switch(c.label){case 0:return tm(n=Mu(t)),em(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Qg(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,eg(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)jp(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then((function(){return Lg(n,e),zd(n.localStore,e,!0)})),Mp(n.remoteStore,e)})),[4,u]);case 4:return c.sent(),[4,Qg(n,a)];case 5:return c.sent(),function(t){var e=Mu(t);e.Co.forEach((function(t,n){Mp(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new zl(uc.comparator)}(n),n.Oo=!1,[4,eg(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Qg(t,e,n){return Eu(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Cu(this,(function(g){switch(g.label){case 0:n=Mu(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Bd(n.localStore,Jc(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Gg(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Kd(n.localStore,a)];case 8:return p=g.sent(),[4,Bd(n.localStore,p)];case 9:return u=g.sent(),[4,Tg(n,Yg(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Yg(t){return Gc(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Zg(t){var e=Mu(t);return Mu(Mu(e.localStore).persistence).fn()}function Xg(t,e,n,r){return Eu(this,void 0,void 0,(function(){var i,o,s;return Cu(this,(function(a){switch(a.label){case 0:return(i=Mu(t)).Oo?(Nu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,$d(i.localStore)];case 3:return o=a.sent(),s=oh.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Hg(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,zd(i.localStore,e,!0)];case 6:return a.sent(),Lg(i,e,r),[3,8];case 7:Pu(),a.label=8;case 8:return[2]}}))}))}function Jg(t,e,n){return Eu(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return Cu(this,(function(f){switch(f.label){case 0:if(!(r=tm(t)).Oo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Nu("SyncEngine","Adding an already active target "+s),[3,5]):[4,Kd(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Bd(r.localStore,a)];case 3:return u=f.sent(),[4,Tg(r,Yg(a),u.targetId,!1)];case 4:f.sent(),jp(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Cu(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,zd(r.localStore,t,!1).then((function(){Mp(r.remoteStore,t),Lg(r,t)})).catch(ld)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function tm(t){var e=Mu(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ag.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kg.bind(null,e),e.vo._r=dg.bind(null,e.eventManager),e.vo.Mo=pg.bind(null,e.eventManager),e}function em(t){var e=Mu(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rg.bind(null,e),e}var nm=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(e){switch(e.label){case 0:return this.R=Ip(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Md(this.persistence,new Pd,t.initialUser,this.R)},t.prototype.qo=function(t){return new ip(sp.bs,this.R)},t.prototype.Bo=function(t){return new yp},t.prototype.terminate=function(){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),rm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return _u(e,t),e.prototype.initialize=function(e){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Wd(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,em(this.Ko.syncEngine)];case 4:return n.sent(),[4,Wp(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return Md(this.persistence,new Pd,t.initialUser,this.R)},e.prototype.Uo=function(t){return new dd(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Nd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Zf.withCacheSize(this.cacheSizeBytes):Zf.DEFAULT;return new Od(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Cp(),Sp(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new yp},e}(nm),im=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return _u(e,t),e.prototype.initialize=function(e){return Eu(this,void 0,void 0,(function(){var n,r=this;return Cu(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof mp?(this.sharedClientState.syncEngine={ui:$g.bind(null,n),ai:Xg.bind(null,n),hi:Jg.bind(null,n),fn:Zg.bind(null,n),ci:Kg.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Eu(r,void 0,void 0,(function(){return Cu(this,(function(e){switch(e.label){case 0:return[4,Wg(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Cp();if(!mp.yt(e))throw new Ou(Tu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Nd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new mp(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(rm),om=function(){function t(){}return t.prototype.initialize=function(t,e){return Eu(this,void 0,void 0,(function(){var n=this;return Cu(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Ng(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Bg.bind(null,this.syncEngine),[4,eg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new lg},t.prototype.createDatastore=function(t){var e=Ip(t.databaseInfo.databaseId),n=new Ep(t.databaseInfo);return function(t,e,n){return new Np(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Ng(s.syncEngine,t,0)},o=bp.yt()?new bp:new vp,new Dp(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Sg(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Eu(this,void 0,void 0,(function(){var e;return Cu(this,(function(n){switch(n.label){case 0:return e=Mu(t),Nu("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Pp(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),sm=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),am=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new mf,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Eu(this,void 0,void 0,(function(){var t,e,n,r;return Cu(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new yg(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Eu(this,void 0,void 0,(function(){var t,e;return Cu(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Eu(this,void 0,void 0,(function(){var e;return Cu(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Eu(this,void 0,void 0,(function(){var t,e;return Cu(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Eu(this,void 0,void 0,(function(){var e,n=this;return Cu(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ou(Tu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Eu(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Cu(this,(function(u){switch(u.label){case 0:return n=Mu(t),r=Oh(n.R)+"/documents",i={documents:e.map((function(t){return Ch(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){ju(!!e.found);var n=Sh(t,e.found.name),r=wh(e.found.updateTime),i=new _c({mapValue:{fields:e.found.fields}});return Cc.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){ju(!!e.missing),ju(!!e.readTime);var n=Sh(t,e.missing),r=wh(e.readTime);return Cc.newNoDocument(n,r)}(t,e):Pu()}(n.R,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());ju(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Vl(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Eu(this,void 0,void 0,(function(){var t,e=this;return Cu(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=uc.fromPath(n);e.mutations.push(new Ul(r,e.precondition(r)))})),[4,function(t,e){return Eu(this,void 0,void 0,(function(){var n,r,i;return Cu(this,(function(o){switch(o.label){case 0:return n=Mu(t),r=Oh(n.R)+"/documents",i={writes:e.map((function(t){return kh(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Pu();e=Bu.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ou(Tu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Sl.updateTime(e):Sl.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Bu.min()))throw new Ou(Tu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sl.updateTime(e)}return Sl.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),um=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Tp(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Eu(t,void 0,void 0,(function(){var t,e,n=this;return Cu(this,(function(r){return t=new am(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!oc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Hl(e)}return!1},t}(),cm=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ap.UNAUTHENTICATED,this.clientId=Fu.u(),this.credentialListener=function(){},this.receivedInitialUser=new mf,this.credentials.setChangeListener((function(t){Nu("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ou(Tu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new mf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Eu(t,void 0,void 0,(function(){var t,n;return Cu(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=og(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function lm(t,e){return Eu(this,void 0,void 0,(function(){var n,r,i=this;return Cu(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Nu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return Eu(i,void 0,void 0,(function(){return Cu(this,(function(t){switch(t.label){case 0:return[4,Ld(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function hm(t,e){return Eu(this,void 0,void 0,(function(){var n,r;return Cu(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,fm(t)];case 1:return n=i.sent(),Nu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Eu(this,void 0,void 0,(function(){var n,r;return Cu(this,(function(i){switch(i.label){case 0:return(n=Mu(t)).asyncQueue.verifyOperationInProgress(),Nu("RemoteStore","RemoteStore received new credentials"),r=qp(n),n.$r.add(3),[4,Pp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Rp(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function fm(t){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Nu("FirestoreClient","Using default OfflineComponentProvider"),[4,lm(t,new nm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function dm(t){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Nu("FirestoreClient","Using default OnlineComponentProvider"),[4,hm(t,new om)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function pm(t){return fm(t).then((function(t){return t.persistence}))}function gm(t){return fm(t).then((function(t){return t.localStore}))}function mm(t){return dm(t).then((function(t){return t.remoteStore}))}function ym(t){return dm(t).then((function(t){return t.syncEngine}))}function vm(t){return Eu(this,void 0,void 0,(function(){var e,n;return Cu(this,(function(r){switch(r.label){case 0:return[4,dm(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Ig.bind(null,e.syncEngine),n.onUnlisten=Og.bind(null,e.syncEngine),n)]}}))}))}function bm(t,e,n){var r=this;void 0===n&&(n={});var i=new mf;return t.asyncQueue.enqueueAndForget((function(){return Eu(r,void 0,void 0,(function(){var r;return Cu(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new sm({next:function(o){e.enqueueAndForget((function(){return fg(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ou(Tu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ou(Tu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new mg(Kc(n.path),o,{includeMetadataChanges:!0,so:!0});return hg(t,s)},[4,vm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function wm(t,e,n){var r=this;void 0===n&&(n={});var i=new mf;return t.asyncQueue.enqueueAndForget((function(){return Eu(r,void 0,void 0,(function(){var r;return Cu(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new sm({next:function(n){e.enqueueAndForget((function(){return fg(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Ou(Tu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new mg(n,o,{includeMetadataChanges:!0,so:!0});return hg(t,s)},[4,vm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var _m=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},Em=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Cm=new Map,Sm=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Im=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(ap.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Tm=function(){function t(t){var e=this;this.oc=null,this.currentUser=ap.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Nu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ju("string"==typeof n.accessToken),new Sm(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return ju(null===t||"string"==typeof t),new ap(t)},t}(),Om=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=ap.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),xm=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Om(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(ap.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Am(t,e,n){if(!n)throw new Ou(Tu.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Nm(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ou(Tu.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function km(t,e,n,r){if(!0===e&&!0===r)throw new Ou(Tu.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Dm(t){if(!uc.isDocumentKey(t))throw new Ou(Tu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Rm(t){if(uc.isDocumentKey(t))throw new Ou(Tu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Pm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Pu()}function jm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ou(Tu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Pm(t);throw new Ou(Tu.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Mm(t,e){if(e<=0)throw new Ou(Tu.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Lm=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ou(Tu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ou(Tu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,km("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Fm=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Lm({}),this._settingsFrozen=!1,t instanceof Em?(this._databaseId=t,this._credentials=new Im):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ou(Tu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Em(t.options.projectId)}(t),this._credentials=new Tm(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ou(Tu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ou(Tu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lm(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Im;switch(t.type){case"gapi":var e=t.client;return ju(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new xm(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ou(Tu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Cm.get(this))&&(Nu("ComponentProvider","Removing Datastore"),Cm.delete(this),t.terminate()),Promise.resolve();var t},t}(),Vm=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new qm(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Um=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),qm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Kc(r))||this)._path=r,i.type="collection",i}return _u(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Vm(this.firestore,null,new uc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Um);function Hm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(vi.g)(t),Am("collection","path",e),t instanceof Fm)return Rm(n=Wu.fromString.apply(Wu,Su([e],r))),new qm(t,null,n);if(!(t instanceof Vm||t instanceof qm))throw new Ou(Tu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Rm(n=Wu.fromString.apply(Wu,Su([t.path],r)).child(Wu.fromString(e))),new qm(t.firestore,null,n)}function Bm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(vi.g)(t),1===arguments.length&&(e=Fu.u()),Am("doc","path",e),t instanceof Fm)return Dm(n=Wu.fromString.apply(Wu,Su([e],r))),new Vm(t,null,new uc(n));if(!(t instanceof Vm||t instanceof qm))throw new Ou(Tu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dm(n=t._path.child(Wu.fromString.apply(Wu,Su([e],r)))),new Vm(t.firestore,t instanceof qm?t._converter:null,new uc(n))}function zm(t,e){return t=Object(vi.g)(t),e=Object(vi.g)(e),(t instanceof Vm||t instanceof qm)&&(e instanceof Vm||e instanceof qm)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Gm(t,e){return t=Object(vi.g)(t),e=Object(vi.g)(e),t instanceof Um&&e instanceof Um&&t.firestore===e.firestore&&el(t._query,e._query)&&t._converter===e._converter}var Km=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Tp(this,"async_queue_retry"),this.Ec=function(){var e=Sp();e&&Nu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Sp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Sp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return Eu(this,void 0,void 0,(function(){var t,e=this;return Cu(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ef(t=n.sent()))throw t;return Nu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,ku("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=ig.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Pu()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Eu(this,void 0,void 0,(function(){var t;return Cu(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function $m(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new mf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Wm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Km,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return _u(e,t),e.prototype._terminate=function(){return this._firestoreClient||Ym(this),this._firestoreClient.terminate()},e}(Fm);function Qm(t){return t._firestoreClient||Ym(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ym(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new _m(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new cm(t._credentials,t._queue,r)}function Zm(t,e,n){var r=this,i=new mf;return t.asyncQueue.enqueue((function(){return Eu(r,void 0,void 0,(function(){var r;return Cu(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,lm(t,n)];case 1:return o.sent(),[4,hm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Tu.FAILED_PRECONDITION||t.code===Tu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Xm(t){if(t._initialized||t._terminated)throw new Ou(Tu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Jm=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ou(Tu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yu(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),ty=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Xu.fromBase64String(e))}catch(e){throw new Ou(Tu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Xu.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ey=function(t){this._methodName=t},ny=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ou(Tu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ou(Tu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Vu(this._lat,t._lat)||Vu(this._long,t._long)},t}(),ry=/^__.*__$/,iy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Rl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Dl(t,this.data,e,this.fieldTransforms)},t}(),oy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Rl(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function sy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pu()}}var ay=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Oy(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(sy(this.Dc)&&ry.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),uy=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Ip(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new ay({Dc:t,methodName:e,Lc:n,path:Yu.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function cy(t){var e=t._freezeSettings(),n=Ip(t._databaseId);return new uy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ly(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);Cy("Data must be an object, but it was:",s,r);var a,u,c=_y(r,s);if(o.merge)a=new Zu(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Sy(e,f[h],n);if(!s.contains(d))throw new Ou(Tu.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");xy(l,d)||l.push(d)}a=new Zu(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new iy(new _c(c),a,u)}var hy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _u(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ey);function fy(t,e,n){return new ay({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var dy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _u(e,t),e.prototype._toFieldTransform=function(t){return new El(t.path,new pl)},e.prototype.isEqual=function(t){return t instanceof e},e}(ey),py=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return _u(e,t),e.prototype._toFieldTransform=function(t){var e=fy(this,t,!0),n=this.qc.map((function(t){return wy(t,e)})),r=new gl(n);return new El(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ey),gy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return _u(e,t),e.prototype._toFieldTransform=function(t){var e=fy(this,t,!0),n=this.qc.map((function(t){return wy(t,e)})),r=new yl(n);return new El(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ey),my=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return _u(e,t),e.prototype._toFieldTransform=function(t){var e=new bl(t.R,cl(t.R,this.Uc));return new El(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ey);function yy(t,e,n,r){var i=t.Bc(1,e,n);Cy("Data must be an object, but it was:",i,r);var o=[],s=_c.empty();Gu(r,(function(t,r){var a=Ty(e,t,n);r=Object(vi.g)(r);var u=i.kc(a);if(r instanceof hy)o.push(a);else{var c=wy(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Zu(o);return new oy(s,a,i.fieldTransforms)}function vy(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[Sy(e,r,n)],u=[i];if(o.length%2!=0)throw new Ou(Tu.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Sy(e,o[c])),u.push(o[c+1]);for(var l=[],h=_c.empty(),f=a.length-1;f>=0;--f)if(!xy(l,a[f])){var d=a[f],p=u[f];p=Object(vi.g)(p);var g=s.kc(d);if(p instanceof hy)l.push(d);else{var m=wy(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new Zu(l);return new oy(h,y,s.fieldTransforms)}function by(t,e,n,r){return void 0===r&&(r=!1),wy(n,t.Bc(r?4:3,e))}function wy(t,e){if(Ey(t=Object(vi.g)(t)))return Cy("Unsupported field value:",e,t),_y(t,e);if(t instanceof ey)return function(t,e){if(!sy(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=wy(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(vi.g)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return cl(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Hu.fromDate(t);return{timestampValue:yh(e.R,n)}}if(t instanceof Hu)return n=new Hu(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:yh(e.R,n)};if(t instanceof ny)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ty)return{bytesValue:vh(e.R,t._byteString)};if(t instanceof Vm){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:_h(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Pm(t))}(t,e)}function _y(t,e){var n={};return Ku(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gu(t,(function(t,r){var i=wy(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ey(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Hu||t instanceof ny||t instanceof ty||t instanceof Vm||t instanceof ey)}function Cy(t,e,n){if(!Ey(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Pm(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function Sy(t,e,n){if((e=Object(vi.g)(e))instanceof Jm)return e._internalPath;if("string"==typeof e)return Ty(t,e);throw Oy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Iy=new RegExp("[~\\*/\\[\\]]");function Ty(t,e,n){if(e.search(Iy)>=0)throw Oy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Jm.bind.apply(Jm,Su([void 0],e.split(".")))))._internalPath}catch(r){throw Oy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Oy(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Ou(Tu.INVALID_ARGUMENT,(a+=". ")+t+u)}function xy(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ay=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Vm(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Ny(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(ky("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Ny=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _u(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ay);function ky(t,e){return"string"==typeof e?Ty(t,e):e instanceof Jm?e._internalPath:e._delegate._internalPath}var Dy=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ry=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return _u(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Py(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(ky("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Ay),Py=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _u(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Ry),jy=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Dy(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Py(n._firestore,n._userDataWriter,r.key,r,new Dy(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ou(Tu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Py(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Dy(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Py(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Dy(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:My(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function My(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pu()}}function Ly(t,e){return t instanceof Ry&&e instanceof Ry?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof jy&&e instanceof jy&&t._firestore===e._firestore&&Gm(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Fy(t){if(Wc(t)&&0===t.explicitOrderBy.length)throw new Ou(Tu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vy=function(){};function Uy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var qy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return _u(e,t),e.prototype._apply=function(t){var e=cy(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ou(Tu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Wy(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push($y(r,t,l[c]));a={arrayValue:{values:u}}}else a=$y(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Wy(s,o),a=by(n,"where",s,"in"===o||"not-in"===o);var h=Ac.create(i,o,a);return function(t,e){if(e.g()){var n=Yc(t);if(null!==n&&!n.isEqual(e.field))throw new Ou(Tu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Qc(t);null!==r&&Qy(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ou(Tu.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Um(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Vy),Hy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return _u(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ou(Tu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ou(Tu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Uc(e,n);return function(t,e){if(null===Qc(t)){var n=Yc(t);null!==n&&Qy(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Um(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new zc(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Vy),By=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return _u(e,t),e.prototype._apply=function(t){return new Um(t.firestore,t._converter,tl(t._query,this.Gc,this.zc))},e}(Vy),zy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return _u(e,t),e.prototype._apply=function(t){var e=Ky(t,this.type,this.Hc,this.Jc);return new Um(t.firestore,t._converter,function(t,e){return new zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Vy),Gy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return _u(e,t),e.prototype._apply=function(t){var e=Ky(t,this.type,this.Hc,this.Jc);return new Um(t.firestore,t._converter,function(t,e){return new zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Vy);function Ky(t,e,n,r){if(n[0]=Object(vi.g)(n[0]),n[0]instanceof Ay)return function(t,e,n,r,i){if(!r)throw new Ou(Tu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Xc(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(gc(e,r.key));else{var c=r.data.field(u.field);if(rc(c))throw new Ou(Tu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ou(Tu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Fc(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=cy(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Ou(Tu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Ou(Tu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Zc(t)&&-1!==c.indexOf("/"))throw new Ou(Tu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Wu.fromString(c));if(!uc.isDocumentKey(l))throw new Ou(Tu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new uc(l);a.push(gc(e,h))}else{var f=by(n,r,c);a.push(f)}}return new Fc(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function $y(t,e,n){if("string"==typeof(n=Object(vi.g)(n))){if(""===n)throw new Ou(Tu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zc(e)&&-1!==n.indexOf("/"))throw new Ou(Tu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Wu.fromString(n));if(!uc.isDocumentKey(r))throw new Ou(Tu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return gc(t,new uc(r))}if(n instanceof Vm)return gc(t,n._key);throw new Ou(Tu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Pm(n)+".")}function Wy(t,e){if(!Array.isArray(t)||0===t.length)throw new Ou(Tu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ou(Tu.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Qy(t,e,n){if(!n.isEqual(e))throw new Ou(Tu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Yy=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),cc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ec(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(nc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Pu()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Gu(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new ny(ec(t.latitude),ec(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return rc(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ic(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=tc(t);return new Hu(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Wu.fromString(t);ju(Gh(n));var r=new Em(n.get(1),n.get(3)),i=new uc(n.popFirst(5));return r.isEqual(e)||ku("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Zy(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Xy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return _u(e,t),e.prototype.convertBytes=function(t){return new ty(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vm(this.firestore,null,e)},e}(Yy),Jy=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=cy(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=tv(t,this._firestore),i=Zy(r._converter,e,n),o=ly(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Sl.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=tv(t,this._firestore);return o="string"==typeof(e=Object(vi.g)(e))||e instanceof Jm?vy(this._dataReader,"WriteBatch.update",s._key,e,n,r):yy(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Sl.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=tv(t,this._firestore);return this._mutations=this._mutations.concat(new Vl(e._key,Sl.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ou(Tu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function tv(t,e){if((t=Object(vi.g)(t)).firestore!==e)throw new Ou(Tu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ev=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return _u(e,t),e.prototype.convertBytes=function(t){return new ty(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vm(this.firestore,null,e)},e}(Yy);function nv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=jm(t,Vm);var o=jm(t.firestore,Wm),s=cy(o);return iv(o,[("string"==typeof(e=Object(vi.g)(e))||e instanceof Jm?vy(s,"updateDoc",t._key,e,n,r):yy(s,"updateDoc",t._key,e)).toMutation(t._key,Sl.exists(!0))])}function rv(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(vi.g)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||$m(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if($m(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Vm)c=jm(t.firestore,Wm),l=Kc(t._key.path),u={next:function(e){i[a]&&i[a](ov(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=jm(t,Um);c=jm(d.firestore,Wm),l=d._query;var p=new ev(c);u={next:function(t){i[a]&&i[a](new jy(c,p,d,t))},error:i[a+1],complete:i[a+2]},Fy(t._query)}return function(t,e,n,r){var i=this,o=new sm(r),s=new mg(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Eu(i,void 0,void 0,(function(){var e;return Cu(this,(function(n){switch(n.label){case 0:return e=hg,[4,vm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Eu(i,void 0,void 0,(function(){var e;return Cu(this,(function(n){switch(n.label){case 0:return e=fg,[4,vm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Qm(c),l,h,u)}function iv(t,e){return function(t,e){var n=this,r=new mf;return t.asyncQueue.enqueueAndForget((function(){return Eu(n,void 0,void 0,(function(){var n;return Cu(this,(function(i){switch(i.label){case 0:return n=xg,[4,ym(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Qm(t),e)}function ov(t,e,n){var r=n.docs.get(e._key),i=new ev(t);return new Ry(t,i,e._key,r,new Dy(n.hasPendingWrites,n.fromCache),e._converter)}var sv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return _u(e,t),e.prototype.get=function(e){var n=this,r=tv(e,this._firestore),i=new ev(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Ry(n._firestore,i,r._key,t._document,new Dy(!1,!1),r._converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=cy(t)}return t.prototype.get=function(t){var e=this,n=tv(t,this._firestore),r=new Xy(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Pu();var i=t[0];if(i.isFoundDocument())return new Ay(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new Ay(e._firestore,r,n._key,null,n._converter);throw Pu()}))},t.prototype.set=function(t,e,n){var r=tv(t,this._firestore),i=Zy(r._converter,e,n),o=ly(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=tv(t,this._firestore);return o="string"==typeof(e=Object(vi.g)(e))||e instanceof Jm?vy(this._dataReader,"Transaction.update",s._key,e,n,r):yy(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=tv(t,this._firestore);return this._transaction.delete(e._key),this},t}());function av(){if("undefined"==typeof Uint8Array)throw new Ou(Tu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function uv(){if("undefined"==typeof atob)throw new Ou(Tu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var cv=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return uv(),new t(ty.fromBase64String(e))},t.fromUint8Array=function(e){return av(),new t(ty.fromUint8Array(e))},t.prototype.toBase64=function(){return uv(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return av(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),lv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Xm(t=jm(t,Wm));var n=Qm(t),r=t._freezeSettings(),i=new om;return Zm(n,i,new rm(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Xm(t=jm(t,Wm));var e=Qm(t),n=t._freezeSettings(),r=new om;return Zm(e,r,new im(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ou(Tu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new mf;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Eu(e,void 0,void 0,(function(){var e;return Cu(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Eu(this,void 0,void 0,(function(){return Cu(this,(function(e){switch(e.label){case 0:return bf.yt()?[4,bf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Nd(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),hv=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Em||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=jm(t,Fm))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Du("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Eu(e,void 0,void 0,(function(){var e,n;return Cu(this,(function(r){switch(r.label){case 0:return[4,pm(t)];case 1:return e=r.sent(),[4,mm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Mu(t);return e.$r.delete(0),Rp(e)}(n))]}}))}))}))}(Qm(jm(this._delegate,Wm)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Eu(e,void 0,void 0,(function(){var e,n;return Cu(this,(function(r){switch(r.label){case 0:return[4,pm(t)];case 1:return e=r.sent(),[4,mm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Eu(this,void 0,void 0,(function(){var e;return Cu(this,(function(n){switch(n.label){case 0:return(e=Mu(t)).$r.add(0),[4,Pp(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Qm(jm(this._delegate,Wm)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&km("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new mf;return t.asyncQueue.enqueueAndForget((function(){return Eu(e,void 0,void 0,(function(){var e;return Cu(this,(function(r){switch(r.label){case 0:return e=Pg,[4,ym(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Qm(jm(this._delegate,Wm)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new sm(e);return t.asyncQueue.enqueueAndForget((function(){return Eu(n,void 0,void 0,(function(){var e;return Cu(this,(function(n){switch(n.label){case 0:return e=function(t,e){Mu(t).Gr.add(e),e.next()},[4,vm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Eu(n,void 0,void 0,(function(){var e;return Cu(this,(function(n){switch(n.label){case 0:return e=function(t,e){Mu(t).Gr.delete(e)},[4,vm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Qm(t=jm(t,Wm)),$m(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Ou(Tu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Iv(this,Hm(this._delegate,t))}catch(t){throw yv(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new mv(this,Bm(this._delegate,t))}catch(t){throw yv(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Ev(this,function(t,e){if(t=jm(t,Fm),Am("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ou(Tu.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Um(t,null,function(t){return new zc(Wu.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw yv(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new mf;return t.asyncQueue.enqueueAndForget((function(){return Eu(n,void 0,void 0,(function(){var n;return Cu(this,(function(i){switch(i.label){case 0:return[4,function(t){return dm(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new um(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Qm(t),(function(n){return e(new sv(t,n))}))}(this._delegate,(function(n){return t(new dv(e,n))}))},t.prototype.batch=function(){var t=this;return Qm(this._delegate),new pv(new Jy(this._delegate,(function(e){return iv(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Ou(Tu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Ou(Tu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),fv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return _u(e,t),e.prototype.convertBytes=function(t){return new cv(new ty(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return mv.Zc(e,this.firestore,null)},e}(Yy),dv=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new fv(t)}return t.prototype.get=function(t){var e=this,n=Tv(t);return this._delegate.get(n).then((function(t){return new wv(e._firestore,new Ry(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))}))},t.prototype.set=function(t,e,n){var r=Tv(t);return n?(Nm("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Tv(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Su([s,e,n],i)),this},t.prototype.delete=function(t){var e=Tv(t);return this._delegate.delete(e),this},t}(),pv=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Tv(t);return n?(Nm("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Tv(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Su([s,e,n],i)),this},t.prototype.delete=function(t){var e=Tv(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),gv=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Py(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new _v(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new fv(e),n),i.set(n,o)),o},t}();gv.eu=new WeakMap;var mv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new fv(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Ou(Tu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Vm(n._delegate,r,new uc(e)))},t.Zc=function(e,n,r){return new t(n,new Vm(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Iv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Iv(this.firestore,Hm(this._delegate,t))}catch(t){throw yv(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(vi.g)(t))instanceof Vm&&zm(this._delegate,t)},t.prototype.set=function(t,e){e=Nm("DocumentReference.set",e);try{return function(t,e,n){t=jm(t,Vm);var r=jm(t.firestore,Wm),i=Zy(t._converter,e,n);return iv(r,[ly(cy(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Sl.none())])}(this._delegate,t,e)}catch(t){throw yv(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?nv(this._delegate,t):nv.apply(void 0,Su([this._delegate,t,e],n))}catch(t){throw yv(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return iv(jm((t=this._delegate).firestore,Wm),[new Vl(t._key,Sl.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vv(e),i=bv(e,(function(e){return new wv(t.firestore,new Ry(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}));return rv(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jm(t,Vm);var e=jm(t.firestore,Wm),n=Qm(e),r=new ev(e);return function(t,e){var n=this,r=new mf;return t.asyncQueue.enqueueAndForget((function(){return Eu(n,void 0,void 0,(function(){var n;return Cu(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Eu(this,void 0,void 0,(function(){var r,i;return Cu(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Mu(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ou(Tu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=og(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,gm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Ry(e,r,t._key,n,new Dy(null!==n&&n.hasLocalMutations,!0),t._converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jm(t,Vm);var e=jm(t.firestore,Wm);return bm(Qm(e),t._key,{source:"server"}).then((function(n){return ov(e,t,n)}))}(this._delegate):function(t){t=jm(t,Vm);var e=jm(t.firestore,Wm);return bm(Qm(e),t._key).then((function(n){return ov(e,t,n)}))}(this._delegate)).then((function(t){return new wv(e.firestore,new Ry(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?gv.tu(this.firestore,e):null))},t}();function yv(t,e,n){return t.message=t.message.replace(e,n),t}function vv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!$m(r))return r}return{}}function bv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=$m(t[0])?t[0]:$m(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var wv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new mv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Ly(this._delegate,t._delegate)},t}(),_v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _u(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(wv),Ev=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new fv(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Uy(this._delegate,function(t,e,n){var r=e,i=ky("where",t);return new qy(i,r,n)}(e,n,r)))}catch(e){throw yv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Uy(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=ky("orderBy",t);return new Hy(r,n)}(e,n)))}catch(e){throw yv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Uy(this._delegate,function(t){return Mm("limit",t),new By("limit",t,"F")}(e)))}catch(e){throw yv(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Uy(this._delegate,function(t){return Mm("limitToLast",t),new By("limitToLast",t,"L")}(e)))}catch(e){throw yv(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Uy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zy("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw yv(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Uy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zy("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw yv(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Uy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gy("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw yv(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Uy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gy("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw yv(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Gm(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jm(t,Um);var e=jm(t.firestore,Wm),n=Qm(e),r=new ev(e);return function(t,e){var n=this,r=new mf;return t.asyncQueue.enqueueAndForget((function(){return Eu(n,void 0,void 0,(function(){var n;return Cu(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Eu(this,void 0,void 0,(function(){var r,i,o,s,a;return Cu(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Gd(t,e,!0)];case 1:return a=u.sent(),r=new _g(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=og(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,gm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new jy(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jm(t,Um);var e=jm(t.firestore,Wm),n=Qm(e),r=new ev(e);return wm(n,t._query,{source:"server"}).then((function(n){return new jy(e,r,t,n)}))}(this._delegate):function(t){t=jm(t,Um);var e=jm(t.firestore,Wm),n=Qm(e),r=new ev(e);return Fy(t._query),wm(n,t._query).then((function(n){return new jy(e,r,t,n)}))}(this._delegate)).then((function(t){return new Sv(e.firestore,new jy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vv(e),i=bv(e,(function(e){return new Sv(t.firestore,new jy(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return rv(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?gv.tu(this.firestore,e):null))},t}(),Cv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new _v(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Sv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Ev(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new _v(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Cv(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new _v(n._firestore,r))}))},t.prototype.isEqual=function(t){return Ly(this._delegate,t._delegate)},t}(),Iv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return _u(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new mv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new mv(this.firestore,void 0===t?Bm(this._delegate):Bm(this._delegate,t))}catch(t){throw yv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=jm(t.firestore,Wm),r=Bm(t),i=Zy(t._converter,e);return iv(n,[ly(cy(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Sl.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new mv(e.firestore,t)}))},e.prototype.isEqual=function(t){return zm(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?gv.tu(this.firestore,t):null))},e}(Ev);function Tv(t){return jm(t,Vm)}var Ov,xv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Jm.bind.apply(Jm,Su([void 0],t)))}return t.documentId=function(){return new t(Yu.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(vi.g)(t))instanceof Jm&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Av=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new dy("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new hy("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new py("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gy("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new my("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Nv=n("/6Yf"),kv={Firestore:hv,GeoPoint:ny,Timestamp:Hu,Blob:cv,Transaction:dv,WriteBatch:pv,DocumentReference:mv,DocumentSnapshot:wv,Query:Ev,QueryDocumentSnapshot:_v,QuerySnapshot:Sv,CollectionReference:Iv,FieldPath:xv,FieldValue:Av,setLogLevel:function(t){xu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Nv.a("firestore",(function(t){return function(t,e){return new hv(t,new Wm(t,e),new lv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},kv)))})(Ov=yi.a),Ov.registerVersion("@firebase/firestore","2.2.4"),n("VRyK"),n("qgXg"),n("Ylt2"),n("tf+s");const Dv=new r.q("angularfire2.auth.use-emulator");function Rv(t,e){return function(t,e=ui.a){return new vt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Pv(t,e){return Rv(t,e).pipe(Object(Nt.a)(t=>({payload:t,type:"query"})))}function jv(t,e){return Pv(t,e).pipe(he(void 0),ci(),Object(Nt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Mv(t,e,n){return jv(t,n).pipe(fe((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Lv(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Lv(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Lv(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new fi(void 0,void 0)),Object(Nt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Lv(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Fv(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Vv{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=jv(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Nt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(he(void 0),ci(),Pt(([t,e])=>e.length>0||!t),Object(Nt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(fe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Fv(t);return Mv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Pv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Nt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(pt.a)(this.query.get(t)).pipe(Object(pi.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Uv(this.ref.doc(t),this.afs)}}class Uv{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Kv(n,e);return new Vv(r,i,this.afs)}snapshotChanges(){return Rv(this.ref,this.afs.schedulers.outsideAngular).pipe(he(void 0),ci(),Object(Nt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Nt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(pt.a)(this.ref.get(t)).pipe(Object(pi.b)(this.afs.schedulers.insideAngular))}}class qv{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?jv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Nt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Pt(t=>t.length>0),this.afs.keepUnstableUntilFirst):jv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(fe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Fv(t);return Mv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Pv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Nt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(pt.a)(this.query.get(t)).pipe(Object(pi.b)(this.afs.schedulers.insideAngular))}}const Hv=new r.q("angularfire2.enableFirestorePersistence"),Bv=new r.q("angularfire2.firestore.persistenceSettings"),zv=new r.q("angularfire2.firestore.settings"),Gv=new r.q("angularfire2.firestore.use-emulator");function Kv(t,e=(t=>t)){return{query:e(t),ref:t}}let $v=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new gi.d(o),this.keepUnstableUntilFirst=Object(gi.h)(this.schedulers);const c=Object(gi.g)(t,o,e);!mi.a.auth&&u&&Object(gi.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(gi.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return Object(pt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Ov){return"undefined"!=typeof console&&console.warn(Ov),Object(dt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(dt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Kv(n,e),o=this.schedulers.ngZone.run(()=>r);return new Vv(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new qv(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Uv(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(gi.c),r.Rb(gi.b,8),r.Rb(Hv,8),r.Rb(zv,8),r.Rb(r.B),r.Rb(r.z),r.Rb(Bv,8),r.Rb(Gv,8),r.Rb(Dv,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(gi.c),Object(r.Rb)(gi.b,8),Object(r.Rb)(Hv,8),Object(r.Rb)(zv,8),Object(r.Rb)(r.B),Object(r.Rb)(r.z),Object(r.Rb)(Bv,8),Object(r.Rb)(Gv,8),Object(r.Rb)(Dv,8))},token:t,providedIn:"any"}),t})(),Wv=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Hv,useValue:!0},{provide:Bv,useValue:e}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[$v]}),t})(),Qv=(()=>{class t{constructor(t){this.firestore=t}getProjects(){return this.firestore.collection("projects").snapshotChanges().pipe(Object(Nt.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,this.getProjectImages(e.id).subscribe(t=>e.images=t),e})))}getProjectById(t){return this.firestore.collection("projects").doc(t).snapshotChanges().pipe(Object(Nt.a)(e=>{const n=e.payload.data();return n.id=e.payload.id,this.getProjectTeam(t).subscribe(t=>n.teams=t),this.getProjectImages(t).subscribe(t=>n.images=t),n}))}getProjectTeam(t){return this.firestore.collection("projects").doc(t).collection("teams").snapshotChanges().pipe(Object(Nt.a)(t=>t.map(t=>t.payload.doc.data())))}getProjectImages(t){return this.firestore.collection("projects").doc(t).collection("images").snapshotChanges().pipe(Object(Nt.a)(t=>t.map(t=>t.payload.doc.data())))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb($v))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Yv=(()=>{class t{constructor(t){this.firestore=t,this.AboutMeInfo=null,this.aboutMe().subscribe(t=>{this.AboutMeInfo=t[0]})}getExperiences(){return this.firestore.collection("experience").snapshotChanges().pipe(Object(Nt.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}aboutMe(){return this.firestore.collection("aboutme").snapshotChanges().pipe(Object(Nt.a)(t=>t.map(t=>t.payload.doc.data())))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb($v))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zv(t,e){if(1&t&&r.Lb(0,"img",6),2&t){const t=r.Xb();r.Zb("src",null==t.project?null:t.project.thumbnail,r.dc)}}let Xv=(()=>{class t{constructor(){this.project=null}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["project-card"]],inputs:{project:"project"},decls:10,vars:5,consts:[[1,"card",3,"routerLink"],["alt","",3,"src",4,"ngIf"],[1,"description"],[1,"text"],[1,"more"],[3,"routerLink"],["alt","",3,"src"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.fc(1,Zv,1,1,"img",1),r.Nb(2,"div",2),r.Nb(3,"h4"),r.gc(4),r.Mb(),r.Nb(5,"p",3),r.gc(6),r.Mb(),r.Nb(7,"p",4),r.Nb(8,"a",5),r.gc(9," See All "),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.ac("routerLink","/project/",null==e.project?null:e.project.id,""),r.Ab(1),r.Yb("ngIf",null==e.project?null:e.project.thumbnail),r.Ab(3),r.ic(" ",null==e.project?null:e.project.name," "),r.Ab(2),r.ic(" ",null==e.project?null:e.project.description," "),r.Ab(2),r.ac("routerLink","/project/",null==e.project?null:e.project.id,""))},directives:[Fr,D,Vr],styles:[".card[_ngcontent-%COMP%]{max-width:264px;width:100%;border:none;margin:auto}.card[_ngcontent-%COMP%]:hover{cursor:pointer}.card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;font-size:18px;color:#444}.card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:16px;line-height:26px;padding:15px 0}.card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{max-height:150px;overflow:hidden}"]}),t})(),Jv=(()=>{class t{constructor(){this.experience=null}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["experience-card"]],inputs:{experience:"experience"},decls:7,vars:3,consts:[[1,"card"],[1,"position"],[1,"duration"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"h6"),r.gc(2),r.Mb(),r.Nb(3,"p",1),r.gc(4),r.Mb(),r.Nb(5,"p",2),r.gc(6),r.Mb(),r.Mb()),2&t&&(r.Ab(2),r.ic(" ",null==e.experience?null:e.experience.company," "),r.Ab(2),r.ic(" ",null==e.experience?null:e.experience.position," "),r.Ab(2),r.ic(" ",null==e.experience?null:e.experience.duration," "))},styles:[".card[_ngcontent-%COMP%]{border:none;margin:auto;width:264px}.card[_ngcontent-%COMP%]:hover{cursor:pointer;color:#444}"]}),t})();function tb(t,e){if(1&t&&(r.Nb(0,"div",14),r.gc(1),r.Mb()),2&t){const t=e.$implicit;r.Ab(1),r.ic("",t," ")}}function eb(t,e){1&t&&r.Lb(0,"project-card",15),2&t&&r.Yb("project",e.$implicit)}function nb(t,e){1&t&&r.Lb(0,"experience-card",16),2&t&&r.Yb("experience",e.$implicit)}let rb=(()=>{class t{constructor(t,e){this.projectService=t,this.experienceService=e,this.projects=[],this.experiences=[],this.aboutMe=null}ngOnInit(){this.loadAboutMeInfo(),this.loadExperience(),this.loadProjects()}loadProjects(){this.projectService.getProjects().subscribe(t=>{this.projects=t})}loadExperience(){this.experienceService.getExperiences().subscribe(t=>{this.experiences=t})}loadAboutMeInfo(){this.aboutMe=this.experienceService.AboutMeInfo}scrollToForm(){window.scrollTo(0,document.body.scrollHeight)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Qv),r.Kb(Yv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-home"]],decls:25,vars:6,consts:[[1,"container"],["alt","Avatar",1,"avatar",3,"src"],[1,"black"],["target","_blank",1,"resume_ref",3,"href"],["id","laptop",1,"fas","fa-laptop-code"],[1,"chip_container"],["class","chip",4,"ngFor","ngForOf"],[1,"contact_me"],[3,"click"],[1,"projects","row"],["class","col",3,"project",4,"ngFor","ngForOf"],[1,"experience"],[1,"row","mt-4"],["class","col",3,"experience",4,"ngFor","ngForOf"],[1,"chip"],[1,"col",3,"project"],[1,"col",3,"experience"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div"),r.Lb(2,"img",1),r.Nb(3,"div"),r.Nb(4,"h2",2),r.gc(5,"Welcome to my Portfolio \u{1f44b}"),r.Mb(),r.Nb(6,"p"),r.gc(7),r.Nb(8,"a",3),r.gc(9,".docx"),r.Mb(),r.Mb(),r.Nb(10,"h4",2),r.gc(11,"My knowledge: "),r.Lb(12,"i",4),r.Mb(),r.Nb(13,"div",5),r.fc(14,tb,2,1,"div",6),r.Mb(),r.Nb(15,"p",7),r.Nb(16,"a",8),r.Vb("click",(function(){return e.scrollToForm()})),r.gc(17," Contact Me "),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(18,"div",9),r.fc(19,eb,1,1,"project-card",10),r.Mb(),r.Nb(20,"div",11),r.Nb(21,"h4",2),r.gc(22," Experience "),r.Mb(),r.Nb(23,"div",12),r.fc(24,nb,1,1,"experience-card",13),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(2),r.Zb("src",null==e.experienceService||null==e.experienceService.AboutMeInfo?null:e.experienceService.AboutMeInfo.avatar,r.dc),r.Ab(5),r.ic(" ",null==e.experienceService||null==e.experienceService.AboutMeInfo?null:e.experienceService.AboutMeInfo.info," "),r.Ab(1),r.Zb("href",null==e.experienceService||null==e.experienceService.AboutMeInfo?null:e.experienceService.AboutMeInfo.resume,r.dc),r.Ab(6),r.Yb("ngForOf",null==e.experienceService||null==e.experienceService.AboutMeInfo?null:e.experienceService.AboutMeInfo.knowledge),r.Ab(5),r.Yb("ngForOf",e.projects),r.Ab(5),r.Yb("ngForOf",e.experiences))},directives:[N,Xv,Jv],styles:[".container[_ngcontent-%COMP%]{padding:15px}.container[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:100px;margin:10px 0}.container[_ngcontent-%COMP%]   .resume_ref[_ngcontent-%COMP%]{color:#fff;background-color:#1a73e8;border:1px solid transparent;border-radius:4px;font-family:Google Sans,Roboto,RobotoDraft,Helvetica,Arial,sans-serif;font-weight:500;font-size:13px;height:21px;line-height:21px;margin:0 10px 0 0;padding:2px 5px 2px 4px;text-transform:uppercase}.container[_ngcontent-%COMP%]   .resume_ref[_ngcontent-%COMP%]:hover{text-decoration:none}.container[_ngcontent-%COMP%]   .chip_container[_ngcontent-%COMP%]{margin:15px 0}.container[_ngcontent-%COMP%]   .chip_container[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{margin-right:10px;display:inline-block;padding:0 25px;height:30px;font-size:16px;line-height:30px;border-radius:5px;background-color:#f1f1f1;margin-top:5px}.container[_ngcontent-%COMP%]   .chip_container[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]:hover{cursor:pointer;color:#444}.container[_ngcontent-%COMP%]   #laptop[_ngcontent-%COMP%]{color:#1a73e8}.container[_ngcontent-%COMP%]   .contact_me[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:20px;-webkit-text-decoration-line:underline;text-decoration-line:underline;margin-top:10px}.container[_ngcontent-%COMP%]   .contact_me[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;color:#444}.container[_ngcontent-%COMP%]   .projects[_ngcontent-%COMP%]{margin:12% auto auto}.container[_ngcontent-%COMP%]   .experience[_ngcontent-%COMP%]{margin:5% auto auto}.container[_ngcontent-%COMP%]   .black[_ngcontent-%COMP%]{color:#444}"]}),t})(),ib=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-not-found"]],decls:5,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"h1"),r.gc(2,"404"),r.Mb(),r.Nb(3,"p"),r.gc(4,"Page not found"),r.Mb(),r.Mb())},styles:[".container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:8.5rem}"]}),t})();function ob(t,e){if(1&t&&(r.Nb(0,"div"),r.gc(1),r.Mb()),2&t){const t=e.$implicit;r.Ab(1),r.jc(" ",null==t?null:t.name," - ",null==t?null:t.position," ")}}function sb(t,e){if(1&t&&(r.Nb(0,"div",11),r.Nb(1,"div",12),r.Nb(2,"div",13),r.gc(3,"Team"),r.Mb(),r.fc(4,ob,2,2,"div",10),r.Mb(),r.Mb()),2&t){const t=r.Xb();r.Ab(4),r.Yb("ngForOf",null==t.project?null:t.project.teams)}}function ab(t,e){if(1&t&&(r.Nb(0,"div",14),r.Nb(1,"div",12),r.Nb(2,"div",13),r.gc(3,"My Role"),r.Mb(),r.Nb(4,"div"),r.gc(5),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Xb();r.Ab(5),r.hc(null==t.project?null:t.project.role)}}function ub(t,e){if(1&t&&(r.Nb(0,"div",15),r.Nb(1,"div",12),r.Nb(2,"div",13),r.gc(3,"Goals"),r.Mb(),r.Nb(4,"div"),r.gc(5),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Xb();r.Ab(5),r.hc(null==t.project?null:t.project.goal)}}function cb(t,e){if(1&t&&(r.Nb(0,"div"),r.Lb(1,"img",16),r.Mb()),2&t){const t=e.$implicit;r.Ab(1),r.Zb("src",t.url,r.dc)}}const lb=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:rb},{path:"project/:id",component:(()=>{class t{constructor(t,e,n){this.projectService=t,this.experienceService=e,this.activateRoute=n,this.project=null}ngOnInit(){this.loadProjectInfo()}loadProjectInfo(){this.projectService.getProjectById(this.activateRoute.snapshot.params.id).subscribe(t=>{this.project=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Qv),r.Kb(Yv),r.Kb(An))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-project-info"]],decls:18,vars:7,consts:[[1,"container"],["routerLink","/home"],["aria-hidden","true",1,"fa","fa-arrow-left"],["alt","Avatar",1,"project_icon",3,"src"],[1,"black"],[1,"project_infos","row"],["class","project_team col",4,"ngIf"],["class","my_role col",4,"ngIf"],["class","goals col",4,"ngIf"],[1,"project_images"],[4,"ngFor","ngForOf"],[1,"project_team","col"],[1,"item"],[1,"header","black"],[1,"my_role","col"],[1,"goals","col"],["alt","",3,"src"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div"),r.Nb(2,"a",1),r.Lb(3,"i",2),r.gc(4," Back to home "),r.Mb(),r.Nb(5,"div"),r.Lb(6,"img",3),r.Nb(7,"div"),r.Nb(8,"h2",4),r.gc(9),r.Mb(),r.Nb(10,"p"),r.gc(11),r.Mb(),r.Mb(),r.Mb(),r.Nb(12,"div",5),r.fc(13,sb,5,1,"div",6),r.fc(14,ab,6,1,"div",7),r.fc(15,ub,6,1,"div",8),r.Mb(),r.Nb(16,"div",9),r.fc(17,cb,2,1,"div",10),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(6),r.Zb("src",null==e.experienceService||null==e.experienceService.AboutMeInfo?null:e.experienceService.AboutMeInfo.avatar,r.dc),r.Ab(3),r.ic(" Welcome to '",null==e.project?null:e.project.name,"' "),r.Ab(2),r.ic(" ",null==e.project?null:e.project.description," "),r.Ab(2),r.Yb("ngIf",null==e.project?null:e.project.teams),r.Ab(1),r.Yb("ngIf",null==e.project?null:e.project.role),r.Ab(1),r.Yb("ngIf",null==e.project?null:e.project.goal),r.Ab(2),r.Yb("ngForOf",null==e.project?null:e.project.images))},directives:[Vr,D,N],styles:[".container[_ngcontent-%COMP%]{padding:15px}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px;margin-top:5%}.container[_ngcontent-%COMP%]   .project_icon[_ngcontent-%COMP%]{width:100px;margin:10px 0}.container[_ngcontent-%COMP%]   .project_infos[_ngcontent-%COMP%]{margin-top:10%}.container[_ngcontent-%COMP%]   .project_infos[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:264px;margin-top:5px}.container[_ngcontent-%COMP%]   .project_images[_ngcontent-%COMP%]{text-align:center;margin-top:5%}.container[_ngcontent-%COMP%]   .project_images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:800px;width:100%;margin:20px 0}.container[_ngcontent-%COMP%]   .black[_ngcontent-%COMP%]{color:#444}"]}),t})()},{path:"404",component:ib},{path:"**",redirectTo:"/404"}];let hb=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[Jr.forRoot(lb)],Jr]}),t})();var fb=n("XoHu");function db(t,e){return new vt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(pt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const pb=new r.q("NgValueAccessor"),gb={provide:pb,useExisting:Object(r.T)(()=>mb),multi:!0};let mb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([gb])]}),t})();const yb={provide:pb,useExisting:Object(r.T)(()=>bb),multi:!0},vb=new r.q("CompositionEventMode");let bb=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l),r.Kb(vb,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Vb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.zb([yb])]}),t})(),wb=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})(),_b=(()=>{class t extends wb{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Eb(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.xb]}),t})();const Eb=r.Pb(_b);function Cb(){throw new Error("unimplemented")}class Sb extends wb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Cb()}get asyncValidator(){return Cb()}}class Ib{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Tb=(()=>{class t extends Ib{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Sb,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})(),Ob=(()=>{class t extends Ib{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(_b,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})();function xb(t){return null==t||0===t.length}const Ab=new r.q("NgValidators"),Nb=new r.q("NgAsyncValidators"),kb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Db{static min(t){return e=>{if(xb(e.value)||xb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(xb(e.value)||xb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return xb(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return xb(t.value)||kb.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(xb(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Db.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(xb(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Rb);return 0==e.length?null:function(t){return jb(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Rb);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(_t.a)(e))return db(e,null);if(Object(fb.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return db(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return db(t=1===t.length&&Object(_t.a)(t[0])?t[0]:t,null).pipe(Object(Nt.a)(t=>e(...t)))}return db(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(Pb)).pipe(Object(Nt.a)(jb))}}}function Rb(t){return null!=t}function Pb(t){const e=Object(r.rb)(t)?Object(pt.a)(t):t;if(!Object(r.qb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function jb(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Mb(t){return t.validate?e=>t.validate(e):t}function Lb(t){return t.validate?e=>t.validate(e):t}const Fb={provide:pb,useExisting:Object(r.T)(()=>Vb),multi:!0};let Vb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([Fb])]}),t})();const Ub={provide:pb,useExisting:Object(r.T)(()=>Hb),multi:!0};let qb=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Hb=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Sb),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l),r.Kb(qb),r.Kb(r.r))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([Ub])]}),t})();const Bb={provide:pb,useExisting:Object(r.T)(()=>zb),multi:!0};let zb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([Bb])]}),t})();const Gb='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Kb='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });';class $b{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Gb)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Kb}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Gb)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Kb)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const Wb={provide:pb,useExisting:Object(r.T)(()=>Qb),multi:!0};let Qb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.sb}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([Wb])]}),t})();const Yb={provide:pb,useExisting:Object(r.T)(()=>Zb),multi:!0};let Zb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.sb}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([Yb])]}),t})();function Xb(t,e){return[...e.path,t]}function Jb(t,e){t||rw(e,"Cannot find control with"),e.valueAccessor||rw(e,"No value accessor for form control with"),t.validator=Db.compose([t.validator,e.validator]),t.asyncValidator=Db.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&tw(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&tw(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function tw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ew(t,e){null==t&&rw(e,"Cannot find control with"),t.validator=Db.compose([t.validator,e.validator]),t.asyncValidator=Db.composeAsync([t.asyncValidator,e.asyncValidator])}function nw(t){return rw(t,"There is no FormControl instance attached to form control element with")}function rw(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function iw(t){return null!=t?Db.compose(t.map(Mb)):null}function ow(t){return null!=t?Db.composeAsync(t.map(Lb)):null}const sw=[mb,zb,Vb,Qb,Zb,Hb];function aw(t){const e=cw(t)?t.validators:t;return Array.isArray(e)?iw(e):e||null}function uw(t,e){const n=cw(e)?e.asyncValidators:t;return Array.isArray(n)?ow(n):n||null}function cw(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class lw{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=aw(t)}setAsyncValidators(t){this.asyncValidator=uw(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=Pb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof fw?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof dw&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class hw extends lw{constructor(t=null,e,n){super(aw(e),uw(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class fw extends lw{constructor(t,e,n){super(aw(e),uw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof hw?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class dw extends lw{constructor(t,e,n){super(aw(e),uw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof hw?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let pw=(()=>{class t extends _b{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Xb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return iw(this._validators)}get asyncValidator(){return ow(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return gw(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.xb]}),t})();const gw=r.Pb(pw);let mw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const yw=new r.q("NgModelWithFormControlWarning"),vw={provide:_b,useExisting:Object(r.T)(()=>bw)};let bw=(()=>{class t extends _b{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Jb(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);ew(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);ew(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>nw(e)),e.valueAccessor.registerOnTouched(()=>nw(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Jb(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=iw(this._validators);this.form.validator=Db.compose([this.form.validator,t]);const e=ow(this._asyncValidators);this.form.asyncValidator=Db.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||$b.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ab,10),r.Kb(Nb,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Vb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([vw]),r.xb,r.yb]}),t})();const ww={provide:_b,useExisting:Object(r.T)(()=>_w)};let _w=(()=>{class t extends pw{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){Sw(this._parent)&&$b.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(_b,13),r.Kb(Ab,10),r.Kb(Nb,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.zb([ww]),r.xb]}),t})();const Ew={provide:_b,useExisting:Object(r.T)(()=>Cw)};let Cw=(()=>{class t extends _b{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Xb(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return iw(this._validators)}get asyncValidator(){return ow(this._asyncValidators)}_checkParentType(){Sw(this._parent)&&$b.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(_b,13),r.Kb(Ab,10),r.Kb(Nb,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.zb([Ew]),r.xb]}),t})();function Sw(t){return!(t instanceof _w||t instanceof bw||t instanceof Cw)}const Iw={provide:Sb,useExisting:Object(r.T)(()=>Tw)};let Tw=(()=>{class t extends Sb{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||rw(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===bb?n=e:(o=e,sw.some(t=>o.constructor===t)?(r&&rw(t,"More than one built-in value accessor matches form control with"),r=e):(i&&rw(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(rw(t,"No valid value accessor for form control with"),null)}(this,i)}set isDisabled(t){$b.disabledAttrWarning()}ngOnChanges(e){var n,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object(r.sb)(e,n.currentValue)}(e,this.viewModel)&&("formControlName",n=t,this,i=this._ngModelWarningConfig,Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||($b.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Xb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return iw(this._rawValidators)}get asyncValidator(){return ow(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof _w)&&this._parent instanceof pw?$b.ngModelGroupException():this._parent instanceof _w||this._parent instanceof bw||this._parent instanceof Cw||$b.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(_b,13),r.Kb(Ab,10),r.Kb(Nb,10),r.Kb(pb,10),r.Kb(yw,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([Iw]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})(),Ow=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),xw=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new fw(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new hw(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new dw(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof hw||t instanceof fw||t instanceof dw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Aw=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:yw,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[xw,qb],imports:[Ow]}),t})();var Nw=n("D5Hz"),kw=n.n(Nw);function Dw(t,e){1&t&&(r.Nb(0,"div",5),r.Nb(1,"div",6),r.Nb(2,"span",7),r.gc(3,"Loading..."),r.Mb(),r.Mb(),r.Mb())}function Rw(t,e){if(1&t){const t=r.Ob();r.Nb(0,"form",8),r.Vb("submit",(function(e){return r.cc(t),r.Xb().onSubmit(e)})),r.Nb(1,"div",9),r.Nb(2,"label",10),r.gc(3,"Name"),r.Mb(),r.Lb(4,"input",11),r.Mb(),r.Nb(5,"div",9),r.Nb(6,"label",12),r.gc(7,"Email address"),r.Mb(),r.Lb(8,"input",13),r.Mb(),r.Nb(9,"div",9),r.Nb(10,"label",14),r.gc(11,"Message"),r.Mb(),r.Lb(12,"textarea",15),r.Mb(),r.Nb(13,"button",16),r.Nb(14,"span"),r.gc(15,"Submit"),r.Mb(),r.Mb(),r.Mb()}if(2&t){const t=r.Xb();r.Yb("formGroup",t.contactForm),r.Ab(13),r.Yb("disabled",t.contactForm.invalid)}}let Pw=(()=>{class t{constructor(){this.showForm=!0,this.contactForm=new fw({name:new hw("",Db.required),email:new hw("",[Db.required,Db.email]),message:new hw("",Db.required)})}ngOnInit(){}onSubmit(t){t.preventDefault(),this.showForm=!1,kw.a.send("service_t2tpb5b","template_epsesbd",this.contactForm.value,"user_qeWZKXOCNYZDm9LLVKxMt").then(()=>{this.showForm=!0,this.contactForm.reset()},t=>{console.log(t.text)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["contact-form"]],decls:9,vars:2,consts:[[1,"contact"],["contact",""],[1,"header"],["class","spinner",4,"ngIf"],[3,"formGroup","submit",4,"ngIf"],[1,"spinner"],["role","status",1,"spinner-grow"],[1,"sr-only"],[3,"formGroup","submit"],[1,"form-group"],["for","name"],["type","text","name","user_name","formControlName","name","id","name","placeholder","Name",1,"form-control"],["for","email"],["type","email","name","user_email","id","email","formControlName","email","aria-describedby","Email","placeholder","Enter email",1,"form-control"],["for","description"],["formControlName","message","name","message","id","description","rows","3",1,"form-control"],["type","submit",1,"float-right",3,"disabled"]],template:function(t,e){1&t&&(r.Nb(0,"div",0,1),r.Nb(2,"div",2),r.Nb(3,"h4"),r.gc(4,"Looking for .NET Developer"),r.Mb(),r.Nb(5,"h6"),r.gc(6,"Send me details"),r.Mb(),r.Mb(),r.fc(7,Dw,4,0,"div",3),r.fc(8,Rw,16,2,"form",4),r.Mb()),2&t&&(r.Ab(7),r.Yb("ngIf",!e.showForm),r.Ab(1),r.Yb("ngIf",e.showForm))},directives:[D,mw,Ob,bw,bb,Tb,Tw],styles:[".contact[_ngcontent-%COMP%]{max-width:840px;width:100%;height:480px;background:#f9f9f9;border-radius:4px;margin:auto}.contact[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:15px}.contact[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#444}.contact[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{text-align:center}.contact[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:15px}.contact[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{outline:none;border:none;background:#f9f9f9;border-bottom:#444}.contact[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px solid #444}"]}),t})(),jw=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-footer"]],decls:16,vars:0,consts:[[1,"footer"],["id","contact"],[1,"icons"],["target","_blank","href","https://github.com/OleksandrRapiy"],["aria-hidden","true",1,"fa","fa-github"],["target","_blank","href",""],["aria-hidden","true",1,"fa","fa-instagram"],["aria-hidden","true",1,"fa","fa-twitter"],["aria-hidden","true",1,"fa","fa-linkedin"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Lb(2,"contact-form"),r.Mb(),r.Nb(3,"div",2),r.Nb(4,"a",3),r.Lb(5,"i",4),r.gc(6," GitHub"),r.Mb(),r.Nb(7,"a",5),r.Lb(8,"i",6),r.gc(9," Instagram"),r.Mb(),r.Nb(10,"a",5),r.Lb(11,"i",7),r.gc(12," Twitter"),r.Mb(),r.Nb(13,"a",5),r.Lb(14,"i",8),r.gc(15," LinekedIn"),r.Mb(),r.Mb(),r.Mb())},directives:[Pw],styles:[".footer[_ngcontent-%COMP%]{width:100%;min-height:50px;border-radius:4px;margin:auto}.footer[_ngcontent-%COMP%]   #contact[_ngcontent-%COMP%]{margin-top:12%}.footer[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{text-align:center;background:#f9f9f9}.footer[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:15px}.footer[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}"]}),t})(),Mw=(()=>{class t{constructor(){this.title="portfolio"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Lb(1,"router-outlet"),r.Lb(2,"app-footer"),r.Mb())},directives:[Br,jw],styles:[""]}),t})(),Lw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[j,hb,Aw]]}),t})(),Fw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[j,hb,Lw]]}),t})(),Vw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[Mw]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[],imports:[[ft,Fw,Lw,hb,gi.a.initializeApp(i),Wv]]}),t})();Object(r.S)(),lt().bootstrapModule(Vw).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);